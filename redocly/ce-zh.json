{"components":{"parameters":{"api_key.name":{"description":"^[A-Za-z]+[A-Za-z0-9-_]*$","example":"EMQX-API-KEY-1","in":"path","name":"name","required":true,"schema":{"type":"string"}},"cluster.node":{"description":"node name","example":"emqx2@127.0.0.1","in":"path","name":"node","required":true,"schema":{"type":"string"}},"emqx_authz_api_mnesia.clientid":{"description":"\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":"client1","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},"emqx_authz_api_mnesia.username":{"description":"\u7528\u6237\u540d","example":"user1","in":"path","name":"username","required":true,"schema":{"type":"string"}},"emqx_mgmt_api_nodes.node_name":{"description":"Node name","example":"emqx@127.0.0.1","in":"path","name":"node","required":true,"schema":{"type":"string"}},"emqx_mgmt_api_stats.aggregate":{"description":"Calculation aggregate for all nodes","example":false,"in":"query","name":"aggregate","required":false,"schema":{"type":"boolean"}},"listeners.listener_id":{"description":"Listener id","example":"tcp:demo","in":"path","name":"id","required":true,"schema":{"type":"string"}},"plugins.name":{"description":"^[A-Za-z]+[A-Za-z0-9-_.]*$","example":"emqx_plugin_template-5.0-rc.1","in":"path","name":"name","required":true,"schema":{"type":"string"}},"public.limit":{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}},"public.page":{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},"trace.bytes":{"description":"Maximum number of bytes to send in response","in":"query","maximum":2147483647,"minimum":0,"name":"bytes","required":false,"schema":{"default":1000,"maximum":2147483647,"minimum":0,"type":"integer"}},"trace.name":{"description":"[a-zA-Z0-9-_]","example":"EMQX-TRACE-1","in":"path","name":"name","required":true,"schema":{"type":"string"}},"trace.node":{"description":"Node name","example":"emqx@127.0.0.1","in":"query","name":"node","required":false,"schema":{"type":"string"}},"trace.position":{"description":"Offset from the current trace position.","in":"query","name":"position","required":false,"schema":{"default":0,"type":"integer"}}},"schemas":{"emqx_gateway_api.gateway_listener_overview":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["tcp","ssl","udp","dtls"],"type":"string"}},"type":"object"},"emqx_rule_api_schema.ctx_unsub":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["session_unsubscribed"],"type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"modules.rewrite":{"required":["re","dest_topic","source_topic","action"],"properties":{"action":{"description":"\u4e3b\u9898\u91cd\u5199\u5728\u54ea\u79cd\u64cd\u4f5c\u4e0a\u751f\u6548\uff1a<br/>  - `subscribe`\uff1a\u8ba2\u9605\u65f6\u91cd\u5199\u4e3b\u9898\uff1b<br/>  - `publish`\uff1a\u53d1\u5e03\u65f6\u91cd\u5199\u4e3b\u9898\uff1b<br/>  -`all`\uff1a\u5168\u90e8\u91cd\u5199\u4e3b\u9898","enum":["subscribe","publish","all"],"example":"publish","type":"string"},"source_topic":{"description":"\u6e90\u4e3b\u9898\uff0c\u5ba2\u6237\u7aef\u4e1a\u52a1\u6307\u5b9a\u7684\u4e3b\u9898","example":"x/#","type":"string"},"dest_topic":{"description":"\u76ee\u6807\u4e3b\u9898\u3002","example":"z/y/$1","type":"string"},"re":{"description":"\u6b63\u5219\u8868\u8fbe\u5f0f","example":"^x/y/(.+)$","type":"string"}},"type":"object"},"authz.node_status":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"status":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u72b6\u6001\u3002","enum":["connected","disconnected","connecting"],"type":"string"}},"type":"object"},"emqx_mgmt_api_publish.publish_ok":{"properties":{"id":{"description":"\u5168\u5c40\u552f\u4e00\u7684\u4e00\u4e2a\u6d88\u606f ID\uff0c\u65b9\u4fbf\u7528\u4e8e\u5173\u8054\u548c\u8ffd\u8e2a\u3002","type":"string"}},"type":"object"},"broker.listener_wss_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"fail_if_no_peer_cert":{"default":false,"description":"TLS/DTLS \u670d\u52a1\u5668\u4e0e {verify\uff0cverify_peer} \u4e00\u8d77\u4f7f\u7528\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u8981\u53d1\u9001\u7684\u8bc1\u4e66\uff0c\u5373\u53d1\u9001\u7a7a\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u5c06\u5931\u8d25\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u5219\u4ec5\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u65e0\u6548\u8bc1\u4e66\uff08\u7a7a\u8bc1\u4e66\u88ab\u89c6\u4e3a\u6709\u6548\u8bc1\u4e66\uff09\u65f6\u624d\u4f1a\u5931\u8d25\u3002","type":"boolean"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"}},"type":"object"},"broker.sysmon_os":{"properties":{"cpu_check_interval":{"default":"60s","description":"\u5b9a\u671f CPU \u68c0\u67e5\u7684\u65f6\u95f4\u95f4\u9694\u3002","example":"12m","type":"string"},"cpu_high_watermark":{"default":"80%","description":"\u5728\u53d1\u51fa\u76f8\u5e94\u8b66\u62a5\u4e4b\u524d\u53ef\u4ee5\u4f7f\u7528\u591a\u5c11\u7cfb\u7edf CPU \u7684\u9608\u503c\uff0c\u4ee5\u7cfb\u7edfCPU\u8d1f\u8f7d\u7684\u767e\u5206\u6bd4\u8868\u793a\u3002","example":"12%","type":"number"},"cpu_low_watermark":{"default":"60%","description":"\u5728\u89e3\u9664\u76f8\u5e94\u8b66\u62a5\u4e4b\u524d\u53ef\u4ee5\u4f7f\u7528\u591a\u5c11\u7cfb\u7edf CPU \u7684\u9608\u503c\uff0c\u4ee5\u7cfb\u7edfCPU\u8d1f\u8f7d\u7684\u767e\u5206\u6bd4\u8868\u793a\u3002","example":"12%","type":"number"},"mem_check_interval":{"default":"60s","description":"\u5b9a\u671f\u5185\u5b58\u68c0\u67e5\u7684\u65f6\u95f4\u95f4\u9694\u3002","oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"sysmem_high_watermark":{"default":"70%","description":"\u5728\u53d1\u51fa\u76f8\u5e94\u62a5\u8b66\u4e4b\u524d\u53ef\u4ee5\u5206\u914d\u591a\u5c11\u7cfb\u7edf\u5185\u5b58\u7684\u9608\u503c\uff0c\u4ee5\u7cfb\u7edf\u5185\u5b58\u7684\u767e\u5206\u6bd4\u8868\u793a\u3002","example":"12%","type":"number"},"procmem_high_watermark":{"default":"5%","description":"\u5728\u53d1\u51fa\u76f8\u5e94\u8b66\u62a5\u4e4b\u524d\uff0c\u4e00\u4e2aErlang\u8fdb\u7a0b\u53ef\u4ee5\u5206\u914d\u591a\u5c11\u7cfb\u7edf\u5185\u5b58\u7684\u9608\u503c\uff0c\u4ee5\u7cfb\u7edf\u5185\u5b58\u7684\u767e\u5206\u6bd4\u8868\u793a\u3002","example":"12%","type":"number"}},"type":"object"},"rule_engine.builtin_action_republish":{"properties":{"function":{"description":"\u5c06\u6d88\u606f\u91cd\u65b0\u53d1\u5e03\u4e3a\u65b0\u7684 MQTT \u6d88\u606f","enum":["republish"],"type":"string"},"args":{"default":{},"$ref":"#/components/schemas/rule_engine.republish_args"}},"type":"object"},"emqx_authn_schema.metrics":{"properties":{"nomatch":{"description":"\u5728\u5f53\u524d\u5b9e\u4f8b\u4e2d\u6ca1\u6709\u627e\u5230\u9700\u8981\u7684\u8ba4\u8bc1\u4fe1\u606f\uff0c\u5b9e\u4f8b\u88ab\u5ffd\u7565\u7684\u6b21\u6570\u3002","type":"integer"},"total":{"description":"\u5f53\u524d\u5b9e\u4f8b\u88ab\u89e6\u53d1\u7684\u603b\u6b21\u6570\u3002","type":"integer"},"success":{"description":"\u5728\u5f53\u524d\u5b9e\u4f8b\u4e2d\u627e\u5230\u9700\u8981\u7684\u8ba4\u8bc1\u4fe1\u606f\uff0c\u5e76\u4e14\u5b9e\u4f8b\u8fd4\u56de\u8ba4\u8bc1\u6210\u529f\u7684\u6b21\u6570\u3002","type":"integer"},"failed":{"description":"\u5728\u5f53\u524d\u5b9e\u4f8b\u4e2d\u627e\u5230\u9700\u8981\u7684\u8ba4\u8bc1\u4fe1\u606f\uff0c\u5e76\u4e14\u5b9e\u4f8b\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u6b21\u6570\u3002","type":"integer"},"rate":{"description":"\u5b9e\u4f8b\u88ab\u89e6\u53d1\u7684\u901f\u7387\u3002\u89e6\u53d1\u901f\u7387\u7b49\u4e8e\u5339\u914d\u901f\u7387 + \u5ffd\u7565\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_max":{"description":"\u5b9e\u4f8b\u66fe\u7ecf\u8fbe\u5230\u7684\u6700\u9ad8\u89e6\u53d1\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_last5m":{"description":"\u5b9e\u4f8b5\u5206\u949f\u5185\u5e73\u5747\u89e6\u53d1\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"}},"type":"object"},"broker.sysmon":{"properties":{"vm":{"$ref":"#/components/schemas/broker.sysmon_vm"},"os":{"$ref":"#/components/schemas/broker.sysmon_os"},"top":{"$ref":"#/components/schemas/broker.sysmon_top"}},"type":"object"},"dashboard.http":{"required":["bind","enable"],"properties":{"enable":{"default":true,"description":"\u5ffd\u7565\u6216\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":18083,"description":"\u76d1\u542c\u5730\u5740\u548c\u7aef\u53e3\uff0c\u70ed\u66f4\u65b0\u6b64\u914d\u7f6e\u65f6\uff0c\u4f1a\u91cd\u542f Dashboard \u670d\u52a1\u3002","example":"0.0.0.0:18083","oneOf":[{"example":"127.0.0.1:80","type":"string"},{"minimum":0,"type":"integer"}]},"num_acceptors":{"default":2,"description":"TCP\u534f\u8bae\u7684Socket acceptor\u6c60\u5927\u5c0f, \u9ed8\u8ba4\u8bbe\u7f6e\u5728\u7ebf\u7684\u8c03\u5ea6\u5668\u6570\u91cf\uff08\u901a\u5e38\u4e3a CPU \u6838\u6570\uff09","type":"integer"},"max_connections":{"default":512,"description":"\u540c\u65f6\u5904\u7406\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"backlog":{"default":1024,"description":"\u6392\u961f\u7b49\u5f85\u8fde\u63a5\u7684\u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002","type":"integer"},"send_timeout":{"default":"10s","description":"Socket\u53d1\u9001\u8d85\u65f6\u65f6\u95f4\u3002","example":"12m","type":"string"},"inet6":{"default":false,"description":"\u542f\u7528IPv6\uff0c \u5982\u679c\u673a\u5668\u4e0d\u652f\u6301IPv6\uff0c\u8bf7\u5173\u95ed\u6b64\u9009\u9879\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4 Dashboard \u65e0\u6cd5\u4f7f\u7528\u3002","type":"boolean"},"ipv6_v6only":{"default":false,"description":"\u5f53\u5f00\u542f inet6 \u529f\u80fd\u7684\u540c\u65f6\u7981\u7528 IPv4-to-IPv6 \u6620\u5c04\u3002\u8be5\u914d\u7f6e\u4ec5\u5728 inet6 \u529f\u80fd\u5f00\u542f\u65f6\u6709\u6548\u3002","type":"boolean"},"proxy_header":{"default":false,"description":"\u5f00\u542f\u5bf9  `HAProxy` \u7684\u652f\u6301\uff0c\u6ce8\u610f\uff1a\u4e00\u65e6\u5f00\u542f\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u5c31\u65e0\u6cd5\u518d\u5904\u7406\u666e\u901a\u7684 HTTP \u8bf7\u6c42\u4e86\u3002","type":"boolean"}},"type":"object"},"emqx_gateway_api.update_exproto":{"required":["handler","server"],"properties":{"server":{"description":"\u914d\u7f6e ExProto \u7f51\u5173\u9700\u8981\u542f\u52a8\u7684 <code>ConnectionAdapter</code> \u670d\u52a1\u3002<br/>\u8be5\u670d\u52a1\u7528\u4e8e\u63d0\u4f9b\u5ba2\u6237\u7aef\u7684\u8ba4\u8bc1\u3001\u53d1\u5e03\u3001\u8ba2\u9605\u548c\u6570\u636e\u4e0b\u884c\u7b49\u529f\u80fd\u3002","$ref":"#/components/schemas/gateway.exproto_grpc_server"},"handler":{"description":"\u914d\u7f6e ExProto \u7f51\u5173\u9700\u8981\u8bf7\u6c42\u7684 <code>ConnectionHandler</code> \u670d\u52a1\u5730\u5740\u3002<br/>\u8be5\u670d\u52a1\u7528\u4e8e\u7ed9 ExProto \u63d0\u4f9b\u5ba2\u6237\u7aef\u7684 Socket \u4e8b\u4ef6\u5904\u7406\u3001\u5b57\u8282\u89e3\u7801\u3001\u8ba2\u9605\u6d88\u606f\u63a5\u6536\u7b49\u529f\u80fd\u3002","$ref":"#/components/schemas/gateway.exproto_grpc_handler"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"}},"type":"object"},"emqx_authn_api.request_user_create":{"required":["password","user_id"],"properties":{"user_id":{"type":"string"},"password":{"type":"string"},"is_superuser":{"default":false,"type":"boolean"}},"type":"object"},"authn-mysql.authentication":{"required":["database","server","query","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["mysql"],"type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"query":{"description":"\u7528\u4e8e\u67e5\u8be2\u5bc6\u7801\u6563\u5217\u7b49\u7528\u4e8e\u8ba4\u8bc1\u7684\u6570\u636e\u7684 SQL \u8bed\u53e5\u3002","type":"string"},"query_timeout":{"default":"5s","description":"SQL \u67e5\u8be2\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MySQL \u9ed8\u8ba4\u7aef\u53e3 3306\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"default":"root","description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_gateway_api.update_mqttsn":{"required":["gateway_id"],"properties":{"gateway_id":{"default":1,"description":"MQTT-SN \u7f51\u5173 ID\u3002<br/>\u5f53 <code>broadcast</code> \u6253\u5f00\u65f6\uff0cMQTT-SN \u7f51\u5173\u4f1a\u4f7f\u7528\u8be5 ID \u6765\u5e7f\u64ad ADVERTISE \u6d88\u606f","type":"integer"},"broadcast":{"default":false,"description":"\u662f\u5426\u5468\u671f\u6027\u5e7f\u64ad ADVERTISE \u6d88\u606f","type":"boolean"},"enable_qos3":{"default":true,"description":"\u662f\u5426\u5141\u8bb8\u65e0\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u53d1\u9001 QoS \u7b49\u4e8e -1 \u7684\u6d88\u606f\u3002<br/>\u8be5\u529f\u80fd\u4e3b\u8981\u7528\u4e8e\u652f\u6301\u8f7b\u91cf\u7684 MQTT-SN \u5ba2\u6237\u7aef\u5b9e\u73b0\uff0c\u5b83\u4e0d\u4f1a\u5411\u7f51\u5173\u5efa\u7acb\u8fde\u63a5\uff0c\u6ce8\u518c\u4e3b\u9898\uff0c\u4e5f\u4e0d\u4f1a\u53d1\u8d77\u8ba2\u9605\uff1b\u5b83\u53ea\u4f7f\u7528 QoS \u4e3a -1 \u6765\u53d1\u5e03\u6d88\u606f","type":"boolean"},"subs_resume":{"default":false,"description":"\u5728\u4f1a\u8bdd\u88ab\u91cd\u7528\u540e\uff0c\u7f51\u5173\u662f\u5426\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u6ce8\u518c\u5bf9\u5df2\u8ba2\u9605\u4e3b\u9898\u540d\u79f0","type":"boolean"},"predefined":{"default":"","description":"\u9884\u5b9a\u4e49\u4e3b\u9898\u5217\u8868\u3002<br/>\u9884\u5b9a\u4e49\u7684\u4e3b\u9898\u5217\u8868\uff0c\u662f\u4e00\u7ec4 \u4e3b\u9898 ID \u548c \u4e3b\u9898\u540d\u79f0 \u7684\u6620\u5c04\u5173\u7cfb\u3002\u4f7f\u7528\u9884\u5148\u5b9a\u4e49\u7684\u4e3b\u9898\u5217\u8868\uff0c\u53ef\u4ee5\u51cf\u5c11 MQTT-SN \u5ba2\u6237\u7aef\u548c\u7f51\u5173\u5bf9\u4e8e\u56fa\u5b9a\u4e3b\u9898\u7684\u6ce8\u518c\u8bf7\u6c42","items":{"$ref":"#/components/schemas/gateway.mqttsn_predefined"},"type":"array"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"}},"type":"object"},"authn-hash.simple":{"required":["name"],"properties":{"name":{"description":"Simple password hashing algorithm.","enum":["plain","md5","sha","sha256","sha512"],"type":"string"},"salt_position":{"default":"prefix","description":"Salt position for PLAIN, MD5, SHA, SHA256 and SHA512 algorithms.","enum":["disable","prefix","suffix"],"type":"string"}},"type":"object"},"emqx_gateway_api.stomp":{"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","enum":["stomp"],"type":"string"},"frame":{"$ref":"#/components/schemas/gateway.stomp_frame"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"listeners":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]},"type":"array"}},"type":"object"},"emqx_authz_api_mnesia.rules_for_username":{"required":["username"],"properties":{"rules":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rule_item"},"type":"array"},"username":{"description":"\u7528\u6237\u540d","example":"user1","type":"string"}},"type":"object"},"emqx_gateway_api_clients.exproto_client":{"properties":{"node":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7528\u6237\u540d","type":"string"},"mountpoint":{"description":"\u4e3b\u9898\u56fa\u5b9a\u524d\u7f00","type":"string"},"proto_name":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c","type":"string"},"ip_address":{"description":"\u5ba2\u6237\u7aef IP \u5730\u5740","type":"string"},"port":{"description":"\u5ba2\u6237\u7aef\u7aef\u53e3","type":"integer"},"is_bridge":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u901a\u8fc7 is_bridge \u6807\u5fd7\u8fde\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65ad\u5f00\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"connected":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u5df2\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"keepalive":{"description":"Keepalive \u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"clean_start":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u4ee5 clean_start \u7684\u6807\u5fd7\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"expiry_interval":{"description":"\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"created_at":{"description":"\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"subscriptions_cnt":{"description":"\u5ba2\u6237\u7aef\u5df2\u8ba2\u9605\u4e3b\u9898\u6570","type":"integer"},"subscriptions_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u8ba2\u9605\u7684\u6700\u5927\u4e3b\u9898\u6570","type":"integer"},"inflight_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u98de\u884c\u7a97\u53e3\u5927\u5c0f","type":"integer"},"inflight_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u98de\u884c\u7a97\u53e3\u6700\u5927\u503c","type":"integer"},"mqueue_len":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_dropped":{"description":"\u7531\u4e8e\u6d88\u606f\u961f\u5217\u8fc7\u7a0b\uff0c\u5ba2\u6237\u7aef\u6d88\u606f\u961f\u5217\u4e22\u5f03\u6d88\u606f\u6761\u6570","type":"integer"},"awaiting_rel_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u7b49\u5f85 PUBREL \u786e\u8ba4\u7684 PUBREC \u6d88\u606f\u7684\u6761\u6570","type":"integer"},"awaiting_rel_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927 PUBREC \u7b49\u5f85\u961f\u5217\u957f\u5ea6","type":"integer"},"recv_oct":{"description":"\u5df2\u63a5\u6536\u7684\u5b57\u8282\u6570","type":"integer"},"recv_cnt":{"description":"\u5df2\u63a5\u6536 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"recv_pkt":{"description":"\u5df2\u63a5\u6536\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"recv_msg":{"description":"\u5df2\u63a5\u6536\u4e0a\u884c\u7684\u6d88\u606f\u6761\u6570","type":"integer"},"send_oct":{"description":"\u5df2\u53d1\u9001\u5b57\u8282\u6570","type":"integer"},"send_cnt":{"description":"\u5df2\u53d1\u9001 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"send_pkt":{"description":"\u5df2\u53d1\u9001\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"send_msg":{"description":"\u5df2\u53d1\u9001\u4e0b\u884c\u6d88\u606f\u6570\u6761\u6570","type":"integer"},"mailbox_len":{"description":"\u8fdb\u7a0b\u90ae\u7bb1\u5927\u5c0f","type":"integer"},"heap_size":{"description":"\u8fdb\u7a0b\u5806\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1a\u5b57\u8282","type":"integer"},"reductions":{"description":"\u8fdb\u7a0b\u5df2\u6d88\u8017 Reduction \u6570","type":"integer"}},"type":"object"},"connector-mqtt.ingress":{"properties":{"remote":{"description":"\u8ba2\u9605\u8fdc\u7a0b Broker \u76f8\u5173\u7684\u914d\u7f6e\u3002","$ref":"#/components/schemas/connector-mqtt.ingress_remote"},"local":{"description":"\u53d1\u9001\u6d88\u606f\u5230\u672c\u5730 Broker \u76f8\u5173\u7684\u914d\u7f6e\u3002","$ref":"#/components/schemas/connector-mqtt.ingress_local"}},"type":"object"},"connector-mqtt.egress_local":{"properties":{"topic":{"description":"\u8981\u8f6c\u53d1\u5230\u8fdc\u7a0bbroker\u7684\u672c\u5730\u4e3b\u9898","type":"string"}},"type":"object"},"emqx_authz_api_schema.mongo_sharded":{"required":["database","servers","collection","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"mongodb","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"`MongoDB` \u6388\u6743\u6570\u636e\u96c6\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"mongo_type":{"default":"sharded","description":"Sharded cluster\u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 sharded \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'sharded'\u3002","enum":["sharded"],"type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_conf_schema.cluster_etcd":{"properties":{"server":{"description":"\u6307\u5b9a etcd \u670d\u52a1\u7684\u5730\u5740\u3002\u5982\u6709\u591a\u4e2a\u670d\u52a1\u4f7f\u7528\u9017\u53f7 , \u5206\u9694\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a etcd \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","example":"item1,item2","readOnly":true,"type":"string"},"prefix":{"default":"emqxcl","description":"\u6307\u5b9a etcd \u8def\u5f84\u7684\u524d\u7f00\u3002\u6bcf\u4e2a\u8282\u70b9\u5728 etcd \u4e2d\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u8def\u5f84:<br/>v2/keys/<prefix>/<cluster.name>/<node.name> <br/><br/>\u5f53 cluster.discovery_strategy \u4e3a etcd \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"string"},"node_ttl":{"default":"1m","description":"\u6307\u5b9a etcd \u4e2d\u8282\u70b9\u4fe1\u606f\u7684\u8fc7\u671f\u65f6\u95f4\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a etcd \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","example":"12m","readOnly":true,"type":"string"},"ssl":{"description":"\u5f53\u4f7f\u7528 TLS \u8fde\u63a5 etcd \u65f6\u7684\u914d\u7f6e\u9009\u9879\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a etcd \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"broker.shared_subscription_group":{"properties":{"strategy":{"default":"random","description":"\u5171\u4eab\u8ba2\u9605\u7684\u5206\u53d1\u7b56\u7565\u540d\u79f0\u3002<br/>- `random`\uff1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u7ec4\u5185\u6210\u5458\uff1b<br/>- `round_robin`\uff1a\u5faa\u73af\u9009\u62e9\u4e0b\u4e00\u4e2a\u6210\u5458\uff1b<br/>- `round_robin_per_group`\uff1a\u5728\u5171\u4eab\u7ec4\u5185\u5faa\u73af\u9009\u62e9\u4e0b\u4e00\u4e2a\u6210\u5458\uff1b<br/>- `sticky`\uff1a\u4f7f\u7528\u4e0a\u4e00\u6b21\u9009\u4e2d\u7684\u6210\u5458\uff1b<br/>- `hash`\uff1a\u6839\u636e ClientID \u54c8\u5e0c\u6620\u5c04\u5230\u4e00\u4e2a\u6210\u5458\uff1b<br/>- `local`\uff1a\u968f\u673a\u5206\u53d1\u5230\u8282\u70b9\u672c\u5730\u6210\u6210\u5458\uff0c\u5982\u679c\u672c\u5730\u6210\u5458\u4e0d\u5b58\u5728\uff0c\u5219\u968f\u673a\u5206\u53d1\u5230\u4efb\u610f\u4e00\u4e2a\u6210\u5458\u3002","enum":["random","round_robin","round_robin_per_group","sticky","local","hash_topic","hash_clientid"],"type":"string"}},"type":"object"},"listeners.wss_required_bind":{"required":["bind","id","type"],"properties":{"type":{"description":"Listener type","enum":["wss"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8084,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_wss_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"emqx_authz_api_schema.built_in_database":{"required":["type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"built_in_database","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["built_in_database"],"type":"string"}},"type":"object"},"emqx_mgmt_api_stats.node_stats_data":{"properties":{"channels.count":{"description":"sessions.count","example":0,"minimum":0,"type":"integer"},"channels.max":{"description":"session.max","example":0,"minimum":0,"type":"integer"},"connections.count":{"description":"Number of current connections","example":0,"minimum":0,"type":"integer"},"connections.max":{"description":"Historical maximum number of connections","example":0,"minimum":0,"type":"integer"},"delayed.count":{"description":"Number of delayed messages","example":0,"minimum":0,"type":"integer"},"delayed.max":{"description":"Historical maximum number of delayed messages","example":0,"minimum":0,"type":"integer"},"live_connections.count":{"description":"Number of current live connections","example":0,"minimum":0,"type":"integer"},"live_connections.max":{"description":"Historical maximum number of live connections","example":0,"minimum":0,"type":"integer"},"retained.count":{"description":"Number of currently retained messages","example":0,"minimum":0,"type":"integer"},"retained.max":{"description":"Historical maximum number of retained messages","example":0,"minimum":0,"type":"integer"},"sessions.count":{"description":"Number of current sessions","example":0,"minimum":0,"type":"integer"},"sessions.max":{"description":"Historical maximum number of sessions","example":0,"minimum":0,"type":"integer"},"suboptions.count":{"description":"subscriptions.count","example":0,"minimum":0,"type":"integer"},"suboptions.max":{"description":"subscriptions.max","example":0,"minimum":0,"type":"integer"},"subscribers.count":{"description":"Number of current subscribers","example":0,"minimum":0,"type":"integer"},"subscribers.max":{"description":"Historical maximum number of subscribers","example":0,"minimum":0,"type":"integer"},"subscriptions.count":{"description":"Number of current subscriptions, including shared subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.max":{"description":"Historical maximum number of subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.shared.count":{"description":"Number of current shared subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.shared.max":{"description":"Historical maximum number of shared subscriptions","example":0,"minimum":0,"type":"integer"},"topics.count":{"description":"Number of current topics","example":0,"minimum":0,"type":"integer"},"topics.max":{"description":"Historical maximum number of topics","example":0,"minimum":0,"type":"integer"}},"type":"object"},"emqx_rule_api_schema.rule_info":{"required":["sql","id"],"properties":{"id":{"description":"\u89c4\u5219\u7684 ID","example":"293fb66f","type":"string"},"from":{"description":"\u89c4\u5219\u6307\u5b9a\u7684\u4e3b\u9898","example":"t/#","items":{"type":"string"},"type":"array"},"created_at":{"description":"\u89c4\u5219\u521b\u5efa\u65f6\u95f4","example":"2021-12-01T15:00:43.153+08:00","type":"string"},"name":{"default":"","description":"\u89c4\u5219\u540d\u5b57","example":"foo","type":"string"},"sql":{"description":"\u7528\u4e8e\u5904\u7406\u6d88\u606f\u7684 SQL \u3002<br/>\u793a\u4f8b\uff1a<code>SELECT * FROM \"test/topic\" WHERE payload.x = 1</code>","example":"SELECT * FROM \"test/topic\" WHERE payload.x = 1","type":"string"},"actions":{"default":"","description":"\u89c4\u5219\u7684\u52a8\u4f5c\u5217\u8868\u3002<br/>\u52a8\u4f5c\u53ef\u4ee5\u662f\u6307\u5411 EMQX bridge \u7684\u5f15\u7528\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6307\u5411\u51fd\u6570\u7684\u5bf9\u8c61\u3002<br/>\u6211\u4eec\u652f\u6301\u4e00\u4e9b\u5185\u7f6e\u51fd\u6570\uff0c\u5982\u201crepublish\u201d\u548c\u201cconsole\u201d\uff0c\u6211\u4eec\u8fd8\u652f\u6301\u7528\u6237\u63d0\u4f9b\u7684\u51fd\u6570\uff0c\u5b83\u7684\u683c\u5f0f\u4e3a\uff1a\u201c{module}:{function}\u201d\u3002<br/>\u5217\u8868\u4e2d\u7684\u52a8\u4f5c\u6309\u987a\u5e8f\u6267\u884c\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u52a8\u4f5c\u6267\u884c\u7f13\u6162\uff0c\u5219\u4ee5\u4e0b\u6240\u6709\u52a8\u4f5c\u90fd\u4e0d\u4f1a\u88ab\u6267\u884c\u76f4\u5230\u5b83\u8fd4\u56de\u3002<br/>\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u52a8\u4f5c\u5d29\u6e83\uff0c\u5728\u5b83\u4e4b\u540e\u7684\u6240\u6709\u52a8\u4f5c\u4ecd\u7136\u4f1a\u88ab\u6309\u7167\u539f\u59cb\u987a\u5e8f\u6267\u884c\u3002<br/>\u5982\u679c\u8fd0\u884c\u52a8\u4f5c\u65f6\u51fa\u73b0\u4efb\u4f55\u9519\u8bef\uff0c\u5219\u4f1a\u51fa\u73b0\u9519\u8bef\u6d88\u606f\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u8ba1\u6570\u5668\u4f1a\u589e\u52a0\u3002","example":["webhook:my_webhook",{"args":{"payload":"${payload}","topic":"t/1"},"function":"republish"},{"function":"console"}],"items":{"oneOf":[{"$ref":"#/components/schemas/rule_engine.user_provided_function"},{"$ref":"#/components/schemas/rule_engine.builtin_action_console"},{"$ref":"#/components/schemas/rule_engine.builtin_action_republish"},{"type":"string"}]},"type":"array"},"enable":{"default":true,"description":"\u542f\u7528\u6216\u7981\u7528\u89c4\u5219\u5f15\u64ce","type":"boolean"},"description":{"default":"","description":"\u89c4\u5219\u7684\u63cf\u8ff0","example":"Some description","type":"string"},"metadata":{"description":"\u89c4\u5219\u7684\u5143\u6570\u636e\uff0c\u4e0d\u8981\u624b\u52a8\u4fee\u6539","example":{},"type":"object"}},"type":"object"},"rule_engine.republish_args":{"required":["topic"],"properties":{"topic":{"description":"\u91cd\u65b0\u53d1\u5e03\u6d88\u606f\u7684\u76ee\u6807\u4e3b\u9898\u3002<br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u8bf7\u53c2\u9605\u201crepublish_args\u201d\u7684\u63cf\u8ff0\u3002","example":"a/1","type":"string"},"qos":{"default":"${qos}","description":"\u8981\u91cd\u65b0\u53d1\u5e03\u7684\u6d88\u606f\u7684 qos\u3002\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u8bf7\u53c2\u9605\u201crepublish_args\u201d\u7684\u63cf\u8ff0\u3002<br/>\u9ed8\u8ba4\u4e3a ${qos}\u3002 \u5982\u679c\u4ece\u89c4\u5219\u7684\u9009\u62e9\u7ed3\u679c\u4e2d\u6ca1\u6709\u627e\u5230\u53d8\u91cf ${qos}\uff0c\u5219\u4f7f\u7528 0\u3002","example":"${qos}","oneOf":[{"type":"string"},{"example":0,"maximum":2,"minimum":0,"type":"integer"}]},"retain":{"default":"${retain}","description":"\u8981\u91cd\u65b0\u53d1\u5e03\u7684\u6d88\u606f\u7684\u201c\u4fdd\u7559\u201d\u6807\u5fd7\u3002\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u8bf7\u53c2\u9605\u201crepublish_args\u201d\u7684\u63cf\u8ff0\u3002<br/>\u9ed8\u8ba4\u4e3a ${retain}\u3002 \u5982\u679c\u4ece\u6240\u9009\u7ed3\u679c\u4e2d\u672a\u627e\u5230\u53d8\u91cf ${retain}\uff0c\u5219\u4f7f\u7528 false\u3002","example":"${retain}","oneOf":[{"type":"string"},{"type":"boolean"}]},"payload":{"default":"${payload}","description":"\u8981\u91cd\u65b0\u53d1\u5e03\u7684\u6d88\u606f\u7684\u6709\u6548\u8d1f\u8f7d\u3002\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u8bf7\u53c2\u9605\u201crepublish_args\u201d\u7684\u63cf\u8ff0\u3002<br/>\u9ed8\u8ba4\u4e3a ${payload}\u3002 \u5982\u679c\u4ece\u6240\u9009\u7ed3\u679c\u4e2d\u672a\u627e\u5230\u53d8\u91cf ${payload}\uff0c\u5219\u4f7f\u7528\u5b57\u7b26\u4e32 \"undefined\"\u3002","example":"${payload}","type":"string"},"user_properties":{"default":"${user_properties}","description":"\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u53d8\u91cf\u6765\u586b\u5145 MQTT \u6d88\u606f\u7684 User-Property \u5217\u8868\u3002\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u5fc5\u987b\u662f\u4e00\u4e2a map \u7c7b\u578b\u3002<br/>\u53ef\u4ee5\u8bbe\u7f6e\u6210 <code>${pub_props.'User-Property'}</code> \u6216\u8005<br/>\u4f7f\u7528 <code>SELECT *,pub_props.'User-Property' as user_properties</code> \u6765\u628a\u6e90 MQTT \u6d88\u606f<br/>\u7684 User-Property \u5217\u8868\u7528\u4e8e\u586b\u5145\u3002<br/>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>map_put</code> \u51fd\u6570\u6765\u6dfb\u52a0\u65b0\u7684 User-Property\uff0c<br/><code>map_put('my-prop-name', 'my-prop-value', user_properties) as user_properties</code><br/>\u6ce8\u610f\uff1aMQTT \u534f\u8bae\u5141\u8bb8\u4e00\u4e2a\u6d88\u606f\u4e2d\u51fa\u73b0\u591a\u6b21\u540c\u4e00\u4e2a property \u540d\uff0c\u4f46\u662f EMQX \u7684\u89c4\u5219\u5f15\u64ce\u4e0d\u5141\u8bb8\u3002","example":"${pub_props.'User-Property'}","type":"string"}},"type":"object"},"authz.node_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/authz.metrics"}},"type":"object"},"emqx_rule_api_schema.metrics":{"properties":{"matched":{"description":"SQL \u7684 FROM \u5b50\u53e5\u5339\u914d\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"matched.rate":{"description":"\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"matched.rate.max":{"description":"\u6700\u5927\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"matched.rate.last5m":{"description":"5\u5206\u949f\u5e73\u5747\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"passed":{"description":"SQL \u901a\u8fc7\u7684\u6b21\u6570","minimum":0,"type":"integer"},"failed":{"description":"SQL \u5931\u8d25\u7684\u6b21\u6570","minimum":0,"type":"integer"},"failed.exception":{"description":"SQL \u7531\u4e8e\u6267\u884c\u5f02\u5e38\u800c\u5931\u8d25\u7684\u6b21\u6570\u3002 \u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u8c03\u7528 SQL \u51fd\u6570\u65f6\u5d29\u6e83\uff0c\u6216\u8005\u8bd5\u56fe\u5bf9\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97","minimum":0,"type":"integer"},"failed.unknown":{"description":"\u7531\u4e8e\u672a\u77e5\u9519\u8bef\u5bfc\u81f4 SQL \u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.total":{"description":"\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u7684\u6b21\u6570\u3002 \u8be5\u503c\u53ef\u80fd\u662f\u201csql.matched\u201d\u7684\u51e0\u500d\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u89c4\u5219\u8f93\u51fa\u7684\u6570\u91cf\u3002","minimum":0,"type":"integer"},"actions.success":{"description":"\u89c4\u5219\u6210\u529f\u8c03\u7528\u8f93\u51fa\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.failed":{"description":"\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.failed.out_of_service":{"description":"\u7531\u4e8e\u8f93\u51fa\u505c\u6b62\u670d\u52a1\u800c\u5bfc\u81f4\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002 \u4f8b\u5982\uff0c\u6865\u63a5\u88ab\u7981\u7528\u6216\u505c\u6b62\u3002","minimum":0,"type":"integer"},"actions.failed.unknown":{"description":"\u7531\u4e8e\u672a\u77e5\u9519\u8bef\uff0c\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"}},"type":"object"},"bridge.metrics":{"properties":{"dropped":{"description":"\u88ab\u4e22\u5f03\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"dropped.other":{"description":"\u56e0\u4e3a\u5176\u4ed6\u539f\u56e0\u88ab\u4e22\u5f03\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"dropped.queue_full":{"description":"\u56e0\u4e3a\u961f\u5217\u5df2\u6ee1\u88ab\u4e22\u5f03\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"dropped.resource_not_found":{"description":"\u56e0\u4e3a\u8d44\u6e90\u4e0d\u5b58\u5728\u88ab\u4e22\u5f03\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"dropped.resource_stopped":{"description":"\u56e0\u4e3a\u8d44\u6e90\u5df2\u505c\u7528\u88ab\u4e22\u5f03\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"matched":{"description":"Bridge \u88ab\u5339\u914d\u5230\uff08\u88ab\u8bf7\u6c42\uff09\u7684\u6b21\u6570\u3002","type":"integer"},"queuing":{"description":"\u5f53\u524d\u88ab\u7f13\u5b58\u5230\u78c1\u76d8\u961f\u5217\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"retried":{"description":"\u91cd\u8bd5\u7684\u6b21\u6570\u3002","type":"integer"},"failed":{"description":"\u53d1\u9001\u5931\u8d25\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"inflight":{"description":"\u5df2\u5f02\u6b65\u5730\u53d1\u9001\u4f46\u6ca1\u6709\u6536\u5230 ACK \u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"success":{"description":"\u5df2\u7ecf\u53d1\u9001\u6210\u529f\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"integer"},"rate":{"description":"\u6267\u884c\u64cd\u4f5c\u7684\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"rate_max":{"description":"\u6267\u884c\u64cd\u4f5c\u7684\u6700\u5927\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"rate_last5m":{"description":"5 \u5206\u949f\u5e73\u5747\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"received":{"description":"\u4ece\u8fdc\u7a0b\u7cfb\u7edf\u6536\u5230\u7684\u6d88\u606f\u4e2a\u6570\u3002","type":"number"}},"type":"object"},"emqx_rule_api_schema.ctx_acked":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["message_acked"],"type":"string"},"id":{"description":"\u6d88\u606f ID","type":"string"},"from_clientid":{"description":"\u4e8b\u4ef6\u6765\u6e90\u5ba2\u6237\u7aef\u7684 ID","type":"string"},"from_username":{"description":"\u4e8b\u4ef6\u6765\u6e90\u5ba2\u6237\u7aef\u7684\u7528\u6237\u540d","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"dashboard.error_code":{"properties":{"code":{"description":"Code Name","type":"string"},"description":{"description":"Description","type":"string"}},"type":"object"},"listeners.wss_not_required_bind":{"required":["id","type"],"properties":{"type":{"description":"Listener type","enum":["wss"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"bind":{"default":8084,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_wss_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"emqx_authz_api_schema.postgresql":{"required":["database","server","query","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"postgresql","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["postgresql"],"type":"string"},"query":{"description":"\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u67e5\u8be2\u8bed\u53e5\u3002","type":"string"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 PostgreSQL \u9ed8\u8ba4\u7aef\u53e3 5432\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_mgmt_api_metrics.aggregated_metrics":{"properties":{"actions.failure":{"description":"Number of failure executions of the rule engine action","minimum":0,"type":"integer"},"actions.success":{"description":"Number of successful executions of the rule engine action","minimum":0,"type":"integer"},"bytes.received":{"description":"Number of bytes received ","minimum":0,"type":"integer"},"bytes.sent":{"description":"Number of bytes sent on this connection","minimum":0,"type":"integer"},"client.auth.anonymous":{"description":"Number of clients who log in anonymously","minimum":0,"type":"integer"},"client.authenticate":{"description":"Number of client authentications","minimum":0,"type":"integer"},"client.check_authz":{"description":"Number of Authorization rule checks","minimum":0,"type":"integer"},"client.connack":{"description":"Number of CONNACK packet sent","minimum":0,"type":"integer"},"client.connect":{"description":"Number of client connections","minimum":0,"type":"integer"},"client.connected":{"description":"Number of successful client connections","minimum":0,"type":"integer"},"client.disconnected":{"description":"Number of client disconnects","minimum":0,"type":"integer"},"client.subscribe":{"description":"Number of client subscriptions","minimum":0,"type":"integer"},"client.unsubscribe":{"description":"Number of client unsubscriptions","minimum":0,"type":"integer"},"delivery.dropped":{"description":"Total number of discarded messages when sending","minimum":0,"type":"integer"},"delivery.dropped.expired":{"description":"Number of messages dropped due to message expiration on sending","minimum":0,"type":"integer"},"delivery.dropped.no_local":{"description":"Number of messages that were dropped due to the No Local subscription option when sending","minimum":0,"type":"integer"},"delivery.dropped.qos0_msg":{"description":"Number of messages with QoS 0 that were dropped because the message queue was full when sending","minimum":0,"type":"integer"},"delivery.dropped.queue_full":{"description":"Number of messages with a non-zero QoS that were dropped because the message queue was full when sending","minimum":0,"type":"integer"},"delivery.dropped.too_large":{"description":"The number of messages that were dropped because the length exceeded the limit when sending","minimum":0,"type":"integer"},"messages.acked":{"description":"Number of received PUBACK and PUBREC packet","minimum":0,"type":"integer"},"messages.delayed":{"description":"Number of delay-published messages","minimum":0,"type":"integer"},"messages.delivered":{"description":"Number of messages forwarded to the subscription process internally","minimum":0,"type":"integer"},"messages.dropped":{"description":"Total number of messages dropped before forwarding to the subscription process","minimum":0,"type":"integer"},"messages.dropped.await_pubrel_timeout":{"description":"Number of messages dropped due to waiting PUBREL timeout","minimum":0,"type":"integer"},"messages.dropped.no_subscribers":{"description":"Number of messages dropped due to no subscribers","minimum":0,"type":"integer"},"messages.forward":{"description":"Number of messages forwarded to other nodes","minimum":0,"type":"integer"},"messages.publish":{"description":"Number of messages published in addition to system messages","minimum":0,"type":"integer"},"messages.qos0.received":{"description":"Number of QoS 0 messages received from clients","minimum":0,"type":"integer"},"messages.qos0.sent":{"description":"Number of QoS 0 messages sent to clients","minimum":0,"type":"integer"},"messages.qos1.received":{"description":"Number of QoS 1 messages received from clients","minimum":0,"type":"integer"},"messages.qos1.sent":{"description":"Number of QoS 1 messages sent to clients","minimum":0,"type":"integer"},"messages.qos2.received":{"description":"Number of QoS 2 messages received from clients","minimum":0,"type":"integer"},"messages.qos2.sent":{"description":"Number of QoS 2 messages sent to clients","minimum":0,"type":"integer"},"messages.received":{"description":"Number of messages received from the client, equal to the sum of messages.qos0.received\fmessages.qos1.received and messages.qos2.received","minimum":0,"type":"integer"},"messages.retained":{"description":"Number of retained messages","minimum":0,"type":"integer"},"messages.sent":{"description":"Number of messages sent to the client, equal to the sum of messages.qos0.sent\fmessages.qos1.sent and messages.qos2.sent","minimum":0,"type":"integer"},"packets.auth.received":{"description":"Number of received AUTH packet","minimum":0,"type":"integer"},"packets.auth.sent":{"description":"Number of sent AUTH packet","minimum":0,"type":"integer"},"packets.connack.auth_error":{"description":"Number of received CONNECT packet with failed authentication","minimum":0,"type":"integer"},"packets.connack.error":{"description":"Number of received CONNECT packet with unsuccessful connections","minimum":0,"type":"integer"},"packets.connack.sent":{"description":"Number of sent CONNACK packet","minimum":0,"type":"integer"},"packets.connect.received":{"description":"Number of received CONNECT packet","minimum":0,"type":"integer"},"packets.disconnect.received":{"description":"Number of received DISCONNECT packet","minimum":0,"type":"integer"},"packets.disconnect.sent":{"description":"Number of sent DISCONNECT packet","minimum":0,"type":"integer"},"packets.pingreq.received":{"description":"Number of received PINGREQ packet","minimum":0,"type":"integer"},"packets.pingresp.sent":{"description":"Number of sent PUBRESP packet","minimum":0,"type":"integer"},"packets.puback.inuse":{"description":"Number of received PUBACK packet with occupied identifiers","minimum":0,"type":"integer"},"packets.puback.missed":{"description":"Number of received packet with identifiers.","minimum":0,"type":"integer"},"packets.puback.received":{"description":"Number of received PUBACK packet","minimum":0,"type":"integer"},"packets.puback.sent":{"description":"Number of sent PUBACK packet","minimum":0,"type":"integer"},"packets.pubcomp.inuse":{"description":"Number of received PUBCOMP packet with occupied identifiers","minimum":0,"type":"integer"},"packets.pubcomp.missed":{"description":"Number of missed PUBCOMP packet","minimum":0,"type":"integer"},"packets.pubcomp.received":{"description":"Number of received PUBCOMP packet","minimum":0,"type":"integer"},"packets.pubcomp.sent":{"description":"Number of sent PUBCOMP packet","minimum":0,"type":"integer"},"packets.publish.auth_error":{"description":"Number of received PUBLISH packets with failed the Authorization check","minimum":0,"type":"integer"},"packets.publish.dropped":{"description":"Number of messages discarded due to the receiving limit","minimum":0,"type":"integer"},"packets.publish.error":{"description":"Number of received PUBLISH packet that cannot be published","minimum":0,"type":"integer"},"packets.publish.inuse":{"description":"Number of received PUBLISH packet with occupied identifiers","minimum":0,"type":"integer"},"packets.publish.received":{"description":"Number of received PUBLISH packet","minimum":0,"type":"integer"},"packets.publish.sent":{"description":"Number of sent PUBLISH packet","minimum":0,"type":"integer"},"packets.pubrec.inuse":{"description":"Number of received PUBREC packet with occupied identifiers","minimum":0,"type":"integer"},"packets.pubrec.missed":{"description":"Number of received PUBREC packet with unknown identifiers","minimum":0,"type":"integer"},"packets.pubrec.received":{"description":"Number of received PUBREC packet","minimum":0,"type":"integer"},"packets.pubrec.sent":{"description":"Number of sent PUBREC packet","minimum":0,"type":"integer"},"packets.pubrel.missed":{"description":"Number of received PUBREC packet with unknown identifiers","minimum":0,"type":"integer"},"packets.pubrel.received":{"description":"Number of received PUBREL packet","minimum":0,"type":"integer"},"packets.pubrel.sent":{"description":"Number of sent PUBREL packet","minimum":0,"type":"integer"},"packets.received":{"description":"Number of received packet","minimum":0,"type":"integer"},"packets.sent":{"description":"Number of sent packet","minimum":0,"type":"integer"},"packets.suback.sent":{"description":"Number of sent SUBACK packet","minimum":0,"type":"integer"},"packets.subscribe.auth_error":{"description":"Number of received SUBACK packet with failed Authorization check","minimum":0,"type":"integer"},"packets.subscribe.error":{"description":"Number of received SUBSCRIBE packet with failed subscriptions","minimum":0,"type":"integer"},"packets.subscribe.received":{"description":"Number of received SUBSCRIBE packet","minimum":0,"type":"integer"},"packets.unsuback.sent":{"description":"Number of sent UNSUBACK packet","minimum":0,"type":"integer"},"packets.unsubscribe.error":{"description":"Number of received UNSUBSCRIBE packet with failed unsubscriptions","minimum":0,"type":"integer"},"packets.unsubscribe.received":{"description":"Number of received UNSUBSCRIBE packet","minimum":0,"type":"integer"},"rules.matched":{"description":"Number of rule matched","minimum":0,"type":"integer"},"session.created":{"description":"Number of sessions created","minimum":0,"type":"integer"},"session.discarded":{"description":"Number of sessions dropped because Clean Session or Clean Start is true","minimum":0,"type":"integer"},"session.resumed":{"description":"Number of sessions resumed because Clean Session or Clean Start is false","minimum":0,"type":"integer"},"session.takenover":{"description":"Number of sessions takenover because Clean Session or Clean Start is false","minimum":0,"type":"integer"},"session.terminated":{"description":"Number of terminated sessions","minimum":0,"type":"integer"}},"type":"object"},"emqx_authz_api_schema.redis_cluster":{"required":["servers","cmd","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"redis","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u67e5\u8be2\u547d\u4ee4\u3002","example":"HGETALL mqtt_authz","type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"cluster","description":"\u96c6\u7fa4\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u96c6\u7fa4\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'cluster'\u3002","enum":["cluster"],"type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"connector-http.request":{"properties":{"method":{"description":"HTTP \u8bf7\u6c42\u65b9\u6cd5\u3002","type":"string"},"path":{"description":"HTTP\u8bf7\u6c42\u8def\u5f84\u3002","type":"string"},"body":{"description":"HTTP\u8bf7\u6c42\u62a5\u6587\u4e3b\u4f53\u3002","type":"string"},"headers":{"description":"HTTP \u5934\u5b57\u6bb5\u5217\u8868\u3002","example":{},"type":"object"},"max_retries":{"description":"\u8bf7\u6c42\u51fa\u9519\u65f6\u7684\u6700\u5927\u91cd\u8bd5\u6b21\u6570\u3002","minimum":0,"type":"integer"},"request_timeout":{"description":"HTTP \u8bf7\u6c42\u8d85\u65f6\u3002","example":"32s","type":"string"}},"type":"object"},"emqx_mgmt_api_banned.ban":{"required":["who","as"],"properties":{"as":{"description":"\u5c01\u7981\u65b9\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u7b49\u65b9\u5f0f\u8fdb\u884c\u5c01\u7981\u3002","enum":["clientid","username","peerhost"],"example":"username","type":"string"},"who":{"description":"\u5c01\u7981\u5bf9\u8c61\uff0c\u5177\u4f53\u7684\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u3002","example":"Banned name","type":"string"},"by":{"description":"\u5c01\u7981\u7684\u53d1\u8d77\u8005\u3002","example":"mgmt_api","type":"string"},"reason":{"description":"\u5c01\u7981\u539f\u56e0\uff0c\u8bb0\u5f55\u5f53\u524d\u5bf9\u8c61\u88ab\u5c01\u7981\u7684\u539f\u56e0\u3002","example":"Too many requests","type":"string"},"at":{"description":"\u5c01\u7981\u7684\u8d77\u59cb\u65f6\u95f4\uff0c\u683c\u5f0f\u4e3a rfc3339\uff0c\u9ed8\u8ba4\u4e3a\u53d1\u8d77\u64cd\u4f5c\u7684\u65f6\u95f4\u3002","example":"2021-10-25T21:48:47+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"until":{"description":"\u5c01\u7981\u7684\u7ed3\u675f\u65f6\u95f4\uff0c\u5f0f\u4e3a rfc3339\uff0c\u9ed8\u8ba4\u4e3a\u53d1\u8d77\u64cd\u4f5c\u7684\u65f6\u95f4 + 5 \u5206\u949f\u3002","example":"2021-10-25T21:53:47+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},"type":"object"},"bridge.node_status":{"properties":{"node":{"description":"\u8282\u70b9\u7684\u540d\u5b57","example":"emqx@127.0.0.1","type":"string"},"status":{"enum":["connected","disconnected","connecting","inconsistent"],"type":"string"}},"type":"object"},"limiter.node_opts":{"properties":{"rate":{"default":"infinity","description":"\u6876\u7684\u4ee4\u724c\u751f\u6210\u901f\u7387","example":"10MB","type":"string"},"burst":{"default":"0","description":"\u7a81\u53d1\u901f\u7387\u3002<br/>\u7a81\u53d1\u901f\u7387\u5141\u8bb8\u77ed\u65f6\u95f4\u5185\u901f\u7387\u8d85\u8fc7\u8bbe\u7f6e\u7684\u901f\u7387\u503c\uff0c\u7a81\u53d1\u901f\u7387 + \u901f\u7387 = \u5f53\u524d\u6876\u80fd\u8fbe\u5230\u7684\u6700\u5927\u901f\u7387\u503c","example":"10MB","type":"string"}},"type":"object"},"authz.node_error":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"error":{"description":"\u8282\u70b9\u4e0a\u4ea7\u751f\u7684\u9519\u8bef\u3002","type":"string"}},"type":"object"},"api_key.app":{"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-API-KEY-1","type":"string"},"api_key":{"description":"TODO:uses HMAC-SHA256 for signing.","example":"a4697a5c75a769f6","type":"string"},"api_secret":{"description":"An API secret is a simple encrypted string that identifiesan application without any principal.They are useful for accessing public data anonymously,and are used to associate API requests.","example":"MzAyMjk3ODMwMDk0NjIzOTUxNjcwNzQ0NzQ3MTE2NDYyMDI","type":"string"},"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"created_at":{"description":"ApiKey create datetime","example":"2021-12-01T00:00:00.000Z","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"},"emqx_mgmt_api_publish.publish_error":{"properties":{"reason_code":{"description":"MQTT \u6d88\u606f\u53d1\u5e03\u7684\u9519\u8bef\u7801\uff0c\u8fd9\u4e9b\u9519\u8bef\u7801\u4e5f\u662f MQTT \u89c4\u8303\u4e2d PUBACK \u6d88\u606f\u53ef\u80fd\u643a\u5e26\u7684\u9519\u8bef\u7801\u3002<br/><br/>\u5f53\u524d\u652f\u6301\u5982\u4e0b\u9519\u8bef\u7801\uff1a<br/><br/><br/>16(0x10)\uff1a\u6ca1\u80fd\u5339\u914d\u5230\u4efb\u4f55\u8ba2\u9605\uff1b<br/><br/>131(0x81)\uff1a\u6d88\u606f\u8f6c\u53d1\u65f6\u53d1\u751f\u9519\u8bef\uff0c\u4f8b\u5982 EMQX \u670d\u52a1\u91cd\u542f\uff1b<br/><br/>144(0x90)\uff1a\u4e3b\u9898\u540d\u79f0\u975e\u6cd5\uff1b<br/><br/>151(0x97)\uff1a\u53d7\u5230\u4e86\u901f\u7387\u9650\u5236\uff0c\u6216\u8005\u6d88\u606f\u5c3a\u5bf8\u8fc7\u5927\u3002\u5168\u5c40\u6d88\u606f\u5927\u5c0f\u9650\u5236\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 <code>mqtt.max_packet_size</code> \u6765\u8fdb\u884c\u4fee\u6539\u3002<br/><br/>\u6ce8\u610f\uff1a\u6d88\u606f\u5c3a\u5bf8\u7684\u662f\u901a\u8fc7\u4e3b\u9898\u548c\u6d88\u606f\u4f53\u7684\u5b57\u8282\u6570\u8fdb\u884c\u4f30\u7b97\u7684\u3002\u5177\u4f53\u53d1\u5e03\u65f6\u6240\u5360\u7528\u7684\u5b57\u8282\u6570\u53ef\u80fd\u4f1a\u7a0d\u5927\u4e8e\u8fd9\u4e2a\u4f30\u7b97\u7684\u503c\u3002","example":16,"type":"integer"},"message":{"description":"\u5931\u8d25\u7684\u8be6\u7ec6\u539f\u56e0\u3002","example":"no_matching_subscribers","type":"string"}},"type":"object"},"broker.deflate_opts":{"properties":{"level":{"description":"\u538b\u7f29\u7ea7\u522b","enum":["none","default","best_compression","best_speed"],"type":"string"},"mem_level":{"default":8,"description":"\u6307\u5b9a\u538b\u7f29\u72b6\u6001\u7684\u5927\u5c0f<br/><br/>\u8f83\u4f4e\u7684\u503c\u4f1a\u51cf\u5c11\u6bcf\u4e2a\u8fde\u63a5\u7684\u5185\u5b58\u4f7f\u7528\u3002","maximum":9,"minimum":1,"type":"integer"},"strategy":{"default":"default","description":"\u6307\u5b9a\u538b\u7f29\u7b56\u7565\u3002","enum":["default","filtered","huffman_only","rle"],"type":"string"},"server_context_takeover":{"default":"takeover","description":"\u63a5\u7ba1\u610f\u5473\u7740\u5728\u670d\u52a1\u5668\u6d88\u606f\u4e4b\u95f4\u4fdd\u7559\u538b\u7f29\u72b6\u6001\u3002","enum":["takeover","no_takeover"],"type":"string"},"client_context_takeover":{"default":"takeover","description":"\u63a5\u7ba1\u610f\u5473\u7740\u5728\u5ba2\u6237\u7aef\u6d88\u606f\u4e4b\u95f4\u4fdd\u7559\u538b\u7f29\u72b6\u6001\u3002","enum":["takeover","no_takeover"],"type":"string"},"server_max_window_bits":{"default":15,"description":"\u6307\u5b9a\u670d\u52a1\u5668\u538b\u7f29\u4e0a\u4e0b\u6587\u7684\u5927\u5c0f\u3002","maximum":15,"minimum":8,"type":"integer"},"client_max_window_bits":{"default":15,"description":"\u6307\u5b9a\u5ba2\u6237\u7aef\u538b\u7f29\u4e0a\u4e0b\u6587\u7684\u5927\u5c0f\u3002","maximum":15,"minimum":8,"type":"integer"}},"type":"object"},"broker.authz_cache":{"required":["enable"],"properties":{"enable":{"default":true,"description":"\u542f\u7528\u6216\u7981\u7528\u6388\u6743\u7f13\u5b58\u3002","type":"boolean"},"max_size":{"default":32,"description":"\u7f13\u5b58\u9879\u7684\u6700\u5927\u6570\u91cf\u3002","maximum":1048576,"minimum":1,"type":"integer"},"ttl":{"default":"1m","description":"\u7f13\u5b58\u6570\u636e\u7684\u751f\u5b58\u65f6\u95f4\u3002","example":"12m","type":"string"}},"type":"object"},"broker.tcp_opts":{"properties":{"active_n":{"default":100,"description":"\u4e3a\u6b64\u5957\u63a5\u5b57\u6307\u5b9a{active\uff0cN}\u9009\u9879<br/><br/>See: https://erlang.org/doc/man/inet.html#setopts-2","type":"integer"},"backlog":{"default":1024,"description":"TCP backlog \u5b9a\u4e49\u4e86\u6302\u8d77\u8fde\u63a5\u961f\u5217\u53ef\u4ee5\u589e\u957f\u5230\u7684\u6700\u5927\u957f\u5ea6\u3002","minimum":1,"type":"integer"},"send_timeout":{"default":"15s","description":"\u8fde\u63a5\u7684 TCP \u53d1\u9001\u8d85\u65f6\u3002","example":"12m","type":"string"},"send_timeout_close":{"default":true,"description":"\u5982\u679c\u53d1\u9001\u8d85\u65f6\uff0c\u5219\u5173\u95ed\u8fde\u63a5\u3002","type":"boolean"},"recbuf":{"description":"\u8fde\u63a5\u7684 TCP \u63a5\u6536\u7f13\u51b2\u533a\uff08OS \u5185\u6838\uff09\u3002","example":"2KB","type":"string"},"sndbuf":{"description":"\u8fde\u63a5\u7684 TCP \u53d1\u9001\u7f13\u51b2\u533a\uff08OS \u5185\u6838\uff09\u3002","example":"4KB","type":"string"},"buffer":{"default":"4KB","description":"\u9a71\u52a8\u7a0b\u5e8f\u4f7f\u7528\u7684\u7528\u6237\u7a7a\u95f4\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002","example":"4KB","type":"string"},"high_watermark":{"default":"1MB","description":"\u5f53 VM \u5957\u63a5\u5b57\u5b9e\u73b0\u5185\u90e8\u6392\u961f\u7684\u6570\u636e\u91cf\u8fbe\u5230\u6b64\u9650\u5236\u65f6\uff0c\u5957\u63a5\u5b57\u5c06\u8bbe\u7f6e\u4e3a\u5fd9\u788c\u72b6\u6001\u3002","example":"32MB","type":"string"},"nodelay":{"default":true,"description":"\u8fde\u63a5\u7684 TCP_NODELAY \u6807\u8bc6","type":"boolean"},"reuseaddr":{"default":true,"description":"\u8fde\u63a5\u7684 SO_REUSEADDR \u6807\u8bc6\u3002","type":"boolean"}},"type":"object"},"emqx_topic_metrics_api.reset":{"required":["action"],"properties":{"topic":{"description":"\u4e3b\u9898\u540d\u79f0\u3002\u5982\u679c\u6b64\u53c2\u6570\u4e0d\u5b58\u5728\uff0c\u5219\u6240\u6709\u521b\u5efa\u7684\u4e3b\u9898\u76d1\u63a7\u6570\u636e\u90fd\u5c06\u91cd\u7f6e\u3002","example":"testtopic/1","type":"string"},"action":{"description":"\u64cd\u4f5c\uff0c\u4ec5\u652f\u6301 reset","example":"reset","type":"string"}},"type":"object"},"emqx_rule_api_schema.rule_metrics":{"required":["id"],"properties":{"id":{"description":"\u89c4\u5219\u7684 ID","example":"293fb66f","type":"string"},"metrics":{"description":"\u89c4\u5219\u7684\u8ba1\u6570\u5668","$ref":"#/components/schemas/emqx_rule_api_schema.metrics"},"node_metrics":{"description":"\u6bcf\u4e2a\u8282\u70b9\u7684\u89c4\u5219\u8ba1\u6570\u5668","items":{"$ref":"#/components/schemas/emqx_rule_api_schema.node_metrics"},"type":"array"}},"type":"object"},"emqx_gateway_api.update_stomp":{"properties":{"frame":{"$ref":"#/components/schemas/gateway.stomp_frame"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"}},"type":"object"},"emqx_conf_schema.log_burst_limit":{"properties":{"enable":{"default":true,"description":"\u542f\u7528\u65e5\u5fd7\u9650\u6d41\u4fdd\u62a4\u673a\u5236\u3002","type":"boolean"},"max_count":{"default":10000,"description":"\u5728 `window_time` \u95f4\u9694\u5185\u5904\u7406\u7684\u6700\u5927\u65e5\u5fd7\u4e8b\u4ef6\u6570\u3002 \u8fbe\u5230\u9650\u5236\u540e\uff0c\u5c06\u4e22\u5f03\u8fde\u7eed\u4e8b\u4ef6\uff0c\u76f4\u5230 `window_time` \u7ed3\u675f\u3002","minimum":1,"type":"integer"},"window_time":{"default":"1s","description":"\u53c2\u8003 <code>max_count</code>\u3002","example":"12m","type":"string"}},"type":"object"},"connector-mqtt.egress_remote":{"required":["topic"],"properties":{"topic":{"description":"\u8f6c\u53d1\u5230\u8fdc\u7a0bbroker\u7684\u54ea\u4e2atopic\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"},"qos":{"default":1,"description":"\u5f85\u53d1\u9001 MQTT \u6d88\u606f\u7684 QoS\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","oneOf":[{"type":"string"},{"example":0,"maximum":2,"minimum":0,"type":"integer"}]},"retain":{"default":false,"description":"\u8981\u53d1\u9001\u7684 MQTT \u6d88\u606f\u7684\u201c\u4fdd\u7559\u201d\u6807\u5fd7\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","oneOf":[{"type":"string"},{"type":"boolean"}]},"payload":{"description":"\u8981\u53d1\u9001\u7684 MQTT \u6d88\u606f\u7684\u8d1f\u8f7d\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"}},"type":"object"},"plugins.position":{"properties":{"position":{"description":"<br/>             Enable auto-boot at position in the boot list, where Position could be<br/>             'front', 'rear', or 'before:other-vsn', 'after:other-vsn'<br/>             to specify a relative position.<br/>            ","oneOf":[{"type":"string"},{"enum":["rear"],"type":"string"},{"enum":["front"],"type":"string"}]}},"type":"object"},"bridge.node_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u7684\u540d\u5b57","example":"emqx@127.0.0.1","type":"string"},"metrics":{"$ref":"#/components/schemas/bridge.metrics"}},"type":"object"},"emqx_conf_schema.cluster":{"properties":{"name":{"default":"emqxcl","description":"EMQX\u96c6\u7fa4\u540d\u79f0\u3002\u6bcf\u4e2a\u96c6\u7fa4\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u540d\u79f0\u3002\u670d\u52a1\u53d1\u73b0\u65f6\u4f1a\u7528\u4e8e\u505a\u8def\u5f84\u7684\u4e00\u90e8\u5206\u3002","readOnly":true,"type":"string"},"discovery_strategy":{"default":"manual","description":"\u96c6\u7fa4\u8282\u70b9\u53d1\u73b0\u65b9\u5f0f\u3002\u53ef\u9009\u503c\u4e3a:<br/>- manual: \u4f7f\u7528 <code>emqx ctl cluster</code> \u547d\u4ee4\u7ba1\u7406\u96c6\u7fa4\u3002<br/><br/>- static: \u914d\u7f6e\u9759\u6001\u8282\u70b9\u3002\u914d\u7f6e\u51e0\u4e2a\u56fa\u5b9a\u7684\u8282\u70b9\uff0c\u65b0\u8282\u70b9\u901a\u8fc7\u8fde\u63a5\u56fa\u5b9a\u8282\u70b9\u4e2d\u7684\u67d0\u4e00\u4e2a\u6765\u52a0\u5165\u96c6\u7fa4\u3002<br/><br/>- dns: \u4f7f\u7528 DNS A \u8bb0\u5f55\u7684\u65b9\u5f0f\u53d1\u73b0\u8282\u70b9\u3002<br/><br/>- etcd: \u4f7f\u7528 etcd \u53d1\u73b0\u8282\u70b9\u3002<br/><br/>- k8s: \u4f7f\u7528 Kubernetes API \u53d1\u73b0\u8282\u70b9\u3002","enum":["manual","static","mcast","dns","etcd","k8s"],"readOnly":true,"type":"string"},"core_nodes":{"default":"","description":"\u5f53\u524d\u8282\u70b9\u8fde\u63a5\u7684\u6838\u5fc3\u8282\u70b9\u5217\u8868\u3002<br/><br/>\u6ce8\u610f\uff1a\u8be5\u53c2\u6570\u4ec5\u5728\u8bbe\u7f6e<code>backend</code>\u65f6\u751f\u6548\u5230 <code>rlog</code><br/>\u5e76\u4e14\u8bbe\u7f6e<code>role</code>\u4e3a<code>replicant</code>\u65f6\u751f\u6548\u3002<br/><br/>\u8be5\u503c\u9700\u8981\u5728\u624b\u52a8\u6216\u9759\u6001\u96c6\u7fa4\u53d1\u73b0\u673a\u5236\u4e0b\u8bbe\u7f6e\u3002<br/><br/>\u5982\u679c\u4f7f\u7528\u4e86\u81ea\u52a8\u96c6\u7fa4\u53d1\u73b0\u673a\u5236\uff08\u5982<code>etcd</code>\uff09\uff0c\u5219\u4e0d\u9700\u8981\u8bbe\u7f6e\u8be5\u503c\u3002","example":"item1,item2","readOnly":true,"type":"string"},"autoclean":{"default":"5m","description":"\u6307\u5b9a\u591a\u4e45\u4e4b\u540e\u4ece\u96c6\u7fa4\u4e2d\u5220\u9664\u79bb\u7ebf\u8282\u70b9\u3002","example":"12m","readOnly":true,"type":"string"},"autoheal":{"default":true,"description":"\u96c6\u7fa4\u8111\u88c2\u81ea\u52a8\u6062\u590d\u673a\u5236\u5f00\u5173\u3002","readOnly":true,"type":"boolean"},"proto_dist":{"default":"inet_tcp","description":"\u5206\u5e03\u5f0f Erlang \u96c6\u7fa4\u534f\u8bae\u7c7b\u578b\u3002\u53ef\u9009\u503c\u4e3a:<br/><br/>- inet_tcp: \u4f7f\u7528 IPv4 <br/><br/>- inet_tls: \u4f7f\u7528 TLS\uff0c\u9700\u8981\u914d\u5408 <code>etc/ssl_dist.conf</code> \u4e00\u8d77\u4f7f\u7528\u3002","enum":["inet_tcp","inet6_tcp","inet_tls"],"readOnly":true,"type":"string"},"static":{"$ref":"#/components/schemas/emqx_conf_schema.cluster_static"},"mcast":{"$ref":"#/components/schemas/emqx_conf_schema.cluster_mcast"},"dns":{"$ref":"#/components/schemas/emqx_conf_schema.cluster_dns"},"etcd":{"$ref":"#/components/schemas/emqx_conf_schema.cluster_etcd"},"k8s":{"$ref":"#/components/schemas/emqx_conf_schema.cluster_k8s"}},"type":"object"},"plugins.running_status":{"properties":{"node":{"example":"emqx@127.0.0.1","type":"string"},"status":{"description":"Install plugin status at runtime<br/>1. running: plugin is running.<br/>2. stopped: plugin is stopped.<br/>","enum":["running","stopped"],"type":"string"}},"type":"object"},"bridge_mqtt.creation_opts":{"properties":{"worker_pool_size":{"default":16,"description":"\u7f13\u5b58\u961f\u5217 worker \u6570\u91cf\u3002\u4ec5\u5bf9 egress \u7c7b\u578b\u7684\u6865\u63a5\u6709\u610f\u4e49\u3002\u5f53\u6865\u63a5\u4ec5\u6709 ingress \u65b9\u5411\u65f6\uff0c\u53ef\u8bbe\u7f6e\u4e3a 0\uff0c\u5426\u5219\u5fc5\u987b\u5927\u4e8e 0\u3002","minimum":0,"type":"integer"},"health_check_interval":{"default":"15s","description":"\u5065\u5eb7\u68c0\u67e5\u95f4\u9694\u3002","example":"32s","type":"string"},"start_after_created":{"default":"true","description":"\u662f\u5426\u5728\u521b\u5efa\u8d44\u6e90\u540e\u7acb\u5373\u542f\u52a8\u8d44\u6e90\u3002","type":"boolean"},"start_timeout":{"default":"5s","description":"\u5728\u56de\u590d\u8d44\u6e90\u521b\u5efa\u8bf7\u6c42\u524d\u7b49\u5f85\u8d44\u6e90\u8fdb\u5165\u5065\u5eb7\u72b6\u6001\u7684\u65f6\u95f4\u3002","example":"32s","type":"string"},"auto_restart_interval":{"default":"60s","description":"\u8d44\u6e90\u65ad\u5f00\u4ee5\u540e\uff0c\u81ea\u52a8\u91cd\u8fde\u7684\u65f6\u95f4\u95f4\u9694\u3002","oneOf":[{"example":"32s","type":"string"},{"enum":["infinity"],"type":"string"}]},"query_mode":{"default":"async","description":"\u8bf7\u6c42\u6a21\u5f0f\u3002\u53ef\u9009 '\u540c\u6b65/\u5f02\u6b65'\uff0c\u9ed8\u8ba4\u4e3a'\u5f02\u6b65'\u6a21\u5f0f\u3002","enum":["sync","async"],"type":"string"},"request_timeout":{"default":"15s","description":"\u8bf7\u6c42\u7684\u8d85\u65f6\u3002 \u5982\u679c<code>query_mode</code>\u662f<code>sync</code>\uff0c\u5bf9\u8d44\u6e90\u7684\u8c03\u7528\u5c06\u5728\u8d85\u65f6\u524d\u88ab\u963b\u65ad\u8fd9\u4e00\u65f6\u95f4\u3002","oneOf":[{"example":"32s","type":"string"},{"enum":["infinity"],"type":"string"}]},"async_inflight_window":{"default":100,"description":"\u5f02\u6b65\u8bf7\u6c42\u98de\u884c\u961f\u5217\u7a97\u53e3\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"enable_queue":{"default":false,"deprecated":true,"description":"\u542f\u7528\u78c1\u76d8\u7f13\u5b58\u961f\u5217\uff08\u4ec5\u5bf9 egress \u65b9\u5411\u6865\u63a5\u6709\u7528\uff09\u3002","type":"boolean"},"max_queue_bytes":{"default":"100MB","description":"\u6bcf\u4e2a\u7f13\u5b58 worker \u5141\u8bb8\u4f7f\u7528\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","example":"32MB","type":"string"}},"type":"object"},"emqx_gateway_api.update_coap":{"properties":{"heartbeat":{"default":"30s","description":"CoAP \u7f51\u5173\u8981\u6c42\u5ba2\u6237\u7aef\u7684\u6700\u5c0f\u5fc3\u8df3\u95f4\u9694\u65f6\u95f4\u3002<br/>\u5f53 <code>connection_required</code> \u5f00\u542f\u540e\uff0c\u8be5\u53c2\u6570\u7528\u4e8e\u68c0\u67e5\u5ba2\u6237\u7aef\u8fde\u63a5\u662f\u5426\u5b58\u6d3b","example":"12m","type":"string"},"connection_required":{"default":false,"description":"\u662f\u5426\u5f00\u542f\u8fde\u63a5\u6a21\u5f0f\u3002<br/>\u8fde\u63a5\u6a21\u5f0f\u662f\u975e\u6807\u51c6\u534f\u8bae\u7684\u529f\u80fd\u3002\u5b83\u7ef4\u62a4 CoAP \u5ba2\u6237\u7aef\u4e0a\u7ebf\u3001\u8ba4\u8bc1\u3001\u548c\u8fde\u63a5\u72b6\u6001\u7684\u4fdd\u6301","type":"boolean"},"notify_type":{"default":"qos","description":"\u6295\u9012\u7ed9 CoAP \u5ba2\u6237\u7aef\u7684\u901a\u77e5\u6d88\u606f\u7c7b\u578b\u3002\u5f53\u5ba2\u6237\u7aef Observe \u4e00\u4e2a\u8d44\u6e90\uff08\u6216\u8ba2\u9605\u67d0\u4e2a\u4e3b\u9898\uff09\u65f6\uff0c\u7f51\u5173\u4f1a\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u65b0\u4ea7\u751f\u7684\u6d88\u606f\u3002\u5176\u6d88\u606f\u7c7b\u578b\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br/><br/>  - non: \u4e0d\u9700\u8981\u5ba2\u6237\u7aef\u8fd4\u56de\u786e\u8ba4\u6d88\u606f;<br/><br/>  - con: \u9700\u8981\u5ba2\u6237\u7aef\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u6d88\u606f;<br/><br/>  - qos: \u53d6\u51b3\u4e8e\u6d88\u606f\u7684 QoS \u7b49\u7ea7; QoS 0 \u4f1a\u4ee5 `non` \u7c7b\u578b\u4e0b\u53d1\uff0cQoS 1/2 \u4f1a\u4ee5 `con` \u7c7b\u578b\u4e0b\u53d1","enum":["non","con","qos"],"type":"string"},"subscribe_qos":{"default":"coap","description":"\u5ba2\u6237\u7aef\u8ba2\u9605\u8bf7\u6c42\u7684\u9ed8\u8ba4 QoS \u7b49\u7ea7\u3002<br/>\u5f53 CoAP \u5ba2\u6237\u7aef\u53d1\u8d77\u8ba2\u9605\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u672a\u643a\u5e26 `qos` \u53c2\u6570\u5219\u4f1a\u4f7f\u7528\u8be5\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br/><br/>  - qos0\u3001 qos1\u3001qos2: \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u7684 QoS \u7b49\u7ea7<br/><br/>  - coap: \u4f9d\u636e\u8ba2\u9605\u64cd\u4f5c\u7684 CoAP \u62a5\u6587\u7c7b\u578b\u6765\u52a8\u6001\u51b3\u5b9a<br/><br/>    * \u5f53\u8ba2\u9605\u8bf7\u6c42\u4e3a `non-confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos0<br/><br/>    * \u5f53\u8ba2\u9605\u8bf7\u6c42\u4e3a `confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos1","enum":["qos0","qos1","qos2","coap"],"type":"string"},"publish_qos":{"default":"coap","description":"\u5ba2\u6237\u7aef\u53d1\u5e03\u8bf7\u6c42\u7684\u9ed8\u8ba4 QoS \u7b49\u7ea7\u3002<br/>\u5f53 CoAP \u5ba2\u6237\u7aef\u53d1\u8d77\u53d1\u5e03\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u672a\u643a\u5e26 `qos` \u53c2\u6570\u5219\u4f1a\u4f7f\u7528\u8be5\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br><br/>  - qos0\u3001qos1\u3001qos2: \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u7684 QoS \u7b49\u7ea7<br/><br/>  - coap: \u4f9d\u636e\u53d1\u5e03\u64cd\u4f5c\u7684 CoAP \u62a5\u6587\u7c7b\u578b\u6765\u52a8\u6001\u51b3\u5b9a<br/><br/>    * \u5f53\u53d1\u5e03\u8bf7\u6c42\u4e3a `non-confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos0<br/><br/>    * \u5f53\u53d1\u5e03\u8bf7\u6c42\u4e3a `confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos1","enum":["qos0","qos1","qos2","coap"],"type":"string"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"}},"type":"object"},"listeners.ssl_required_bind(with_name)":{"required":["bind","name","type"],"properties":{"type":{"description":"Listener type","enum":["ssl"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"name":{"description":"Listener name","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_ssl_opts"}},"type":"object"},"emqx_mgmt_api_publish.publish_message":{"required":["payload","topic"],"properties":{"payload_encoding":{"default":"plain","description":"MQTT \u6d88\u606f\u4f53\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u53ef\u4ee5\u662f <code>base64</code> \u6216 <code>plain</code>\u3002\u5f53\u8bbe\u7f6e\u4e3a <code>base64</code> \u65f6\uff0c\u6d88\u606f\u5728\u53d1\u5e03\u524d\u4f1a\u5148\u88ab\u89e3\u7801\u3002","enum":["plain","base64"],"type":"string"},"topic":{"description":"\u4e3b\u9898\u540d\u79f0","example":"api/example/topic","type":"string"},"qos":{"default":0,"description":"MQTT \u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"clientid":{"deprecated":true,"type":"string"},"payload":{"description":"MQTT \u6d88\u606f\u4f53\u3002","example":"hello emqx api","type":"string"},"properties":{"description":"PUBLISH \u6d88\u606f\u91cc\u7684 Property \u5b57\u6bb5\u3002","$ref":"#/components/schemas/emqx_mgmt_api_publish.message_properties"},"retain":{"default":false,"description":"\u5e03\u5c14\u578b\u5b57\u6bb5\uff0c\u7528\u4e8e\u8868\u793a\u8be5\u6d88\u606f\u662f\u5426\u4fdd\u7559\u6d88\u606f\u3002","type":"boolean"}},"type":"object"},"emqx_mgmt_api_clients.subscribe":{"required":["topic"],"properties":{"topic":{"description":"Topic","type":"string"},"qos":{"default":0,"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"nl":{"default":0,"description":"No Local","type":"integer"},"rap":{"default":0,"description":"Retain as Published","type":"integer"},"rh":{"default":0,"description":"Retain Handling","type":"integer"}},"type":"object"},"emqx_authn_api.response_users":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_authn_api.response_user"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"},"emqx_gateway_api.tcp_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["tcp"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"tcp_options":{"description":"TCP Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.tcp_opts"},"proxy_protocol":{"default":false,"description":"\u662f\u5426\u5f00\u542f Proxy Protocol V1/2\u3002\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u540e\u9700\u8981\u83b7\u53d6\u5ba2\u6237\u7aef\u771f\u5b9e IP \u65f6\u5e38\u7528\u5230\u8be5\u9009\u9879\u3002\u53c2\u8003\uff1ahttps://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"15s","description":"\u63a5\u6536 Proxy Protocol \u62a5\u6587\u5934\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u5728\u8d85\u65f6\u5185\u6ca1\u6709\u6536\u5230 Proxy Protocol \u5305\uff0cEMQX \u5c06\u5173\u95ed TCP \u8fde\u63a5\u3002","example":"12m","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"}},"type":"object"},"emqx_conf_schema.log":{"properties":{"console_handler":{"description":"\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u5c06\u65e5\u5fd7\u4e8b\u4ef6\u6253\u5370\u5230 EMQX \u63a7\u5236\u53f0\u3002","$ref":"#/components/schemas/emqx_conf_schema.console_handler"},"file_handlers":{"description":"\u8f93\u51fa\u5230\u6587\u4ef6\u7684\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u5217\u8868","properties":{"$name":{"$ref":"#/components/schemas/emqx_conf_schema.log_file_handler"}},"type":"object"}},"type":"object"},"emqx_authz_api_schema.http_get":{"required":["url","type","method"],"properties":{"method":{"default":"get","description":"HTTP \u8bf7\u6c42\u65b9\u6cd5\u3002","enum":["get"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","keep-alive":"timeout=30, max=1000"},"description":"HTTP Headers \u5217\u8868\uff08\u65e0 <code>content-type</code>\uff09\u3002","example":{},"type":"object"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"http","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["http"],"type":"string"},"url":{"description":"\u8ba4\u8bc1\u670d\u52a1\u5668 URL\u3002","type":"string"},"body":{"description":"HTTP \u8bf7\u6c42\u4f53\u3002","example":{},"type":"object"},"request_timeout":{"default":"30s","description":"\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\u3002","type":"string"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"max_retries":{"deprecated":true,"minimum":0,"type":"integer"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_mgmt_api_clients.unsubscribe":{"properties":{"topic":{"description":"Topic","type":"string"}},"type":"object"},"emqx_mgmt_api_metrics.node_metrics":{"properties":{"node":{"description":"Node name","type":"string"},"actions.failure":{"description":"Number of failure executions of the rule engine action","minimum":0,"type":"integer"},"actions.success":{"description":"Number of successful executions of the rule engine action","minimum":0,"type":"integer"},"bytes.received":{"description":"Number of bytes received ","minimum":0,"type":"integer"},"bytes.sent":{"description":"Number of bytes sent on this connection","minimum":0,"type":"integer"},"client.auth.anonymous":{"description":"Number of clients who log in anonymously","minimum":0,"type":"integer"},"client.authenticate":{"description":"Number of client authentications","minimum":0,"type":"integer"},"client.check_authz":{"description":"Number of Authorization rule checks","minimum":0,"type":"integer"},"client.connack":{"description":"Number of CONNACK packet sent","minimum":0,"type":"integer"},"client.connect":{"description":"Number of client connections","minimum":0,"type":"integer"},"client.connected":{"description":"Number of successful client connections","minimum":0,"type":"integer"},"client.disconnected":{"description":"Number of client disconnects","minimum":0,"type":"integer"},"client.subscribe":{"description":"Number of client subscriptions","minimum":0,"type":"integer"},"client.unsubscribe":{"description":"Number of client unsubscriptions","minimum":0,"type":"integer"},"delivery.dropped":{"description":"Total number of discarded messages when sending","minimum":0,"type":"integer"},"delivery.dropped.expired":{"description":"Number of messages dropped due to message expiration on sending","minimum":0,"type":"integer"},"delivery.dropped.no_local":{"description":"Number of messages that were dropped due to the No Local subscription option when sending","minimum":0,"type":"integer"},"delivery.dropped.qos0_msg":{"description":"Number of messages with QoS 0 that were dropped because the message queue was full when sending","minimum":0,"type":"integer"},"delivery.dropped.queue_full":{"description":"Number of messages with a non-zero QoS that were dropped because the message queue was full when sending","minimum":0,"type":"integer"},"delivery.dropped.too_large":{"description":"The number of messages that were dropped because the length exceeded the limit when sending","minimum":0,"type":"integer"},"messages.acked":{"description":"Number of received PUBACK and PUBREC packet","minimum":0,"type":"integer"},"messages.delayed":{"description":"Number of delay-published messages","minimum":0,"type":"integer"},"messages.delivered":{"description":"Number of messages forwarded to the subscription process internally","minimum":0,"type":"integer"},"messages.dropped":{"description":"Total number of messages dropped before forwarding to the subscription process","minimum":0,"type":"integer"},"messages.dropped.await_pubrel_timeout":{"description":"Number of messages dropped due to waiting PUBREL timeout","minimum":0,"type":"integer"},"messages.dropped.no_subscribers":{"description":"Number of messages dropped due to no subscribers","minimum":0,"type":"integer"},"messages.forward":{"description":"Number of messages forwarded to other nodes","minimum":0,"type":"integer"},"messages.publish":{"description":"Number of messages published in addition to system messages","minimum":0,"type":"integer"},"messages.qos0.received":{"description":"Number of QoS 0 messages received from clients","minimum":0,"type":"integer"},"messages.qos0.sent":{"description":"Number of QoS 0 messages sent to clients","minimum":0,"type":"integer"},"messages.qos1.received":{"description":"Number of QoS 1 messages received from clients","minimum":0,"type":"integer"},"messages.qos1.sent":{"description":"Number of QoS 1 messages sent to clients","minimum":0,"type":"integer"},"messages.qos2.received":{"description":"Number of QoS 2 messages received from clients","minimum":0,"type":"integer"},"messages.qos2.sent":{"description":"Number of QoS 2 messages sent to clients","minimum":0,"type":"integer"},"messages.received":{"description":"Number of messages received from the client, equal to the sum of messages.qos0.received\fmessages.qos1.received and messages.qos2.received","minimum":0,"type":"integer"},"messages.retained":{"description":"Number of retained messages","minimum":0,"type":"integer"},"messages.sent":{"description":"Number of messages sent to the client, equal to the sum of messages.qos0.sent\fmessages.qos1.sent and messages.qos2.sent","minimum":0,"type":"integer"},"packets.auth.received":{"description":"Number of received AUTH packet","minimum":0,"type":"integer"},"packets.auth.sent":{"description":"Number of sent AUTH packet","minimum":0,"type":"integer"},"packets.connack.auth_error":{"description":"Number of received CONNECT packet with failed authentication","minimum":0,"type":"integer"},"packets.connack.error":{"description":"Number of received CONNECT packet with unsuccessful connections","minimum":0,"type":"integer"},"packets.connack.sent":{"description":"Number of sent CONNACK packet","minimum":0,"type":"integer"},"packets.connect.received":{"description":"Number of received CONNECT packet","minimum":0,"type":"integer"},"packets.disconnect.received":{"description":"Number of received DISCONNECT packet","minimum":0,"type":"integer"},"packets.disconnect.sent":{"description":"Number of sent DISCONNECT packet","minimum":0,"type":"integer"},"packets.pingreq.received":{"description":"Number of received PINGREQ packet","minimum":0,"type":"integer"},"packets.pingresp.sent":{"description":"Number of sent PUBRESP packet","minimum":0,"type":"integer"},"packets.puback.inuse":{"description":"Number of received PUBACK packet with occupied identifiers","minimum":0,"type":"integer"},"packets.puback.missed":{"description":"Number of received packet with identifiers.","minimum":0,"type":"integer"},"packets.puback.received":{"description":"Number of received PUBACK packet","minimum":0,"type":"integer"},"packets.puback.sent":{"description":"Number of sent PUBACK packet","minimum":0,"type":"integer"},"packets.pubcomp.inuse":{"description":"Number of received PUBCOMP packet with occupied identifiers","minimum":0,"type":"integer"},"packets.pubcomp.missed":{"description":"Number of missed PUBCOMP packet","minimum":0,"type":"integer"},"packets.pubcomp.received":{"description":"Number of received PUBCOMP packet","minimum":0,"type":"integer"},"packets.pubcomp.sent":{"description":"Number of sent PUBCOMP packet","minimum":0,"type":"integer"},"packets.publish.auth_error":{"description":"Number of received PUBLISH packets with failed the Authorization check","minimum":0,"type":"integer"},"packets.publish.dropped":{"description":"Number of messages discarded due to the receiving limit","minimum":0,"type":"integer"},"packets.publish.error":{"description":"Number of received PUBLISH packet that cannot be published","minimum":0,"type":"integer"},"packets.publish.inuse":{"description":"Number of received PUBLISH packet with occupied identifiers","minimum":0,"type":"integer"},"packets.publish.received":{"description":"Number of received PUBLISH packet","minimum":0,"type":"integer"},"packets.publish.sent":{"description":"Number of sent PUBLISH packet","minimum":0,"type":"integer"},"packets.pubrec.inuse":{"description":"Number of received PUBREC packet with occupied identifiers","minimum":0,"type":"integer"},"packets.pubrec.missed":{"description":"Number of received PUBREC packet with unknown identifiers","minimum":0,"type":"integer"},"packets.pubrec.received":{"description":"Number of received PUBREC packet","minimum":0,"type":"integer"},"packets.pubrec.sent":{"description":"Number of sent PUBREC packet","minimum":0,"type":"integer"},"packets.pubrel.missed":{"description":"Number of received PUBREC packet with unknown identifiers","minimum":0,"type":"integer"},"packets.pubrel.received":{"description":"Number of received PUBREL packet","minimum":0,"type":"integer"},"packets.pubrel.sent":{"description":"Number of sent PUBREL packet","minimum":0,"type":"integer"},"packets.received":{"description":"Number of received packet","minimum":0,"type":"integer"},"packets.sent":{"description":"Number of sent packet","minimum":0,"type":"integer"},"packets.suback.sent":{"description":"Number of sent SUBACK packet","minimum":0,"type":"integer"},"packets.subscribe.auth_error":{"description":"Number of received SUBACK packet with failed Authorization check","minimum":0,"type":"integer"},"packets.subscribe.error":{"description":"Number of received SUBSCRIBE packet with failed subscriptions","minimum":0,"type":"integer"},"packets.subscribe.received":{"description":"Number of received SUBSCRIBE packet","minimum":0,"type":"integer"},"packets.unsuback.sent":{"description":"Number of sent UNSUBACK packet","minimum":0,"type":"integer"},"packets.unsubscribe.error":{"description":"Number of received UNSUBSCRIBE packet with failed unsubscriptions","minimum":0,"type":"integer"},"packets.unsubscribe.received":{"description":"Number of received UNSUBSCRIBE packet","minimum":0,"type":"integer"},"rules.matched":{"description":"Number of rule matched","minimum":0,"type":"integer"},"session.created":{"description":"Number of sessions created","minimum":0,"type":"integer"},"session.discarded":{"description":"Number of sessions dropped because Clean Session or Clean Start is true","minimum":0,"type":"integer"},"session.resumed":{"description":"Number of sessions resumed because Clean Session or Clean Start is false","minimum":0,"type":"integer"},"session.takenover":{"description":"Number of sessions takenover because Clean Session or Clean Start is false","minimum":0,"type":"integer"},"session.terminated":{"description":"Number of terminated sessions","minimum":0,"type":"integer"}},"type":"object"},"listeners.ws_required_bind(with_name)":{"required":["bind","name","type"],"properties":{"type":{"description":"Listener type","enum":["ws"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"name":{"description":"Listener name","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8083,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"listeners.quic_not_required_bind":{"required":["id","type"],"properties":{"type":{"description":"Listener type","enum":["quic"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"bind":{"default":14567,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"certfile":{"description":"\u8bc1\u4e66\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.certfile \u4ee3\u66ff\u3002","type":"string"},"keyfile":{"description":"\u79c1\u94a5\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.keyfile \u4ee3\u66ff\u3002","type":"string"},"ciphers":{"default":["TLS_AES_256_GCM_SHA384","TLS_AES_128_GCM_SHA256","TLS_CHACHA20_POLY1305_SHA256"],"description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6\uff0c<code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code><br/><br/><br/>\u6ce8\uff1aQUIC \u76d1\u542c\u5668\u4e0d\u652f\u6301 tlsv1.3 \u7684 ciphers","items":{"type":"string"},"type":"array"},"max_bytes_per_key":{"description":"\u5728\u542f\u52a8\u5bc6\u94a5\u66f4\u65b0\u4e4b\u524d\uff0c\u7528\u5355\u4e2a 1-RTT \u52a0\u5bc6\u5bc6\u94a5\u52a0\u5bc6\u7684\u6700\u5927\u5b57\u8282\u6570\u3002\u9ed8\u8ba4\u503c\uff1a274877906944","maximum":18446744073709551615,"minimum":1,"type":"integer"},"tls_server_max_send_buffer":{"description":"\u7f13\u51b2\u591a\u5c11TLS\u6570\u636e\u3002 \u9ed8\u8ba4\u503c\uff1a8192","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_window_default":{"description":"\u521d\u59cb\u6d41\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u3002 \u9ed8\u8ba4\u503c\uff1a32678","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_buffer_default":{"description":"\u6d41\u7684\u521d\u59cb\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u9ed8\u8ba4\uff1a4096","maximum":4294967295,"minimum":1,"type":"integer"},"conn_flow_control_window":{"description":"\u8fde\u63a5\u7684\u6d41\u63a7\u7a97\u53e3\u3002\u9ed8\u8ba4\uff1a16777216","maximum":4294967295,"minimum":1,"type":"integer"},"max_stateless_operations":{"description":"\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\uff0c\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u5de5\u4f5c\u8005\u4e0a\u6392\u961f\u3002\u9ed8\u8ba4\u503c\uff1a16","maximum":4294967295,"minimum":1,"type":"integer"},"initial_window_packets":{"description":"\u4e00\u4e2a\u8fde\u63a5\u7684\u521d\u59cb\u62e5\u5835\u7a97\u53e3\u7684\u5927\u5c0f\uff08\u4ee5\u5305\u4e3a\u5355\u4f4d\uff09\u3002\u9ed8\u8ba4\u503c\uff1a10","maximum":4294967295,"minimum":1,"type":"integer"},"send_idle_timeout_ms":{"description":"\u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u91cd\u7f6e\u62e5\u5835\u63a7\u5236\u3002\u9ed8\u8ba4\u503c\uff1a1000","maximum":4294967295,"minimum":1,"type":"integer"},"initial_rtt_ms":{"description":"\u521d\u59cbRTT\u4f30\u8ba1","maximum":4294967295,"minimum":1,"type":"integer"},"max_ack_delay_ms":{"description":"\u5728\u6536\u5230\u6570\u636e\u540e\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u624d\u80fd\u53d1\u9001\u4e00\u4e2aACK\u3002\u9ed8\u8ba4\u503c\uff1a25","maximum":4294967295,"minimum":1,"type":"integer"},"disconnect_timeout_ms":{"description":"\u5728\u5224\u5b9a\u8def\u5f84\u65e0\u6548\u548c\u65ad\u5f00\u8fde\u63a5\u4e4b\u524d\uff0c\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u7684ACK\u3002\u9ed8\u8ba4\uff1a16000","maximum":4294967295,"minimum":1,"type":"integer"},"idle_timeout":{"default":0,"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020\u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"idle_timeout_ms":{"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u4f18\u96c5\u5730\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020 \u8868\u793a\u7981\u7528\u8d85\u65f6","maximum":18446744073709551615,"minimum":0,"type":"integer"},"handshake_idle_timeout":{"default":"10s","description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u3002","example":"32s","type":"string"},"handshake_idle_timeout_ms":{"description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4","maximum":18446744073709551615,"minimum":1,"type":"integer"},"keep_alive_interval":{"default":0,"description":"\u53d1\u9001 PING \u5e27\u7684\u9891\u7387\uff0c\u4ee5\u4fdd\u6d3b\u8fde\u63a5. \u8bbe\u4e3a 0 \u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"keep_alive_interval_ms":{"description":"\u591a\u957f\u65f6\u95f4\u53d1\u9001\u4e00\u6b21PING\u5e27\u4ee5\u4fdd\u6d3b\u8fde\u63a5\u3002","maximum":4294967295,"minimum":0,"type":"integer"},"peer_bidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u53cc\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":1,"type":"integer"},"peer_unidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u5355\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":0,"type":"integer"},"retry_memory_limit":{"description":"\u5728\u4f7f\u7528\u65e0\u72b6\u6001\u91cd\u8bd5\u4e4b\u524d\uff0c\u53ef\u7528\u4e8e\u63e1\u624b\u8fde\u63a5\u7684\u53ef\u7528\u5185\u5b58\u7684\u767e\u5206\u6bd4\u3002\u8ba1\u7b97\u4e3a`N/65535`\u3002\u9ed8\u8ba4\u503c\uff1a65","maximum":65535,"minimum":0,"type":"integer"},"load_balancing_mode":{"description":"0: \u7981\u7528, 1: SERVER_ID_IP, 2: SERVER_ID_FIXED. \u9ed8\u8ba4: 0","maximum":65535,"minimum":0,"type":"integer"},"max_operations_per_drain":{"description":"\u6bcf\u4e2a\u8fde\u63a5\u64cd\u4f5c\u7684\u6700\u5927\u8017\u8d39\u64cd\u4f5c\u6570\u3002\u9ed8\u8ba4\uff1a16","maximum":255,"minimum":0,"type":"integer"},"send_buffering_enabled":{"description":"\u7f13\u51b2\u53d1\u9001\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4fdd\u7559\u5e94\u7528\u7f13\u51b2\u533a\uff0c\u76f4\u5230\u53d1\u9001\u6570\u636e\u88ab\u786e\u8ba4\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u542f\u7528\uff09","type":"boolean"},"pacing_enabled":{"description":"\u6709\u8282\u594f\u7684\u53d1\u9001\uff0c\u4ee5\u907f\u514d\u8def\u5f84\u4e0a\u7684\u7f13\u51b2\u533a\u8fc7\u5ea6\u586b\u5145\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"migration_enabled":{"description":"\u5f00\u542f\u5ba2\u6237\u7aef\u5730\u5740\u8fc1\u79fb\u529f\u80fd\u3002\u9700\u8981\u4e00\u4e2a\u652f\u6301\u7684\u8d1f\u8f7d\u5e73\u8861\u5668\uff0c\u6216\u8005\u6ca1\u6709\u8d1f\u8f7d\u5e73\u8861\u5668\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"datagram_receive_enabled":{"description":"\u5ba3\u4f20\u5bf9QUIC Datagram \u6269\u5c55\u7684\u652f\u6301\u3002\u4e3a\u5c06\u6765\u4fdd\u7559\u3002\u9ed8\u8ba4\u4e3a0\uff08FALSE\uff09","type":"boolean"},"server_resumption_level":{"description":"\u8fde\u63a5\u6062\u590d \u548c/\u6216 0-RTT \u670d\u52a1\u5668\u652f\u6301\u3002\u9ed8\u8ba4\u503c\uff1a0\uff08\u65e0\u6062\u590d\u529f\u80fd\uff09","maximum":255,"minimum":0,"type":"integer"},"minimum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5c0fMTU\u3002\u8fd9\u5c06\u88ab\u4f5c\u4e3a\u8d77\u59cbMTU\u4f7f\u7528\u3002\u9ed8\u8ba4\u503c\uff1a1248","maximum":65535,"minimum":1,"type":"integer"},"maximum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5927MTU\u3002\u8fd9\u5c06\u662f\u6700\u5927\u7684\u63a2\u6d4b\u503c\u3002\u9ed8\u8ba4\u503c\uff1a1500","maximum":65535,"minimum":1,"type":"integer"},"mtu_discovery_search_complete_timeout_us":{"description":"\u5982\u679c\u6ca1\u6709\u8fbe\u5230 max \uff0c\u5728\u91cd\u65b0\u5c1d\u8bd5 MTU \u63a2\u6d4b\u4e4b\u524d\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u5fae\u79d2\u3002\u9ed8\u8ba4\u503c\uff1a600000000","maximum":18446744073709551615,"minimum":0,"type":"integer"},"mtu_discovery_missing_probe_count":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a3","maximum":255,"minimum":1,"type":"integer"},"max_binding_stateless_operations":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"stateless_operation_expiration_ms":{"description":"\u540c\u4e00\u4e2a\u5bf9\u7aef\u7684\u64cd\u4f5c\u4e4b\u95f4\u7684\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002 \u9ed8\u8ba4\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"ssl_options":{"description":"QUIC \u4f20\u8f93\u5c42\u7684 TLS \u9009\u9879","$ref":"#/components/schemas/broker.listener_quic_ssl_opts"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"}},"type":"object"},"retainer.message":{"properties":{"payload":{"description":"\u6d88\u606f\u5185\u5bb9","type":"string"},"msgid":{"description":"\u6d88\u606f ID","type":"string"},"topic":{"description":"\u4e3b\u9898","type":"string"},"qos":{"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"publish_at":{"description":"\u6d88\u606f\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"from_clientid":{"description":"\u53d1\u5e03\u8005\u7684 ClientID","type":"string"},"from_username":{"description":"\u53d1\u5e03\u8005\u7684\u7528\u6237\u540d","type":"string"}},"type":"object"},"emqx_authn_schema.node_status":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"status":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u72b6\u6001\u3002","enum":["connected","disconnected","connecting"],"type":"string"}},"type":"object"},"exhook.server_config":{"required":["url","name"],"properties":{"name":{"description":"ExHook \u670d\u52a1\u5668\u540d\u79f0","example":"default","type":"string"},"enable":{"default":true,"description":"\u5f00\u542f\u8fd9\u4e2a Exhook \u670d\u52a1\u5668","type":"boolean"},"url":{"description":"gRPC \u670d\u52a1\u5668\u5730\u5740","example":"http://127.0.0.1:9000","type":"string"},"request_timeout":{"default":"5s","description":"gRPC \u670d\u52a1\u5668\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4","example":"12m","type":"string"},"failed_action":{"default":"deny","description":"\u5f53 gRPC \u8bf7\u6c42\u5931\u8d25\u540e\u7684\u64cd\u4f5c","enum":["deny","ignore"],"type":"string"},"ssl":{"$ref":"#/components/schemas/exhook.ssl_conf"},"socket_options":{"default":{"keepalive":true,"nodelay":true},"$ref":"#/components/schemas/exhook.socket_options"},"auto_reconnect":{"default":"60s","description":"\u81ea\u52a8\u91cd\u8fde\u5230 gRPC \u670d\u52a1\u5668\u7684\u8bbe\u7f6e\u3002<br/>\u5f53 gRPC \u670d\u52a1\u5668\u4e0d\u53ef\u7528\u65f6\uff0cExhook \u5c06\u4f1a\u6309\u7167\u8fd9\u91cc\u8bbe\u7f6e\u7684\u95f4\u9694\u65f6\u95f4\u8fdb\u884c\u91cd\u8fde\uff0c\u5e76\u91cd\u65b0\u521d\u59cb\u5316\u6ce8\u518c\u7684\u94a9\u5b50","oneOf":[{"example":"12m","type":"string"},{"enum":[false],"type":"string"}]},"pool_size":{"default":8,"description":"gRPC \u5ba2\u6237\u7aef\u8fdb\u7a0b\u6c60\u5927\u5c0f","minimum":1,"type":"integer"}},"type":"object"},"emqx_rule_api_schema.ctx_sub":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["session_subscribed"],"type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_conf_schema.cluster_k8s":{"properties":{"apiserver":{"default":"http://10.110.111.204:8080","description":"\u6307\u5b9a Kubernetes API Server\u3002\u5982\u6709\u591a\u4e2a Server \u4f7f\u7528\u9017\u53f7 , \u5206\u9694\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a k8s \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"string"},"service_name":{"default":"emqx","description":"\u6307\u5b9a Kubernetes \u4e2d EMQX \u7684\u670d\u52a1\u540d\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a k8s \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"string"},"address_type":{"default":"ip","description":"\u5f53\u4f7f\u7528 k8s \u65b9\u5f0f\u96c6\u7fa4\u65f6\uff0caddress_type \u7528\u6765\u4ece Kubernetes \u63a5\u53e3\u7684\u5e94\u7b54\u91cc\u83b7\u53d6\u4ec0\u4e48\u5f62\u5f0f\u7684 Host \u5217\u8868\u3002<br/>\u6307\u5b9a <code>cluster.k8s.address_type</code> \u4e3a <code>ip</code>\uff0c\u5219\u5c06\u4ece Kubernetes \u63a5\u53e3\u4e2d\u83b7\u53d6\u96c6\u7fa4\u4e2d\u5176\u4ed6\u8282\u70b9<br/>\u7684IP\u5730\u5740\u3002","enum":["ip","dns","hostname"],"readOnly":true,"type":"string"},"namespace":{"default":"default","description":"\u5f53\u4f7f\u7528 k8s \u65b9\u5f0f\u5e76\u4e14 cluster.k8s.address_type \u6307\u5b9a\u4e3a dns \u7c7b\u578b\u65f6\uff0c<br/>\u53ef\u8bbe\u7f6e emqx \u8282\u70b9\u540d\u7684\u547d\u540d\u7a7a\u95f4\u3002\u4e0e cluster.k8s.suffix \u4e00\u8d77\u4f7f\u7528\u7528\u4ee5\u62fc\u63a5\u5f97\u5230\u8282\u70b9\u540d\u5217\u8868\u3002","readOnly":true,"type":"string"},"suffix":{"default":"pod.local","description":"\u5f53\u4f7f\u7528 k8s \u65b9\u5f0f\u5e76\u4e14 cluster.k8s.address_type \u6307\u5b9a\u4e3a dns \u7c7b\u578b\u65f6\uff0c\u53ef\u8bbe\u7f6e emqx \u8282\u70b9\u540d\u7684\u540e\u7f00\u3002<br/>\u4e0e cluster.k8s.namespace \u4e00\u8d77\u4f7f\u7528\u7528\u4ee5\u62fc\u63a5\u5f97\u5230\u8282\u70b9\u540d\u5217\u8868\u3002","readOnly":true,"type":"string"}},"type":"object"},"gateway.clientinfo_override":{"properties":{"username":{"description":"username \u91cd\u5199\u6a21\u677f","type":"string"},"password":{"description":"password \u91cd\u5199\u6a21\u677f","format":"password","type":"string"},"clientid":{"description":"clientid \u91cd\u5199\u6a21\u677f","type":"string"}},"type":"object"},"statsd.statsd":{"properties":{"enable":{"default":false,"description":"\u542f\u7528\u6216\u7981\u7528 StatsD \u6307\u6807\u91c7\u96c6\u548c\u63a8\u9001\u670d\u52a1\u3002","type":"boolean"},"server":{"default":"127.0.0.1:8125","description":"StatsD \u670d\u52a1\u5668\u5730\u5740\u3002","type":"string"},"sample_time_interval":{"default":"30s","description":"\u6307\u6807\u7684\u91c7\u6837\u95f4\u9694\u3002","example":"32s","type":"string"},"flush_time_interval":{"default":"30s","description":"\u6307\u6807\u7684\u63a8\u9001\u95f4\u9694\u3002","example":"32s","type":"string"},"tags":{"default":{},"description":"\u6307\u6807\u7684\u6807\u7b7e\u3002","example":{},"type":"object"}},"type":"object"},"emqx_rule_api_schema.rule_events":{"required":["event"],"properties":{"event":{"description":"\u4e8b\u4ef6\u4e3b\u9898","enum":["$events/client_connected","$events/client_disconnected","$events/client_connack","$events/client_check_authz_complete","$events/session_subscribed","$events/session_unsubscribed","$events/message_delivered","$events/message_acked","$events/message_dropped","$events/delivery_dropped"],"type":"string"},"title":{"description":"\u6807\u9898","example":"some title","type":"string"},"description":{"description":"\u63cf\u8ff0","example":"some desc","type":"string"},"columns":{"description":"\u5217","example":{},"type":"object"},"test_columns":{"description":"\u6d4b\u8bd5\u5217","example":{},"type":"object"},"sql_example":{"description":"SQL \u4f8b\u5b50","type":"string"}},"type":"object"},"exhook.socket_options":{"properties":{"keepalive":{"default":true,"description":"\u5f53\u6ca1\u6709\u5176\u4ed6\u6570\u636e\u4ea4\u6362\u65f6\uff0c\u662f\u5426\u5411\u8fde\u63a5\u7684\u5bf9\u7aef\u5957\u63a5\u5b57\u5b9a\u671f\u7684\u53d1\u9001\u63a2\u6d4b\u5305\u3002\u5982\u679c\u53e6\u4e00\u7aef\u6ca1\u6709\u54cd\u5e94\uff0c\u5219\u8ba4\u4e3a\u8fde\u63a5\u65ad\u5f00\uff0c\u5e76\u5411\u63a7\u5236\u8fdb\u7a0b\u53d1\u9001\u9519\u8bef\u6d88\u606f","type":"boolean"},"nodelay":{"default":true,"description":"\u5982\u679c\u4e3a true\uff0c\u5219\u4e3a\u5957\u63a5\u5b57\u8bbe\u7f6e TCP_NODELAY \u9009\u9879\uff0c\u8fd9\u610f\u5473\u7740\u4f1a\u7acb\u5373\u53d1\u9001\u6570\u636e\u5305","type":"boolean"},"recbuf":{"description":"\u5957\u63a5\u5b57\u7684\u6700\u5c0f\u63a5\u6536\u7f13\u51b2\u533a\u5927\u5c0f","example":"64KB","type":"string"},"sndbuf":{"description":"\u5957\u63a5\u5b57\u7684\u6700\u5c0f\u53d1\u9001\u7f13\u51b2\u533a\u5927\u5c0f","example":"16KB","type":"string"}},"type":"object"},"emqx_mgmt_api_clients.keepalive":{"properties":{"interval":{"description":"Keepalive time, with the unit of second","type":"integer"}},"type":"object"},"listeners.status":{"required":["running"],"properties":{"running":{"description":"Listener running status","oneOf":[{"type":"boolean"},{"enum":["inconsistent"],"type":"string"}]},"max_connections":{"description":"Max connections","oneOf":[{"type":"integer"},{"enum":["infinity"],"type":"string"}]},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"}},"type":"object"},"listeners.ws_not_required_bind":{"required":["id","type"],"properties":{"type":{"description":"Listener type","enum":["ws"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"bind":{"default":8083,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"connector-mqtt.egress":{"required":["remote"],"properties":{"local":{"description":"\u5982\u4f55\u4ece\u672c\u5730 Broker \u63a5\u6536\u6d88\u606f\u76f8\u5173\u7684\u914d\u7f6e\u3002","$ref":"#/components/schemas/connector-mqtt.egress_local"},"remote":{"description":"\u53d1\u9001\u6d88\u606f\u5230\u8fdc\u7a0b Broker \u76f8\u5173\u7684\u914d\u7f6e\u3002","$ref":"#/components/schemas/connector-mqtt.egress_remote"}},"type":"object"},"emqx_authn_api.request_user_update":{"required":["password"],"properties":{"password":{"type":"string"},"is_superuser":{"default":false,"type":"boolean"}},"type":"object"},"emqx_gateway_api_clients.subscription":{"properties":{"topic":{"description":"\u4e3b\u9898\u8fc7\u6ee4\u5668\u6216\u4e3b\u9898\u540d\u79f0","type":"string"},"qos":{"description":"QoS \u7b49\u7ea7\uff0c\u679a\u4e3e\uff1a0\uff0c1\uff0c2","type":"integer"},"nl":{"description":"No Local \u9009\u9879\uff0c\u679a\u4e3e\uff1a0\uff0c1","type":"integer"},"rap":{"description":"Retain as Published \u9009\u9879\uff0c\u679a\u4e3e\uff1a0\uff0c1","type":"integer"},"rh":{"description":"Retain Handling \u9009\u9879\uff0c\u679a\u4e3e\uff1a0\uff0c1\uff0c2","type":"integer"},"sub_props":{"description":"\u8ba2\u9605\u5c5e\u6027","$ref":"#/components/schemas/emqx_gateway_api_clients.extra_sub_props"}},"type":"object"},"emqx_gateway_api.ssl_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["ssl"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"tcp_options":{"description":"TCP Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.tcp_opts"},"proxy_protocol":{"default":false,"description":"\u662f\u5426\u5f00\u542f Proxy Protocol V1/2\u3002\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u540e\u9700\u8981\u83b7\u53d6\u5ba2\u6237\u7aef\u771f\u5b9e IP \u65f6\u5e38\u7528\u5230\u8be5\u9009\u9879\u3002\u53c2\u8003\uff1ahttps://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"15s","description":"\u63a5\u6536 Proxy Protocol \u62a5\u6587\u5934\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u5728\u8d85\u65f6\u5185\u6ca1\u6709\u6536\u5230 Proxy Protocol \u5305\uff0cEMQX \u5c06\u5173\u95ed TCP \u8fde\u63a5\u3002","example":"12m","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"ssl_options":{"description":"SSL Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.listener_ssl_opts"}},"type":"object"},"emqx_authz_api_schema.http_post":{"required":["url","type","method"],"properties":{"method":{"default":"post","description":"HTTP \u8bf7\u6c42\u65b9\u6cd5\u3002","enum":["post"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","content-type":"application/json","keep-alive":"timeout=30, max=1000"},"description":"HTTP Headers \u5217\u8868","example":{},"type":"object"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"http","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["http"],"type":"string"},"url":{"description":"\u8ba4\u8bc1\u670d\u52a1\u5668 URL\u3002","type":"string"},"body":{"description":"HTTP \u8bf7\u6c42\u4f53\u3002","example":{},"type":"object"},"request_timeout":{"default":"30s","description":"\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\u3002","type":"string"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"max_retries":{"deprecated":true,"minimum":0,"type":"integer"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"retainer.mnesia_config":{"properties":{"type":{"default":"built_in_database","description":"\u540e\u7aef\u7c7b\u578b","enum":["built_in_database"],"type":"string"},"storage_type":{"default":"ram","description":"\u9009\u62e9\u6d88\u606f\u662f\u5b58\u653e\u5728\u78c1\u76d8\u8fd8\u662f\u5185\u5b58\u4e2d","enum":["ram","disc"],"type":"string"},"max_retained_messages":{"default":0,"description":"\u6d88\u606f\u4fdd\u7559\u7684\u6570\u91cf\u4e0a\u9650\u30020 \u8868\u793a\u65e0\u9650","minimum":0,"type":"integer"},"index_specs":{"default":[[1,2,3],[1,3],[2,3],[3]],"description":"Retainer index specifications: list of arrays of positive ascending integers. Each array specifies an index. Numbers in an index specification are 1-based word positions in topics. Words from specified positions will be used for indexing.<br/>For example, it is good to have <code>[2, 4]</code> index to optimize <code>+/X/+/Y/...</code> topic wildcard subscriptions.","example":[[2,4],[1,3]],"items":{"type":"integer"},"type":"array"}},"type":"object"},"emqx_conf_schema.console_handler":{"properties":{"enable":{"default":false,"description":"\u542f\u7528\u6b64\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u3002","type":"boolean"},"level":{"default":"warning","description":"\u5f53\u524d\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u7684\u65e5\u5fd7\u7ea7\u522b\u3002<br/>\u9ed8\u8ba4\u4e3a warning \u7ea7\u522b\u3002","enum":["debug","info","notice","warning","error","critical","alert","emergency","all"],"type":"string"},"time_offset":{"default":"system","description":"\u65e5\u5fd7\u4e2d\u7684\u65f6\u95f4\u6233\u4f7f\u7528\u7684\u65f6\u95f4\u504f\u79fb\u91cf\u3002<br/>\u53ef\u9009\u503c\u4e3a\uff1a<br/>  - <code>system</code>: \u672c\u5730\u7cfb\u7edf\u4f7f\u7528\u7684\u65f6\u533a\u504f\u79fb\u91cf<br/>  - <code>utc</code>: 0 \u65f6\u533a\u7684\u504f\u79fb\u91cf<br/>  - <code>+-[hh]:[mm]</code>: \u81ea\u5b9a\u4e49\u504f\u79fb\u91cf\uff0c\u6bd4\u5982 \"-02:00\" \u6216\u8005 \"+00:00\"<br/>\u9ed8\u8ba4\u503c\u4e3a\u672c\u5730\u7cfb\u7edf\u7684\u65f6\u533a\u504f\u79fb\u91cf\uff1a<code>system</code>\u3002","type":"string"},"chars_limit":{"default":"unlimited","description":"\u8bbe\u7f6e\u5355\u4e2a\u65e5\u5fd7\u6d88\u606f\u7684\u6700\u5927\u957f\u5ea6\u3002 \u5982\u679c\u8d85\u8fc7\u6b64\u957f\u5ea6\uff0c\u5219\u65e5\u5fd7\u6d88\u606f\u5c06\u88ab\u622a\u65ad\u3002\u6700\u5c0f\u53ef\u8bbe\u7f6e\u7684\u957f\u5ea6\u4e3a100\u3002<br/>\u6ce8\u610f\uff1a\u5982\u679c\u65e5\u5fd7\u683c\u5f0f\u4e3a JSON\uff0c\u9650\u5236\u5b57\u7b26\u957f\u5ea6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u622a\u65ad\u4e0d\u5b8c\u6574\u7684 JSON \u6570\u636e\u3002","oneOf":[{"minimum":100,"type":"integer"},{"enum":["unlimited"],"type":"string"}]},"formatter":{"default":"text","description":"\u9009\u62e9\u65e5\u5fd7\u683c\u5f0f\u7c7b\u578b\u3002 <code>text</code> \u7528\u4e8e\u7eaf\u6587\u672c\uff0c<code>json</code> \u7528\u4e8e\u7ed3\u6784\u5316\u65e5\u5fd7\u8bb0\u5f55\u3002","enum":["text","json"],"type":"string"},"single_line":{"default":true,"description":"\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5219\u5355\u884c\u6253\u5370\u65e5\u5fd7\u3002 \u5426\u5219\uff0c\u65e5\u5fd7\u6d88\u606f\u53ef\u80fd\u8de8\u8d8a\u591a\u884c\u3002","type":"boolean"},"sync_mode_qlen":{"default":100,"description":"\u53ea\u8981\u7f13\u51b2\u7684\u65e5\u5fd7\u4e8b\u4ef6\u7684\u6570\u91cf\u4f4e\u4e8e\u8fd9\u4e2a\u503c\uff0c\u6240\u6709\u7684\u65e5\u5fd7\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u5f02\u6b65\u5904\u7406\u3002<br/>\u8fd9\u610f\u5473\u7740\uff0c\u65e5\u5fd7\u843d\u5730\u901f\u5ea6\u4e0d\u4f1a\u5f71\u54cd\u6b63\u5e38\u7684\u4e1a\u52a1\u8fdb\u7a0b\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u9700\u8981\u7b49\u5f85\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u7684\u54cd\u5e94\u3002<br/>\u5982\u679c\u6d88\u606f\u961f\u5217\u7684\u589e\u957f\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u5904\u7406\u7a0b\u5e8f\u5f00\u59cb\u540c\u6b65\u5904\u7406\u65e5\u5fd7\u4e8b\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d1\u9001\u4e8b\u4ef6\u7684\u5ba2\u6237\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85\u54cd\u5e94\u3002<br/>\u5f53\u5904\u7406\u7a0b\u5e8f\u5c06\u6d88\u606f\u961f\u5217\u51cf\u5c11\u5230\u4f4e\u4e8esync_mode_qlen\u9608\u503c\u7684\u6c34\u5e73\u65f6\uff0c\u5f02\u6b65\u64cd\u4f5c\u5c31\u4f1a\u6062\u590d\u3002<br/>\u9ed8\u8ba4\u4e3a100\u6761\u4fe1\u606f\uff0c\u5f53\u7b49\u5f85\u7684\u65e5\u5fd7\u4e8b\u4ef6\u5927\u4e8e100\u6761\u65f6\uff0c\u5c31\u5f00\u59cb\u540c\u6b65\u5904\u7406\u65e5\u5fd7\u3002","minimum":0,"type":"integer"},"drop_mode_qlen":{"default":3000,"description":"\u5f53\u7f13\u51b2\u7684\u65e5\u5fd7\u4e8b\u4ef6\u6570\u5927\u4e8e\u6b64\u503c\u65f6\uff0c\u65b0\u7684\u65e5\u5fd7\u4e8b\u4ef6\u5c06\u88ab\u4e22\u5f03\u3002\u8d77\u5230\u8fc7\u8f7d\u4fdd\u62a4\u7684\u529f\u80fd\u3002<br/>\u4e3a\u4e86\u4f7f\u8fc7\u8f7d\u4fdd\u62a4\u7b97\u6cd5\u6b63\u5e38\u5de5\u4f5c\u5fc5\u987b\u8981\uff1a<code> sync_mode_qlen =< drop_mode_qlen =< flush_qlen </code> \u4e14 drop_mode_qlen > 1<br/>\u8981\u7981\u7528\u67d0\u4e9b\u6a21\u5f0f\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u3002<br/>- \u5982\u679csync_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a0\uff0c\u6240\u6709\u7684\u65e5\u5fd7\u4e8b\u4ef6\u90fd\u88ab\u540c\u6b65\u5904\u7406\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f02\u6b65\u65e5\u5fd7\u88ab\u7981\u7528\u3002<br/>- \u5982\u679csync_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a\u4e0edrop_mode_qlen\u76f8\u540c\u7684\u503c\uff0c\u540c\u6b65\u6a21\u5f0f\u88ab\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5904\u7406\u7a0b\u5e8f\u603b\u662f\u4ee5\u5f02\u6b65\u6a21\u5f0f\u8fd0\u884c\uff0c\u9664\u975e\u8c03\u7528drop\u6216flushing\u3002<br/>- \u5982\u679cdrop_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a\u4e0eflush_qlen\u76f8\u540c\u7684\u503c\uff0c\u5219drop\u6a21\u5f0f\u88ab\u7981\u7528\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u3002","minimum":1,"type":"integer"},"flush_qlen":{"default":8000,"description":"\u5982\u679c\u7f13\u51b2\u65e5\u5fd7\u4e8b\u4ef6\u7684\u6570\u91cf\u589e\u957f\u5927\u4e8e\u6b64\u9608\u503c\uff0c\u5219\u4f1a\u53d1\u751f\u51b2\u5237\uff08\u5220\u9664\uff09\u64cd\u4f5c\u3002 \u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u4f1a\u4e22\u5f03\u7f13\u51b2\u7684\u65e5\u5fd7\u6d88\u606f\u3002<br/>\u6765\u7f13\u89e3\u81ea\u8eab\u4e0d\u4f1a\u7531\u4e8e\u5185\u5b58\u7011\u6da8\u800c\u5f71\u54cd\u5176\u5b83\u4e1a\u52a1\u8fdb\u7a0b\u3002\u65e5\u5fd7\u5185\u5bb9\u4f1a\u63d0\u9192\u6709\u591a\u5c11\u4e8b\u4ef6\u88ab\u5220\u9664\u3002","minimum":1,"type":"integer"},"overload_kill":{"$ref":"#/components/schemas/emqx_conf_schema.log_overload_kill"},"burst_limit":{"$ref":"#/components/schemas/emqx_conf_schema.log_burst_limit"},"supervisor_reports":{"default":"error","description":"Supervisor \u62a5\u544a\u7684\u7c7b\u578b\u3002\u9ed8\u8ba4\u4e3a error \u7c7b\u578b\u3002<br/><br/>  - <code>error</code>\uff1a\u4ec5\u8bb0\u5f55 Erlang \u8fdb\u7a0b\u4e2d\u7684\u9519\u8bef\u3002<br/>  - <code>progress</code>\uff1a\u9664\u4e86 error \u4fe1\u606f\u5916\uff0c\u8fd8\u9700\u8981\u8bb0\u5f55\u8fdb\u7a0b\u542f\u52a8\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","enum":["error","progress"],"type":"string"},"max_depth":{"default":100,"description":"Erlang \u5185\u90e8\u683c\u5f0f\u65e5\u5fd7\u683c\u5f0f\u5316\u548c Erlang \u8fdb\u7a0b\u6d88\u606f\u961f\u5217\u68c0\u67e5\u7684\u6700\u5927\u6df1\u5ea6\u3002","oneOf":[{"minimum":0,"type":"integer"},{"enum":["unlimited"],"type":"string"}]}},"type":"object"},"bridge_webhook.get":{"required":["url","name","type"],"properties":{"status":{"description":"Bridge \u7684\u8fde\u63a5\u72b6\u6001<br/><br/>- <code>connecting</code>: \u542f\u52a8\u65f6\u7684\u521d\u59cb\u72b6\u6001\u3002<br/><br/>- <code>connected</code>: \u6865\u63a5\u9a71\u52a8\u5065\u5eb7\u68c0\u67e5\u6b63\u5e38\u3002<br/><br/>- <code>disconnected</code>: \u5f53\u6865\u63a5\u65e0\u6cd5\u901a\u8fc7\u5065\u5eb7\u68c0\u67e5\u3002<br/><br/>- <code>stopped</code>: \u6865\u63a5\u5904\u4e8e\u505c\u7528\u72b6\u6001\u3002<br/><br/>- <code>inconsistent</code>: \u96c6\u7fa4\u4e2d\u6709\u5404\u8282\u70b9\u6c47\u62a5\u7684\u72b6\u6001\u4e0d\u4e00\u81f4\u3002","enum":["connected","disconnected","connecting","inconsistent"],"type":"string"},"node_status":{"description":"\u8282\u70b9\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/bridge.node_status"},"type":"array"},"type":{"description":"Bridge \u7c7b\u578b","enum":["webhook"],"type":"string"},"name":{"description":"Bridge \u540d\u5b57\uff0cBridge \u7684\u53ef\u8bfb\u63cf\u8ff0","type":"string"},"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_webhook.creation_opts"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"pool_type":{"default":"random","description":"\u8fde\u63a5\u6c60\u7684\u7c7b\u578b\uff0c\u53ef\u7528\u7c7b\u578b\u6709`random`, `hash`\u3002","enum":["random","hash"],"type":"string"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"url":{"description":"HTTP Bridge \u7684 URL\u3002<br/><br/>\u8def\u5f84\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u4f46\u662f host\uff0c port \u4e0d\u5141\u8bb8\u4f7f\u7528\u53d8\u91cf\u6a21\u677f\u3002<br/><br/>\u4f8b\u5982\uff0c<code> http://localhost:9901/${topic} </code> \u662f\u5141\u8bb8\u7684\uff0c<br/>\u4f46\u662f<code> http://${host}:9901/message </code><br/>\u6216 <code> http://localhost:${port}/message </code><br/>\u4e0d\u5141\u8bb8\u3002","type":"string"},"direction":{"deprecated":true,"description":"\u5df2\u5e9f\u5f03\uff0cBridge \u7684\u65b9\u5411\uff0c\u5fc5\u987b\u662f egress","enum":["egress"],"type":"string"},"local_topic":{"description":"\u53d1\u9001\u5230 'local_topic' \u7684\u6d88\u606f\u90fd\u4f1a\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002 <br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u8fd9\u4e2a Bridge \u88ab\u7528\u4f5c\u89c4\u5219\uff08EMQX \u89c4\u5219\u5f15\u64ce\uff09\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u4e5f\u914d\u7f6e\u4e86 'local_topic' \uff0c\u90a3\u4e48\u8fd9\u4e24\u90e8\u5206\u7684\u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002","type":"string"},"method":{"default":"post","description":"HTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\u3002 \u6240\u6709\u53ef\u7528\u7684\u65b9\u6cd5\u5305\u62ec\uff1apost\u3001put\u3001get\u3001delete\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","enum":["post","put","get","delete"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","content-type":"application/json","keep-alive":"timeout=5"},"description":"HTTP \u8bf7\u6c42\u7684\u6807\u5934\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","example":{},"type":"object"},"body":{"description":"HTTP \u8bf7\u6c42\u7684\u6b63\u6587\u3002<br/><br/>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u8be5\u5b57\u6bb5\uff0c\u8bf7\u6c42\u6b63\u6587\u5c06\u662f\u5305\u542b\u6240\u6709\u53ef\u7528\u5b57\u6bb5\u7684 JSON object\u3002<br/><br/>\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u6536\u5230 MQTT \u6d88\u606f\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5c06\u662f MQTT \u6d88\u606f\u7684<br/>\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1b\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u89c4\u5219\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5219\u4e3a\u89e6\u53d1\u4e8b\u4ef6\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"},"max_retries":{"default":2,"description":"HTTP \u8bf7\u6c42\u5931\u8d25\u6700\u5927\u91cd\u8bd5\u6b21\u6570","minimum":0,"type":"integer"},"request_timeout":{"default":"15s","description":"HTTP \u8bf7\u6c42\u8d85\u65f6","example":"32s","type":"string"}},"type":"object"},"emqx_authn_schema.metrics_status_fields":{"properties":{"resource_metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.resource_metrics"},"node_resource_metrics":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.node_resource_metrics"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.metrics"},"node_metrics":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.node_metrics"},"status":{"description":"\u8d44\u6e90\u72b6\u6001\u3002","enum":["connected","disconnected","connecting","inconsistent"],"type":"string"},"node_status":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u72b6\u6001\u3002","$ref":"#/components/schemas/emqx_authn_schema.node_status"},"node_error":{"description":"\u8282\u70b9\u4e0a\u4ea7\u751f\u7684\u9519\u8bef\u3002","$ref":"#/components/schemas/emqx_authn_schema.node_error"}},"type":"object"},"listeners.tcp_not_required_bind":{"required":["id","type"],"properties":{"type":{"description":"Listener type","enum":["tcp"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"bind":{"default":1883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"}},"type":"object"},"limiter.internal":{"properties":{"rate":{"default":"infinity","description":"\u6876\u7684\u4ee4\u724c\u751f\u6210\u901f\u7387","example":"10MB","type":"string"},"capacity":{"default":"infinity","description":"\u8be5\u4ee4\u724c\u6876\u7684\u5bb9\u91cf","example":"100MB","type":"string"},"initial":{"default":"0","description":"\u6876\u4e2d\u7684\u521d\u59cb\u4ee4\u724c\u6570","example":"0MB","type":"string"},"client":{"description":"\u5bf9\u6876\u7684\u6bcf\u4e2a\u4f7f\u7528\u8005\u7684\u901f\u7387\u63a7\u5236\u8bbe\u7f6e","$ref":"#/components/schemas/limiter.client_opts"}},"type":"object"},"public.meta":{"required":["hasnext"],"properties":{"page":{"default":1,"description":"Page number of the results to fetch.","example":1,"minimum":1,"type":"integer"},"limit":{"default":100,"description":"Results per page(max 1000)","example":50,"maximum":1000,"minimum":1,"type":"integer"},"count":{"description":"Total number of records matching the query.<br/>Note: this field is present only if the query can be optimized and does not require a full table scan.","minimum":0,"type":"integer"},"hasnext":{"description":"Flag indicating whether there are more results available on next pages.","type":"boolean"}},"type":"object"},"broker.sysmon_top":{"properties":{"num_items":{"default":10,"description":"\u6bcf\u4e2a\u76d1\u89c6\u7ec4\u7684\u9876\u7ea7\u8fdb\u7a0b\u6570\u3002","minimum":0,"type":"integer"},"sample_interval":{"default":"2s","description":"\u6307\u5b9a\u5e94\u6536\u96c6\u8fdb\u7a0b\u9876\u90e8\u7684\u9891\u7387\u3002","example":"12m","type":"string"},"max_procs":{"default":1000000,"description":"\u5f53 VM \u4e2d\u7684\u8fdb\u7a0b\u6570\u8d85\u8fc7\u6b64\u503c\u65f6\uff0c\u505c\u6b62\u6536\u96c6\u6570\u636e\u3002","minimum":0,"type":"integer"},"db_hostname":{"default":"","description":"\u6536\u96c6\u6570\u636e\u70b9\u7684 PostgreSQL \u6570\u636e\u5e93\u7684\u4e3b\u673a\u540d\u3002","type":"string"},"db_port":{"default":5432,"description":"\u6536\u96c6\u6570\u636e\u70b9\u7684 PostgreSQL \u6570\u636e\u5e93\u7684\u7aef\u53e3\u3002","type":"integer"},"db_username":{"default":"system_monitor","description":"PostgreSQL \u6570\u636e\u5e93\u7684\u7528\u6237\u540d","type":"string"},"db_password":{"default":"system_monitor_password","description":"PostgreSQL \u6570\u636e\u5e93\u7684\u5bc6\u7801","type":"string"},"db_name":{"default":"postgres","description":"PostgreSQL \u6570\u636e\u5e93\u7684\u6570\u636e\u5e93\u540d","type":"string"}},"type":"object"},"emqx_gateway_api_clients.extra_sub_props":{"properties":{"subid":{"description":"\u8ba2\u9605ID\uff0c\u4ec5\u7528\u4e8e Stomp \u7f51\u5173\u3002\u7528\u4e8e\u521b\u5efa\u8ba2\u9605\u5173\u7cfb\u65f6\u6307\u5b9a\u8ba2\u9605 ID\u3002\u53d6\u503c\u8303\u56f4 1-65535\u3002","type":"string"}},"type":"object"},"emqx_telemetry_api.status":{"properties":{"enable":{"default":true,"description":"\u542f\u7528\u9065\u6d4b","example":false,"type":"boolean"}},"type":"object"},"authn-hash.bcrypt_rw":{"required":["name"],"properties":{"name":{"description":"BCRYPT password hashing.","enum":["bcrypt"],"type":"string"},"salt_rounds":{"default":10,"description":"Salt rounds for BCRYPT password generation.","example":10,"type":"integer"}},"type":"object"},"broker.event_names":{"properties":{"client_connected":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u5df2\u8fde\u63a5\u4e8b\u4ef6\u6d88\u606f\u3002","type":"boolean"},"client_disconnected":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u5df2\u65ad\u5f00\u8fde\u63a5\u4e8b\u4ef6\u6d88\u606f\u3002","type":"boolean"},"client_subscribed":{"default":false,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u5df2\u6210\u529f\u8ba2\u9605\u4e3b\u9898\u4e8b\u4ef6\u6d88\u606f\u3002","type":"boolean"},"client_unsubscribed":{"default":false,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u5df2\u6210\u529f\u53d6\u6d88\u8ba2\u9605\u4e3b\u9898\u4e8b\u4ef6\u6d88\u606f\u3002","type":"boolean"}},"type":"object"},"gateway.dtls_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["dtlsv1.2","dtlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"fail_if_no_peer_cert":{"default":false,"description":"TLS/DTLS \u670d\u52a1\u5668\u4e0e {verify\uff0cverify_peer} \u4e00\u8d77\u4f7f\u7528\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u8981\u53d1\u9001\u7684\u8bc1\u4e66\uff0c\u5373\u53d1\u9001\u7a7a\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u5c06\u5931\u8d25\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u5219\u4ec5\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u65e0\u6548\u8bc1\u4e66\uff08\u7a7a\u8bc1\u4e66\u88ab\u89c6\u4e3a\u6709\u6548\u8bc1\u4e66\uff09\u65f6\u624d\u4f1a\u5931\u8d25\u3002","type":"boolean"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"},"gc_after_handshake":{"default":false,"description":"\u5185\u5b58\u4f7f\u7528\u8c03\u4f18\u3002\u5982\u679c\u542f\u7528\uff0c\u5c06\u5728TLS/SSL\u63e1\u624b\u5b8c\u6210\u540e\u7acb\u5373\u6267\u884c\u5783\u573e\u56de\u6536\u3002TLS/SSL\u63e1\u624b\u5efa\u7acb\u540e\u7acb\u5373\u8fdb\u884cGC\u3002","type":"boolean"}},"type":"object"},"authn-http.post":{"required":["url","backend","mechanism","method"],"properties":{"method":{"description":"HTTP \u8bf7\u6c42\u65b9\u6cd5\u3002","enum":["post"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","content-type":"application/json","keep-alive":"timeout=30, max=1000"},"description":"HTTP Headers \u5217\u8868","example":{},"type":"object"},"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["http"],"type":"string"},"url":{"description":"\u8ba4\u8bc1 HTTP \u670d\u52a1\u5668\u5730\u5740\u3002","type":"string"},"body":{"description":"HTTP request body\u3002","example":{},"type":"object"},"request_timeout":{"default":"5s","description":"HTTP \u8bf7\u6c42\u8d85\u65f6\u65f6\u957f\u3002","example":"32s","type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"max_retries":{"deprecated":true,"minimum":0,"type":"integer"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_gateway_api_clients.stomp_client":{"properties":{"node":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7528\u6237\u540d","type":"string"},"mountpoint":{"description":"\u4e3b\u9898\u56fa\u5b9a\u524d\u7f00","type":"string"},"proto_name":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c","type":"string"},"ip_address":{"description":"\u5ba2\u6237\u7aef IP \u5730\u5740","type":"string"},"port":{"description":"\u5ba2\u6237\u7aef\u7aef\u53e3","type":"integer"},"is_bridge":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u901a\u8fc7 is_bridge \u6807\u5fd7\u8fde\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65ad\u5f00\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"connected":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u5df2\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"keepalive":{"description":"Keepalive \u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"clean_start":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u4ee5 clean_start \u7684\u6807\u5fd7\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"expiry_interval":{"description":"\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"created_at":{"description":"\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"subscriptions_cnt":{"description":"\u5ba2\u6237\u7aef\u5df2\u8ba2\u9605\u4e3b\u9898\u6570","type":"integer"},"subscriptions_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u8ba2\u9605\u7684\u6700\u5927\u4e3b\u9898\u6570","type":"integer"},"inflight_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u98de\u884c\u7a97\u53e3\u5927\u5c0f","type":"integer"},"inflight_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u98de\u884c\u7a97\u53e3\u6700\u5927\u503c","type":"integer"},"mqueue_len":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_dropped":{"description":"\u7531\u4e8e\u6d88\u606f\u961f\u5217\u8fc7\u7a0b\uff0c\u5ba2\u6237\u7aef\u6d88\u606f\u961f\u5217\u4e22\u5f03\u6d88\u606f\u6761\u6570","type":"integer"},"awaiting_rel_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u7b49\u5f85 PUBREL \u786e\u8ba4\u7684 PUBREC \u6d88\u606f\u7684\u6761\u6570","type":"integer"},"awaiting_rel_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927 PUBREC \u7b49\u5f85\u961f\u5217\u957f\u5ea6","type":"integer"},"recv_oct":{"description":"\u5df2\u63a5\u6536\u7684\u5b57\u8282\u6570","type":"integer"},"recv_cnt":{"description":"\u5df2\u63a5\u6536 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"recv_pkt":{"description":"\u5df2\u63a5\u6536\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"recv_msg":{"description":"\u5df2\u63a5\u6536\u4e0a\u884c\u7684\u6d88\u606f\u6761\u6570","type":"integer"},"send_oct":{"description":"\u5df2\u53d1\u9001\u5b57\u8282\u6570","type":"integer"},"send_cnt":{"description":"\u5df2\u53d1\u9001 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"send_pkt":{"description":"\u5df2\u53d1\u9001\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"send_msg":{"description":"\u5df2\u53d1\u9001\u4e0b\u884c\u6d88\u606f\u6570\u6761\u6570","type":"integer"},"mailbox_len":{"description":"\u8fdb\u7a0b\u90ae\u7bb1\u5927\u5c0f","type":"integer"},"heap_size":{"description":"\u8fdb\u7a0b\u5806\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1a\u5b57\u8282","type":"integer"},"reductions":{"description":"\u8fdb\u7a0b\u5df2\u6d88\u8017 Reduction \u6570","type":"integer"}},"type":"object"},"emqx_authz_api_mnesia.clientid_response_data":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_clientid"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"},"listeners.wss_required_bind(with_name)":{"required":["bind","name","type"],"properties":{"type":{"description":"Listener type","enum":["wss"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"name":{"description":"Listener name","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8084,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_wss_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"zone.force_gc":{"properties":{"enable":{"description":"\u542f\u7528\u5f3a\u5236\u5783\u573e\u56de\u6536\u3002","type":"boolean"},"count":{"description":"\u5728\u8fdb\u7a0b\u6536\u5230\u591a\u5c11\u6d88\u606f\u4e4b\u540e\uff0c\u5bf9\u6b64\u8fdb\u7a0b\u6267\u884c\u5783\u573e\u56de\u6536\u3002","minimum":0,"type":"integer"},"bytes":{"description":"\u5728\u8fdb\u7a0b\u5904\u7406\u8fc7\u591a\u5c11\u4e2a\u5b57\u8282\u4e4b\u540e\uff0c\u5bf9\u6b64\u8fdb\u7a0b\u6267\u884c\u5783\u573e\u56de\u6536\u3002","example":"32MB","type":"string"}},"type":"object"},"emqx_mgmt_api_nodes.node_info":{"properties":{"node":{"description":"Node name","example":"emqx@127.0.0.1","type":"string"},"connections":{"description":"Number of clients currently connected to this node","example":0,"minimum":0,"type":"integer"},"load1":{"description":"CPU average load in 1 minute","example":2.66,"type":"number"},"load5":{"description":"CPU average load in 5 minute","example":2.66,"type":"number"},"load15":{"description":"CPU average load in 15 minute","example":2.66,"type":"number"},"max_fds":{"description":"File descriptors limit","example":1024,"minimum":0,"type":"integer"},"memory_total":{"description":"Allocated memory","example":"512.00M","type":"string"},"memory_used":{"description":"Used memory","example":"256.00M","type":"string"},"node_status":{"description":"Node status","enum":["running","stopped"],"example":"running","type":"string"},"otp_release":{"description":"Erlang/OTP version","example":"24.2/12.2","type":"string"},"process_available":{"description":"Erlang processes limit","example":2097152,"minimum":0,"type":"integer"},"process_used":{"description":"Running Erlang processes","example":1024,"minimum":0,"type":"integer"},"uptime":{"description":"System uptime, milliseconds","example":5120000,"minimum":0,"type":"integer"},"version":{"description":"Release version","example":"5.0.0","type":"string"},"edition":{"description":"Release edition","enum":["Opensource","Enterprise"],"example":"Opensource","type":"string"},"sys_path":{"description":"Path to system files","example":"path/to/emqx","type":"string"},"log_path":{"description":"Path to log files","example":"path/to/log | The log path is not yet set","type":"string"},"role":{"description":"Node role","enum":["core","replicant"],"example":"core","type":"string"}},"type":"object"},"emqx_delayed_api.message_without_payload":{"properties":{"msgid":{"description":"\u5ef6\u8fdf\u6d88\u606f ID","type":"integer"},"node":{"description":"\u6d88\u606f\u7684\u6765\u6e90\u8282\u70b9","type":"string"},"publish_at":{"description":"\u5ba2\u6237\u7aef\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"delayed_interval":{"description":"\u5ef6\u8fdf\u65f6\u95f4(\u79d2)","minimum":1,"type":"integer"},"delayed_remaining":{"description":"\u5269\u4f59\u65f6\u95f4(\u79d2)","minimum":0,"type":"integer"},"expected_at":{"description":"\u671f\u671b\u7684\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"topic":{"description":"\u4e3b\u9898","example":"/sys/#","type":"string"},"qos":{"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"from_clientid":{"description":"\u6d88\u606f\u7684 ClientID","type":"string"},"from_username":{"description":"\u6d88\u606f\u7684 Username","type":"string"}},"type":"object"},"emqx_authz_api_mnesia.rules":{"properties":{"rules":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rule_item"},"type":"array"}},"type":"object"},"slow_subscribers_statistics.record":{"properties":{"clientid":{"description":"\u6d88\u606f\u7684\u5ba2\u6237\u7aef ID","type":"string"},"node":{"description":"\u6d88\u606f\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"topic":{"description":"\u6d88\u606f\u7684\u4e3b\u9898","type":"string"},"timespan":{"description":"\u6d88\u606f\u7684\u4f20\u8f93\u8017\u65f6","type":"integer"},"last_update_time":{"description":"\u8bb0\u5f55\u7684\u66f4\u65b0\u65f6\u95f4\u6233","type":"integer"}},"type":"object"},"emqx_gateway_api_clients.mqttsn_client":{"properties":{"node":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7528\u6237\u540d","type":"string"},"mountpoint":{"description":"\u4e3b\u9898\u56fa\u5b9a\u524d\u7f00","type":"string"},"proto_name":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c","type":"string"},"ip_address":{"description":"\u5ba2\u6237\u7aef IP \u5730\u5740","type":"string"},"port":{"description":"\u5ba2\u6237\u7aef\u7aef\u53e3","type":"integer"},"is_bridge":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u901a\u8fc7 is_bridge \u6807\u5fd7\u8fde\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65ad\u5f00\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"connected":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u5df2\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"keepalive":{"description":"Keepalive \u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"clean_start":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u4ee5 clean_start \u7684\u6807\u5fd7\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"expiry_interval":{"description":"\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"created_at":{"description":"\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"subscriptions_cnt":{"description":"\u5ba2\u6237\u7aef\u5df2\u8ba2\u9605\u4e3b\u9898\u6570","type":"integer"},"subscriptions_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u8ba2\u9605\u7684\u6700\u5927\u4e3b\u9898\u6570","type":"integer"},"inflight_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u98de\u884c\u7a97\u53e3\u5927\u5c0f","type":"integer"},"inflight_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u98de\u884c\u7a97\u53e3\u6700\u5927\u503c","type":"integer"},"mqueue_len":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_dropped":{"description":"\u7531\u4e8e\u6d88\u606f\u961f\u5217\u8fc7\u7a0b\uff0c\u5ba2\u6237\u7aef\u6d88\u606f\u961f\u5217\u4e22\u5f03\u6d88\u606f\u6761\u6570","type":"integer"},"awaiting_rel_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u7b49\u5f85 PUBREL \u786e\u8ba4\u7684 PUBREC \u6d88\u606f\u7684\u6761\u6570","type":"integer"},"awaiting_rel_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927 PUBREC \u7b49\u5f85\u961f\u5217\u957f\u5ea6","type":"integer"},"recv_oct":{"description":"\u5df2\u63a5\u6536\u7684\u5b57\u8282\u6570","type":"integer"},"recv_cnt":{"description":"\u5df2\u63a5\u6536 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"recv_pkt":{"description":"\u5df2\u63a5\u6536\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"recv_msg":{"description":"\u5df2\u63a5\u6536\u4e0a\u884c\u7684\u6d88\u606f\u6761\u6570","type":"integer"},"send_oct":{"description":"\u5df2\u53d1\u9001\u5b57\u8282\u6570","type":"integer"},"send_cnt":{"description":"\u5df2\u53d1\u9001 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"send_pkt":{"description":"\u5df2\u53d1\u9001\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"send_msg":{"description":"\u5df2\u53d1\u9001\u4e0b\u884c\u6d88\u606f\u6570\u6761\u6570","type":"integer"},"mailbox_len":{"description":"\u8fdb\u7a0b\u90ae\u7bb1\u5927\u5c0f","type":"integer"},"heap_size":{"description":"\u8fdb\u7a0b\u5806\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1a\u5b57\u8282","type":"integer"},"reductions":{"description":"\u8fdb\u7a0b\u5df2\u6d88\u8017 Reduction \u6570","type":"integer"}},"type":"object"},"emqx_topic_metrics_api.metrics":{"properties":{"message.dropped.count":{"description":"\u4e22\u5f03\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.in.count":{"description":"\u63a5\u6536\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.out.count":{"description":"\u53d1\u9001\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos0.in.count":{"description":"QoS0 \u63a5\u6536\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos0.out.count":{"description":"QoS0 \u53d1\u9001\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos1.in.count":{"description":"QoS1 \u63a5\u6536\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos1.out.count":{"description":"QoS1 \u53d1\u9001\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos2.in.count":{"description":"QoS2 \u63a5\u6536\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.qos2.out.count":{"description":"QoS2 \u53d1\u9001\u6d88\u606f\u6570\u91cf","example":0,"type":"integer"},"message.dropped.rate":{"description":"\u4e22\u5f03\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.in.rate":{"description":"\u63a5\u6536\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.out.rate":{"description":"\u53d1\u9001\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos0.in.rate":{"description":"QoS0 \u63a5\u6536\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos0.out.rate":{"description":"QoS0 \u53d1\u9001\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos1.in.rate":{"description":"QoS1 \u63a5\u6536\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos1.out.rate":{"description":"QoS1 \u53d1\u9001\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos2.in.rate":{"description":"QoS2 \u63a5\u6536\u6d88\u606f\u901f\u7387","example":0,"type":"number"},"message.qos2.out.rate":{"description":"QoS2 \u53d1\u9001\u6d88\u606f\u901f\u7387","example":0,"type":"number"}},"type":"object"},"listeners.ssl_not_required_bind":{"required":["id","type"],"properties":{"type":{"description":"Listener type","enum":["ssl"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"bind":{"default":8883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_ssl_opts"}},"type":"object"},"emqx_gateway_api.update_lwm2m":{"required":["translators","xml_dir"],"properties":{"xml_dir":{"description":"LwM2M Resource \u5b9a\u4e49\u7684 XML \u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u3002","example":"/etc/emqx/lwm2m_xml","type":"string"},"lifetime_min":{"default":"15s","description":"\u5141\u8bb8 LwM2M \u5ba2\u6237\u7aef\u5141\u8bb8\u8bbe\u7f6e\u7684\u5fc3\u8df3\u6700\u5c0f\u503c\u3002","example":"12m","type":"string"},"lifetime_max":{"default":"86400s","description":"\u5141\u8bb8 LwM2M \u5ba2\u6237\u7aef\u5141\u8bb8\u8bbe\u7f6e\u7684\u5fc3\u8df3\u6700\u5927\u503c\u3002","example":"12m","type":"string"},"qmode_time_window":{"default":"22s","description":"\u5728QMode\u6a21\u5f0f\u4e0b\uff0cLwM2M\u7f51\u5173\u8ba4\u4e3a\u7f51\u7edc\u94fe\u63a5\u6709\u6548\u7684\u65f6\u95f4\u7a97\u53e3\u7684\u503c\u3002<br/>\u4f8b\u5982\uff0c\u5728\u6536\u5230\u5ba2\u6237\u7aef\u7684\u66f4\u65b0\u4fe1\u606f\u540e\uff0c\u5728\u8fd9\u4e2a\u65f6\u95f4\u7a97\u53e3\u5185\u7684\u4efb\u4f55\u4fe1\u606f\u90fd\u4f1a\u76f4\u63a5\u53d1\u9001\u5230LwM2M\u5ba2\u6237\u7aef\uff0c\u800c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u7a97\u53e3\u7684\u6240\u6709\u4fe1\u606f\u90fd\u4f1a\u6682\u65f6\u50a8\u5b58\u5728\u5185\u5b58\u4e2d\u3002","example":"1h","type":"string"},"auto_observe":{"default":false,"description":"\u81ea\u52a8 Observe REGISTER \u6570\u636e\u5305\u7684 Object \u5217\u8868\u3002","type":"boolean"},"update_msg_publish_condition":{"default":"contains_object_list","description":"\u53d1\u5e03UPDATE\u4e8b\u4ef6\u6d88\u606f\u7684\u7b56\u7565\u3002<br/><br/>  - always: \u53ea\u8981\u6536\u5230 UPDATE \u8bf7\u6c42\uff0c\u5c31\u53d1\u9001\u66f4\u65b0\u4e8b\u4ef6\u3002<br/><br/>  - contains_object_list: \u4ec5\u5f53 UPDATE \u8bf7\u6c42\u643a\u5e26 Object \u5217\u8868\u65f6\u624d\u53d1\u9001\u66f4\u65b0\u4e8b\u4ef6\u3002","enum":["always","contains_object_list"],"type":"string"},"translators":{"description":"LwM2M \u7f51\u5173\u8ba2\u9605/\u53d1\u5e03\u6d88\u606f\u7684\u4e3b\u9898\u6620\u5c04\u914d\u7f6e\u3002","$ref":"#/components/schemas/gateway.lwm2m_translators"},"mountpoint":{"default":"lwm2m/${endpoint_name}/","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"}},"type":"object"},"emqx_rule_api_schema.ctx_bridge_mqtt":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["$bridges/mqtt:*"],"type":"string"},"id":{"description":"\u6d88\u606f ID","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"server":{"description":"MQTT broker\u7684 IP \u5730\u5740\uff08\u6216\u4e3b\u673a\u540d\uff09\u548c\u7aef\u53e3\uff0c\u91c7\u7528 IP:Port \u683c\u5f0f","type":"string"},"dup":{"description":"MQTT \u6d88\u606f\u7684 DUP \u6807\u5fd7","type":"string"},"retain":{"description":"\u662f\u5426\u662f\u4fdd\u7559\u6d88\u606f","type":"string"},"message_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_rule_api_schema.ctx_delivered":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["message_delivered"],"type":"string"},"id":{"description":"\u6d88\u606f ID","type":"string"},"from_clientid":{"description":"\u4e8b\u4ef6\u6765\u6e90\u5ba2\u6237\u7aef\u7684 ID","type":"string"},"from_username":{"description":"\u4e8b\u4ef6\u6765\u6e90\u5ba2\u6237\u7aef\u7684\u7528\u6237\u540d","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_conf_schema.cluster_dns":{"properties":{"name":{"default":"localhost","description":"\u6307\u5b9a DNS A \u8bb0\u5f55\u7684\u540d\u5b57\u3002emqx \u4f1a\u901a\u8fc7\u8bbf\u95ee\u8fd9\u4e2a DNS A \u8bb0\u5f55\u6765\u83b7\u53d6 IP \u5730\u5740\u5217\u8868\u3002<br/>\u5f53<code>cluster.discovery_strategy</code> \u4e3a <code>dns</code> \u65f6\u6709\u6548\u3002","readOnly":true,"type":"string"},"record_type":{"default":"a","description":"DNS \u8bb0\u5f55\u7c7b\u578b\u3002","enum":["a","srv"],"readOnly":true,"type":"string"}},"type":"object"},"modules.delayed":{"properties":{"enable":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u8be5\u529f\u80fd","type":"boolean"},"max_delayed_messages":{"default":0,"description":"\u5ef6\u8fdf\u6d88\u606f\u7684\u6570\u91cf\u4e0a\u9650(0 \u4ee3\u8868\u65e0\u9650)","type":"integer"}},"type":"object"},"emqx_connector_mongo.topology":{"properties":{"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_overflow":{"default":0,"description":"\u6700\u5927\u6ea2\u51fa\u3002","minimum":0,"type":"integer"},"overflow_ttl":{"description":"\u5f53\u6c60\u5185\u5de5\u4eba\u592a\u591a\u65f6\uff0c\u7b49\u5f85\u591a\u4e45\u6e05\u9664\u591a\u4f59\u5de5\u4eba\u3002","example":"32s","type":"string"},"overflow_check_period":{"description":"\u68c0\u67e5\u662f\u5426\u6709\u8d85\u8fc7\u914d\u7f6e\u7684\u5de5\u4eba\u7684\u5468\u671f\uff08\"\u6ea2\u51fa\"\uff09\u3002","example":"32s","type":"string"},"local_threshold_ms":{"description":"\u5728\u591a\u4e2a\u5408\u9002\u7684MongoDB\u5b9e\u4f8b\u4e2d\u8fdb\u884c\u9009\u62e9\u7684\u5ef6\u8fdf\u7a97\u53e3\u7684\u5927\u5c0f\u3002","example":"32s","type":"string"},"connect_timeout_ms":{"description":"\u8d85\u65f6\u91cd\u8fde\u7684\u7b49\u5f85\u65f6\u95f4\u3002","example":"32s","type":"string"},"socket_timeout_ms":{"description":"\u5728\u5c1d\u8bd5\u8d85\u65f6\u4e4b\u524d\uff0c\u5728\u5957\u63a5\u5b57\u4e0a\u5c1d\u8bd5\u53d1\u9001\u6216\u63a5\u6536\u7684\u6301\u7eed\u65f6\u95f4\u3002","example":"32s","type":"string"},"server_selection_timeout_ms":{"description":"\u6307\u5b9a\u5728\u629b\u51fa\u5f02\u5e38\u4e4b\u524d\u4e3a\u670d\u52a1\u5668\u9009\u62e9\u963b\u65ad\u591a\u957f\u65f6\u95f4\u3002","example":"32s","type":"string"},"wait_queue_timeout_ms":{"description":"\u5de5\u4f5c\u8005\u7b49\u5f85\u8fde\u63a5\u53ef\u7528\u7684\u6700\u957f\u65f6\u95f4\u3002","example":"32s","type":"string"},"heartbeat_frequency_ms":{"description":"\u63a7\u5236\u9a71\u52a8\u7a0b\u5e8f\u4f55\u65f6\u68c0\u67e5MongoDB\u90e8\u7f72\u7684\u72b6\u6001\u3002\u6307\u5b9a\u68c0\u67e5\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u4ece\u4e0a\u4e00\u6b21\u68c0\u67e5\u7ed3\u675f\u5230\u4e0b\u4e00\u6b21\u68c0\u67e5\u5f00\u59cb\u8ba1\u7b97\u3002","example":"32s","type":"string"},"min_heartbeat_frequency_ms":{"description":"\u5fc3\u8df3\u95f4\u7684\u6700\u5c0f\u95f4\u9699","example":"32s","type":"string"}},"type":"object"},"plugins.builder":{"properties":{"contact":{"example":"emqx-support@emqx.io","type":"string"},"name":{"example":"EMQX Team","type":"string"},"website":{"example":"www.emqx.com","type":"string"}},"type":"object"},"retainer.flow_control":{"properties":{"batch_read_number":{"default":0,"description":"\u4ece\u5b58\u50a8\u540e\u7aef\u6279\u91cf\u52a0\u8f7d\u65f6\u7684\u6bcf\u6279\u6570\u91cf\u4e0a\u9650\uff0c0 \u4ee3\u8868\u4e00\u6b21\u6027\u8bfb\u53d6","minimum":0,"type":"integer"},"batch_deliver_number":{"default":0,"description":"\u6279\u91cf\u6d3e\u53d1\u65f6\u6bcf\u6279\u7684\u6570\u91cf\u30020 \u4ee3\u8868\u4e00\u6b21\u6027\u5168\u90e8\u6d3e\u53d1","maximum":1000,"minimum":0,"type":"integer"},"batch_deliver_limiter":{"description":"\u6279\u91cf\u53d1\u9001\u7684\u9650\u6d41\u5668\u7684\u540d\u79f0\u3002<br/>\u9650\u6d41\u5668\u53ef\u4ee5\u7528\u6765\u9632\u6b62\u77ed\u65f6\u95f4\u5185\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u592a\u591a\u7684\u6d88\u606f\uff0c\u4ece\u800c\u907f\u514d\u8fc7\u591a\u7684\u6d88\u606f\u5bfc\u81f4\u5ba2\u6237\u7aef\u961f\u5217\u5835\u585e\u751a\u81f3\u5d29\u6e83\u3002<br/>\u8fd9\u4e2a\u540d\u79f0\u9700\u8981\u662f\u6307\u5411 `limiter.batch` \u4e0b\u7684\u4e00\u4e2a\u771f\u5b9e\u5b58\u5728\u7684\u9650\u6d41\u5668\u3002<br/>\u5982\u679c\u8fd9\u4e2a\u5b57\u6bb5\u4e3a\u7a7a\uff0c\u5219\u4e0d\u4f7f\u7528\u9650\u6d41\u5668\u3002","$ref":"#/components/schemas/limiter.internal"}},"type":"object"},"exhook.hook_info":{"properties":{"name":{"description":"\u94a9\u5b50\u7684\u540d\u79f0","type":"string"},"params":{"description":"\u94a9\u5b50\u6ce8\u518c\u65f6\u4f7f\u7528\u7684\u53c2\u6570","properties":{"$name":{"type":"string"}},"type":"object"}},"type":"object"},"authn-redis.cluster":{"required":["servers","cmd","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u7528\u4e8e\u67e5\u8be2\u5bc6\u7801\u6563\u5217\u7b49\u7528\u4e8e\u8ba4\u8bc1\u7684\u6570\u636e\u7684 Redis Command\uff0c\u76ee\u524d\u4ec5\u652f\u6301 <code>HGET</code> \u4e0e <code>HMGET</code>\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"cluster","description":"\u96c6\u7fa4\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u96c6\u7fa4\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'cluster'\u3002","enum":["cluster"],"type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"limiter.listener_fields":{"properties":{"bytes_in":{"description":"\u6d41\u5165\u5b57\u8282\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u662f\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6570\u636e\u6d41\u5165\u7684\u5b57\u8282\u7387\uff0c\u6bcf\u6761\u6d88\u606f\u5c06\u4f1a\u6d88\u8017\u548c\u5176\u4e8c\u8fdb\u5236\u5927\u5c0f\u7b49\u91cf\u7684\u4ee4\u724c\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.bucket_opts"},"message_in":{"description":"\u6d41\u5165\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6d88\u606f\u6d41\u5165\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.bucket_opts"},"connection":{"description":"\u8fde\u63a5\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u8fde\u63a5\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u8fde\u63a5\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.bucket_opts"},"message_routing":{"description":"\u6d88\u606f\u6d3e\u53d1\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u5185\u7684\u6d88\u606f\u6d3e\u53d1\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u63a8\u9001\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.bucket_opts"},"client":{"description":"\u5bf9\u6876\u7684\u6bcf\u4e2a\u4f7f\u7528\u8005\u7684\u901f\u7387\u63a7\u5236\u8bbe\u7f6e","$ref":"#/components/schemas/limiter.listener_client_fields"}},"type":"object"},"emqx_conf_schema.log_file_handler":{"properties":{"file":{"description":"\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\u53ca\u540d\u5b57\u3002","example":"/path/to/file","type":"string"},"rotation":{"$ref":"#/components/schemas/emqx_conf_schema.log_rotation"},"max_size":{"default":"50MB","description":"\u6b64\u53c2\u6570\u63a7\u5236\u65e5\u5fd7\u6587\u4ef6\u8f6e\u6362\u3002 `infinity` \u610f\u5473\u7740\u65e5\u5fd7\u6587\u4ef6\u5c06\u65e0\u9650\u589e\u957f\uff0c\u5426\u5219\u65e5\u5fd7\u6587\u4ef6\u5c06\u5728\u8fbe\u5230 `max_size`\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u65f6\u8fdb\u884c\u8f6e\u6362\u3002<br/>\u4e0e rotation count\u914d\u5408\u4f7f\u7528\u3002\u5982\u679c counter \u4e3a 10\uff0c\u5219\u662f10\u4e2a\u6587\u4ef6\u8f6e\u6362\u3002","oneOf":[{"example":"32MB","type":"string"},{"enum":["infinity"],"type":"string"}]},"enable":{"default":true,"description":"\u542f\u7528\u6b64\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u3002","type":"boolean"},"level":{"default":"warning","description":"\u5f53\u524d\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u7684\u65e5\u5fd7\u7ea7\u522b\u3002<br/>\u9ed8\u8ba4\u4e3a warning \u7ea7\u522b\u3002","enum":["debug","info","notice","warning","error","critical","alert","emergency","all"],"type":"string"},"time_offset":{"default":"system","description":"\u65e5\u5fd7\u4e2d\u7684\u65f6\u95f4\u6233\u4f7f\u7528\u7684\u65f6\u95f4\u504f\u79fb\u91cf\u3002<br/>\u53ef\u9009\u503c\u4e3a\uff1a<br/>  - <code>system</code>: \u672c\u5730\u7cfb\u7edf\u4f7f\u7528\u7684\u65f6\u533a\u504f\u79fb\u91cf<br/>  - <code>utc</code>: 0 \u65f6\u533a\u7684\u504f\u79fb\u91cf<br/>  - <code>+-[hh]:[mm]</code>: \u81ea\u5b9a\u4e49\u504f\u79fb\u91cf\uff0c\u6bd4\u5982 \"-02:00\" \u6216\u8005 \"+00:00\"<br/>\u9ed8\u8ba4\u503c\u4e3a\u672c\u5730\u7cfb\u7edf\u7684\u65f6\u533a\u504f\u79fb\u91cf\uff1a<code>system</code>\u3002","type":"string"},"chars_limit":{"default":"unlimited","description":"\u8bbe\u7f6e\u5355\u4e2a\u65e5\u5fd7\u6d88\u606f\u7684\u6700\u5927\u957f\u5ea6\u3002 \u5982\u679c\u8d85\u8fc7\u6b64\u957f\u5ea6\uff0c\u5219\u65e5\u5fd7\u6d88\u606f\u5c06\u88ab\u622a\u65ad\u3002\u6700\u5c0f\u53ef\u8bbe\u7f6e\u7684\u957f\u5ea6\u4e3a100\u3002<br/>\u6ce8\u610f\uff1a\u5982\u679c\u65e5\u5fd7\u683c\u5f0f\u4e3a JSON\uff0c\u9650\u5236\u5b57\u7b26\u957f\u5ea6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u622a\u65ad\u4e0d\u5b8c\u6574\u7684 JSON \u6570\u636e\u3002","oneOf":[{"minimum":100,"type":"integer"},{"enum":["unlimited"],"type":"string"}]},"formatter":{"default":"text","description":"\u9009\u62e9\u65e5\u5fd7\u683c\u5f0f\u7c7b\u578b\u3002 <code>text</code> \u7528\u4e8e\u7eaf\u6587\u672c\uff0c<code>json</code> \u7528\u4e8e\u7ed3\u6784\u5316\u65e5\u5fd7\u8bb0\u5f55\u3002","enum":["text","json"],"type":"string"},"single_line":{"default":true,"description":"\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5219\u5355\u884c\u6253\u5370\u65e5\u5fd7\u3002 \u5426\u5219\uff0c\u65e5\u5fd7\u6d88\u606f\u53ef\u80fd\u8de8\u8d8a\u591a\u884c\u3002","type":"boolean"},"sync_mode_qlen":{"default":100,"description":"\u53ea\u8981\u7f13\u51b2\u7684\u65e5\u5fd7\u4e8b\u4ef6\u7684\u6570\u91cf\u4f4e\u4e8e\u8fd9\u4e2a\u503c\uff0c\u6240\u6709\u7684\u65e5\u5fd7\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u5f02\u6b65\u5904\u7406\u3002<br/>\u8fd9\u610f\u5473\u7740\uff0c\u65e5\u5fd7\u843d\u5730\u901f\u5ea6\u4e0d\u4f1a\u5f71\u54cd\u6b63\u5e38\u7684\u4e1a\u52a1\u8fdb\u7a0b\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u9700\u8981\u7b49\u5f85\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u7684\u54cd\u5e94\u3002<br/>\u5982\u679c\u6d88\u606f\u961f\u5217\u7684\u589e\u957f\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u5904\u7406\u7a0b\u5e8f\u5f00\u59cb\u540c\u6b65\u5904\u7406\u65e5\u5fd7\u4e8b\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d1\u9001\u4e8b\u4ef6\u7684\u5ba2\u6237\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85\u54cd\u5e94\u3002<br/>\u5f53\u5904\u7406\u7a0b\u5e8f\u5c06\u6d88\u606f\u961f\u5217\u51cf\u5c11\u5230\u4f4e\u4e8esync_mode_qlen\u9608\u503c\u7684\u6c34\u5e73\u65f6\uff0c\u5f02\u6b65\u64cd\u4f5c\u5c31\u4f1a\u6062\u590d\u3002<br/>\u9ed8\u8ba4\u4e3a100\u6761\u4fe1\u606f\uff0c\u5f53\u7b49\u5f85\u7684\u65e5\u5fd7\u4e8b\u4ef6\u5927\u4e8e100\u6761\u65f6\uff0c\u5c31\u5f00\u59cb\u540c\u6b65\u5904\u7406\u65e5\u5fd7\u3002","minimum":0,"type":"integer"},"drop_mode_qlen":{"default":3000,"description":"\u5f53\u7f13\u51b2\u7684\u65e5\u5fd7\u4e8b\u4ef6\u6570\u5927\u4e8e\u6b64\u503c\u65f6\uff0c\u65b0\u7684\u65e5\u5fd7\u4e8b\u4ef6\u5c06\u88ab\u4e22\u5f03\u3002\u8d77\u5230\u8fc7\u8f7d\u4fdd\u62a4\u7684\u529f\u80fd\u3002<br/>\u4e3a\u4e86\u4f7f\u8fc7\u8f7d\u4fdd\u62a4\u7b97\u6cd5\u6b63\u5e38\u5de5\u4f5c\u5fc5\u987b\u8981\uff1a<code> sync_mode_qlen =< drop_mode_qlen =< flush_qlen </code> \u4e14 drop_mode_qlen > 1<br/>\u8981\u7981\u7528\u67d0\u4e9b\u6a21\u5f0f\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u3002<br/>- \u5982\u679csync_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a0\uff0c\u6240\u6709\u7684\u65e5\u5fd7\u4e8b\u4ef6\u90fd\u88ab\u540c\u6b65\u5904\u7406\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f02\u6b65\u65e5\u5fd7\u88ab\u7981\u7528\u3002<br/>- \u5982\u679csync_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a\u4e0edrop_mode_qlen\u76f8\u540c\u7684\u503c\uff0c\u540c\u6b65\u6a21\u5f0f\u88ab\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5904\u7406\u7a0b\u5e8f\u603b\u662f\u4ee5\u5f02\u6b65\u6a21\u5f0f\u8fd0\u884c\uff0c\u9664\u975e\u8c03\u7528drop\u6216flushing\u3002<br/>- \u5982\u679cdrop_mode_qlen\u88ab\u8bbe\u7f6e\u4e3a\u4e0eflush_qlen\u76f8\u540c\u7684\u503c\uff0c\u5219drop\u6a21\u5f0f\u88ab\u7981\u7528\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u3002","minimum":1,"type":"integer"},"flush_qlen":{"default":8000,"description":"\u5982\u679c\u7f13\u51b2\u65e5\u5fd7\u4e8b\u4ef6\u7684\u6570\u91cf\u589e\u957f\u5927\u4e8e\u6b64\u9608\u503c\uff0c\u5219\u4f1a\u53d1\u751f\u51b2\u5237\uff08\u5220\u9664\uff09\u64cd\u4f5c\u3002 \u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u4f1a\u4e22\u5f03\u7f13\u51b2\u7684\u65e5\u5fd7\u6d88\u606f\u3002<br/>\u6765\u7f13\u89e3\u81ea\u8eab\u4e0d\u4f1a\u7531\u4e8e\u5185\u5b58\u7011\u6da8\u800c\u5f71\u54cd\u5176\u5b83\u4e1a\u52a1\u8fdb\u7a0b\u3002\u65e5\u5fd7\u5185\u5bb9\u4f1a\u63d0\u9192\u6709\u591a\u5c11\u4e8b\u4ef6\u88ab\u5220\u9664\u3002","minimum":1,"type":"integer"},"overload_kill":{"$ref":"#/components/schemas/emqx_conf_schema.log_overload_kill"},"burst_limit":{"$ref":"#/components/schemas/emqx_conf_schema.log_burst_limit"},"supervisor_reports":{"default":"error","description":"Supervisor \u62a5\u544a\u7684\u7c7b\u578b\u3002\u9ed8\u8ba4\u4e3a error \u7c7b\u578b\u3002<br/><br/>  - <code>error</code>\uff1a\u4ec5\u8bb0\u5f55 Erlang \u8fdb\u7a0b\u4e2d\u7684\u9519\u8bef\u3002<br/>  - <code>progress</code>\uff1a\u9664\u4e86 error \u4fe1\u606f\u5916\uff0c\u8fd8\u9700\u8981\u8bb0\u5f55\u8fdb\u7a0b\u542f\u52a8\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","enum":["error","progress"],"type":"string"},"max_depth":{"default":100,"description":"Erlang \u5185\u90e8\u683c\u5f0f\u65e5\u5fd7\u683c\u5f0f\u5316\u548c Erlang \u8fdb\u7a0b\u6d88\u606f\u961f\u5217\u68c0\u67e5\u7684\u6700\u5927\u6df1\u5ea6\u3002","oneOf":[{"minimum":0,"type":"integer"},{"enum":["unlimited"],"type":"string"}]}},"type":"object"},"retainer.retainer":{"properties":{"enable":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u6d88\u606f\u4fdd\u7559\u529f\u80fd","type":"boolean"},"msg_expiry_interval":{"default":"0s","description":"\u6d88\u606f\u4fdd\u7559\u65f6\u95f4\u30020 \u4ee3\u8868\u6c38\u4e45\u4fdd\u7559","example":"32s","type":"string"},"msg_clear_interval":{"default":"0s","description":"\u6d88\u606f\u6e05\u7406\u95f4\u9694\u30020 \u4ee3\u8868\u4e0d\u8fdb\u884c\u6e05\u7406","example":"32s","type":"string"},"flow_control":{"default":{},"description":"\u6d41\u63a7\u8bbe\u7f6e","$ref":"#/components/schemas/retainer.flow_control"},"max_payload_size":{"default":"1MB","description":"\u6d88\u606f\u5927\u5c0f\u6700\u5927\u503c","example":"32MB","type":"string"},"stop_publish_clear_msg":{"default":false,"description":"\u662f\u5426\u4e0d\u53d1\u9001\u4fdd\u7559\u6d88\u606f\u7684\u6e05\u7406\u6d88\u606f\uff0c\u5728 MQTT 5.0 \u4e2d\u5982\u679c\u4e00\u6761\u4fdd\u7559\u6d88\u606f\u7684\u6d88\u606f\u4f53\u4e3a\u7a7a\uff0c\u5219\u4f1a\u6e05\u9664\u6389\u4e4b\u524d\u5b58\u50a8<br/>\u7684\u5bf9\u5e94\u7684\u4fdd\u7559\u6d88\u606f\uff0c\u901a\u8fc7\u8fd9\u4e2a\u503c\u63a7\u5236\u662f\u5426\u505c\u6b62\u53d1\u9001\u6e05\u7406\u6d88\u606f","type":"boolean"},"backend":{"description":"\u4fdd\u7559\u6d88\u606f\u7684\u5b58\u50a8\u540e\u7aef","$ref":"#/components/schemas/retainer.mnesia_config"}},"type":"object"},"emqx_authz_api_schema.position":{"required":["position"],"properties":{"position":{"description":"\u8ba4\u8bc1\u6570\u636e\u6e90\u4f4d\u7f6e\u3002","type":"string"}},"type":"object"},"authn-jwt.hmac-based":{"required":["mechanism","secret","algorithm","use_jwks"],"properties":{"use_jwks":{"description":"\u662f\u5426\u4f7f\u7528 JWKS\u3002","enum":[false],"type":"string"},"algorithm":{"description":"JWT \u7b7e\u540d\u7b97\u6cd5\uff0c\u652f\u6301 HMAC (\u914d\u7f6e\u4e3a <code>hmac-based</code>\uff09\u548c RSA\u3001ECDSA (\u914d\u7f6e\u4e3a <code>public-key</code>)\u3002","enum":["hmac-based"],"type":"string"},"secret":{"description":"\u4f7f\u7528 HMAC \u7b97\u6cd5\u65f6\u7528\u4e8e\u9a8c\u8bc1 JWT \u7684\u5bc6\u94a5","type":"string"},"secret_base64_encoded":{"default":false,"description":"\u5bc6\u94a5\u662f\u5426\u4e3a Base64 \u7f16\u7801\u3002","type":"boolean"},"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["jwt"],"type":"string"},"acl_claim_name":{"default":"acl","description":"JWT claim name to use for getting ACL rules.","type":"string"},"verify_claims":{"default":{},"description":"\u9700\u8981\u9a8c\u8bc1\u7684\u81ea\u5b9a\u4e49\u58f0\u660e\u5217\u8868\uff0c\u5b83\u662f\u4e00\u4e2a\u540d\u79f0/\u503c\u5bf9\u5217\u8868\u3002<br/>\u503c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26<br/>\u8ba4\u8bc1\u65f6\u5c06\u9a8c\u8bc1 JWT\uff08\u53d6\u81ea Password \u5b57\u6bb5\uff09\u4e2d claims \u7684\u503c\u662f\u5426\u4e0e <code>verify_claims</code> \u4e2d\u8981\u6c42\u7684\u76f8\u5339\u914d\u3002","items":{"example":"any","type":"string"},"type":"array"},"from":{"default":"password","description":"\u8981\u4ece\u4e2d\u83b7\u53d6 JWT \u7684\u5b57\u6bb5\u3002","enum":["username","password"],"type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"}},"type":"object"},"zone.flapping_detect":{"properties":{"enable":{"description":"\u542f\u7528\u6296\u52a8\u68c0\u6d4b\u529f\u80fd\u3002","type":"boolean"},"max_count":{"description":"MQTT \u5ba2\u6237\u7aef\u5728\u201c\u7a97\u53e3\u201d\u65f6\u95f4\u5185\u5141\u8bb8\u7684\u6700\u5927\u65ad\u5f00\u6b21\u6570\u3002","type":"integer"},"window_time":{"description":"\u6296\u52a8\u68c0\u6d4b\u7684\u65f6\u95f4\u7a97\u53e3\u3002","example":"12m","type":"string"},"ban_time":{"description":"\u6296\u52a8\u7684\u5ba2\u6237\u7aef\u5c06\u4f1a\u88ab\u7981\u6b62\u767b\u5f55\u591a\u957f\u65f6\u95f4\u3002","example":"12m","type":"string"}},"type":"object"},"emqx_rule_api_schema.node_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u5b57","example":"emqx@127.0.0.1","type":"string"},"matched":{"description":"SQL \u7684 FROM \u5b50\u53e5\u5339\u914d\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"matched.rate":{"description":"\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"matched.rate.max":{"description":"\u6700\u5927\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"matched.rate.last5m":{"description":"5\u5206\u949f\u5e73\u5747\u547d\u4e2d\u901f\u7387\uff0c\u6b21/\u79d2","type":"number"},"passed":{"description":"SQL \u901a\u8fc7\u7684\u6b21\u6570","minimum":0,"type":"integer"},"failed":{"description":"SQL \u5931\u8d25\u7684\u6b21\u6570","minimum":0,"type":"integer"},"failed.exception":{"description":"SQL \u7531\u4e8e\u6267\u884c\u5f02\u5e38\u800c\u5931\u8d25\u7684\u6b21\u6570\u3002 \u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u8c03\u7528 SQL \u51fd\u6570\u65f6\u5d29\u6e83\uff0c\u6216\u8005\u8bd5\u56fe\u5bf9\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97","minimum":0,"type":"integer"},"failed.unknown":{"description":"\u7531\u4e8e\u672a\u77e5\u9519\u8bef\u5bfc\u81f4 SQL \u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.total":{"description":"\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u7684\u6b21\u6570\u3002 \u8be5\u503c\u53ef\u80fd\u662f\u201csql.matched\u201d\u7684\u51e0\u500d\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u89c4\u5219\u8f93\u51fa\u7684\u6570\u91cf\u3002","minimum":0,"type":"integer"},"actions.success":{"description":"\u89c4\u5219\u6210\u529f\u8c03\u7528\u8f93\u51fa\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.failed":{"description":"\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"},"actions.failed.out_of_service":{"description":"\u7531\u4e8e\u8f93\u51fa\u505c\u6b62\u670d\u52a1\u800c\u5bfc\u81f4\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002 \u4f8b\u5982\uff0c\u6865\u63a5\u88ab\u7981\u7528\u6216\u505c\u6b62\u3002","minimum":0,"type":"integer"},"actions.failed.unknown":{"description":"\u7531\u4e8e\u672a\u77e5\u9519\u8bef\uff0c\u89c4\u5219\u8c03\u7528\u8f93\u51fa\u5931\u8d25\u7684\u6b21\u6570\u3002","minimum":0,"type":"integer"}},"type":"object"},"zone.stats":{"properties":{"enable":{"description":"\u542f\u7528/\u7981\u7528\u7edf\u8ba1\u6570\u636e\u6536\u96c6\u529f\u80fd\u3002","type":"boolean"}},"type":"object"},"broker.listener_quic_ssl_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"fail_if_no_peer_cert":{"default":false,"description":"TLS/DTLS \u670d\u52a1\u5668\u4e0e {verify\uff0cverify_peer} \u4e00\u8d77\u4f7f\u7528\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u8981\u53d1\u9001\u7684\u8bc1\u4e66\uff0c\u5373\u53d1\u9001\u7a7a\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u5c06\u5931\u8d25\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u5219\u4ec5\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u65e0\u6548\u8bc1\u4e66\uff08\u7a7a\u8bc1\u4e66\u88ab\u89c6\u4e3a\u6709\u6548\u8bc1\u4e66\uff09\u65f6\u624d\u4f1a\u5931\u8d25\u3002","type":"boolean"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"},"gc_after_handshake":{"default":false,"description":"\u5185\u5b58\u4f7f\u7528\u8c03\u4f18\u3002\u5982\u679c\u542f\u7528\uff0c\u5c06\u5728TLS/SSL\u63e1\u624b\u5b8c\u6210\u540e\u7acb\u5373\u6267\u884c\u5783\u573e\u56de\u6536\u3002TLS/SSL\u63e1\u624b\u5efa\u7acb\u540e\u7acb\u5373\u8fdb\u884cGC\u3002","type":"boolean"}},"type":"object"},"authn-mongodb.replica-set":{"required":["database","replica_set_name","servers","collection","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"\u5b58\u50a8\u8ba4\u8bc1\u6570\u636e\u7684\u96c6\u5408\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"password_hash_field":{"default":"password_hash","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u5bc6\u7801\u6563\u5217\u7684\u5b57\u6bb5\u3002","type":"string"},"salt_field":{"default":"salt","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u76d0\u503c\u7684\u5b57\u6bb5\u3002","type":"string"},"is_superuser_field":{"default":"is_superuser","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b9a\u4e49\u7528\u6237\u662f\u5426\u5177\u6709\u8d85\u7ea7\u7528\u6237\u6743\u9650\u7684\u5b57\u6bb5\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"mongo_type":{"default":"rs","description":"Replica set\u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 replica-set \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'rs'\u3002","enum":["rs"],"type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"r_mode":{"default":"master","description":"\u8bfb\u6a21\u5f0f\u3002","enum":["master","slave_ok"],"type":"string"},"replica_set_name":{"description":"\u526f\u672c\u96c6\u7684\u540d\u79f0\u3002","type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"exhook.node_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0","type":"string"},"metrics":{"description":"\u6307\u6807\u4fe1\u606f","$ref":"#/components/schemas/exhook.metrics"}},"type":"object"},"exhook.move_req":{"required":["position"],"properties":{"position":{"description":"\u79fb\u52a8\u7684\u65b9\u5411","example":"front","type":"string"}},"type":"object"},"broker.zone":{"properties":{"mqtt":{"description":"Global MQTT configuration.<br/>The configs here work as default values which can be overridden<br/>in <code>zone</code> configs","$ref":"#/components/schemas/zone.mqtt"},"stats":{"description":"Enable/disable statistic data collection.<br/>Statistic data such as message receive/send count/rate etc. It provides insights of system performance and helps to diagnose issues. You can find statistic data from the dashboard, or from the '/stats' API.","$ref":"#/components/schemas/zone.stats"},"flapping_detect":{"description":"This config controls the allowed maximum number of `CONNECT` packets received<br/>from the same clientid in a time frame defined by `window_time`.<br/>After the limit is reached, successive `CONNECT` requests are forbidden<br/>(banned) until the end of the time period defined by `ban_time`.","$ref":"#/components/schemas/zone.flapping_detect"},"force_shutdown":{"description":"When the process message queue length, or the memory bytes<br/>reaches a certain value, the process is forced to close.<br/><br/>Note: \"message queue\" here refers to the \"message mailbox\"<br/>of the Erlang process, not the `mqueue` of QoS 1 and QoS 2.","$ref":"#/components/schemas/zone.force_shutdown"},"conn_congestion":{"description":"Settings for `conn_congestion` alarm.<br/><br/>Sometimes the MQTT connection (usually an MQTT subscriber) may<br/>get \"congested\", because there are too many packets to be sent.<br/>The socket tries to buffer the packets until the buffer is<br/>full. If more packets arrive after that, the packets will be<br/>\"pending\" in the queue, and we consider the connection<br/>congested.<br/><br/>Note: `sndbuf` can be set to larger value if the<br/>alarm is triggered too often.<br/>The name of the alarm is of format `conn_congestion/<ClientID>/<Username>`,<br/>where the `<ClientID>` is the client ID of the congested MQTT connection,<br/>and `<Username>` is the username or `unknown_user`.","$ref":"#/components/schemas/zone.conn_congestion"},"force_gc":{"description":"Force garbage collection in MQTT connection process after<br/> they process certain number of messages or bytes of data.","$ref":"#/components/schemas/zone.force_gc"},"overload_protection":{"description":"Overload protection mechanism monitors the load of the system and temporarily<br/>disables some features (such as accepting new connections) when the load is high.","$ref":"#/components/schemas/zone.overload_protection"}},"type":"object"},"emqx_conf_schema.log_overload_kill":{"properties":{"enable":{"default":true,"description":"\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u8fc7\u8f7d\u65f6\u4e3a\u4fdd\u62a4\u81ea\u5df1\u8282\u70b9\u5176\u5b83\u7684\u4e1a\u52a1\u80fd\u6b63\u5e38\uff0c\u5f3a\u5236\u6740\u6b7b\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u3002","type":"boolean"},"mem_size":{"default":"30MB","description":"\u65e5\u5fd7\u5904\u7406\u8fdb\u7a0b\u5141\u8bb8\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u3002","example":"32MB","type":"string"},"qlen":{"default":20000,"description":"\u5141\u8bb8\u7684\u6700\u5927\u961f\u5217\u957f\u5ea6\u3002","minimum":1,"type":"integer"},"restart_after":{"default":"5s","description":"\u5982\u679c\u5904\u7406\u8fdb\u7a0b\u7ec8\u6b62\uff0c\u5b83\u4f1a\u5728\u4ee5\u6307\u5b9a\u7684\u65f6\u95f4\u540e\u540e\u81ea\u52a8\u91cd\u65b0\u542f\u52a8\u3002 `infinity` \u4e0d\u81ea\u52a8\u91cd\u542f\u3002","oneOf":[{"enum":["infinity"],"type":"string"},{"example":"32s","type":"string"}]}},"type":"object"},"exhook.node_status":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0","type":"string"},"status":{"description":"Exhook \u670d\u52a1\u5668\u7684\u72b6\u6001\u3002<br/><br/>connected: \u8fde\u63a5\u6210\u529f<br/><br/>connecting: \u8fde\u63a5\u5931\u8d25\uff0c\u91cd\u8fde\u4e2d<br/><br/>disconnected: \u8fde\u63a5\u5931\u8d25\uff0c\u4e14\u672a\u8bbe\u7f6e\u81ea\u52a8\u91cd\u8fde<br/><br/>disabled: \u8be5\u670d\u52a1\u5668\u672a\u5f00\u542f<br/><br/>error: \u67e5\u770b\u8be5\u670d\u52a1\u5668\u72b6\u6001\u65f6\u53d1\u751f\u9519\u8bef","enum":["connected","connecting","disconnected","disabled","error"],"type":"string"}},"type":"object"},"emqx_rule_api_schema.rule_creation":{"required":["sql"],"properties":{"name":{"default":"","description":"\u89c4\u5219\u540d\u5b57","example":"foo","type":"string"},"sql":{"description":"\u7528\u4e8e\u5904\u7406\u6d88\u606f\u7684 SQL \u3002<br/>\u793a\u4f8b\uff1a<code>SELECT * FROM \"test/topic\" WHERE payload.x = 1</code>","example":"SELECT * FROM \"test/topic\" WHERE payload.x = 1","type":"string"},"actions":{"default":"","description":"\u89c4\u5219\u7684\u52a8\u4f5c\u5217\u8868\u3002<br/>\u52a8\u4f5c\u53ef\u4ee5\u662f\u6307\u5411 EMQX bridge \u7684\u5f15\u7528\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6307\u5411\u51fd\u6570\u7684\u5bf9\u8c61\u3002<br/>\u6211\u4eec\u652f\u6301\u4e00\u4e9b\u5185\u7f6e\u51fd\u6570\uff0c\u5982\u201crepublish\u201d\u548c\u201cconsole\u201d\uff0c\u6211\u4eec\u8fd8\u652f\u6301\u7528\u6237\u63d0\u4f9b\u7684\u51fd\u6570\uff0c\u5b83\u7684\u683c\u5f0f\u4e3a\uff1a\u201c{module}:{function}\u201d\u3002<br/>\u5217\u8868\u4e2d\u7684\u52a8\u4f5c\u6309\u987a\u5e8f\u6267\u884c\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u52a8\u4f5c\u6267\u884c\u7f13\u6162\uff0c\u5219\u4ee5\u4e0b\u6240\u6709\u52a8\u4f5c\u90fd\u4e0d\u4f1a\u88ab\u6267\u884c\u76f4\u5230\u5b83\u8fd4\u56de\u3002<br/>\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u52a8\u4f5c\u5d29\u6e83\uff0c\u5728\u5b83\u4e4b\u540e\u7684\u6240\u6709\u52a8\u4f5c\u4ecd\u7136\u4f1a\u88ab\u6309\u7167\u539f\u59cb\u987a\u5e8f\u6267\u884c\u3002<br/>\u5982\u679c\u8fd0\u884c\u52a8\u4f5c\u65f6\u51fa\u73b0\u4efb\u4f55\u9519\u8bef\uff0c\u5219\u4f1a\u51fa\u73b0\u9519\u8bef\u6d88\u606f\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u8ba1\u6570\u5668\u4f1a\u589e\u52a0\u3002","example":["webhook:my_webhook",{"args":{"payload":"${payload}","topic":"t/1"},"function":"republish"},{"function":"console"}],"items":{"oneOf":[{"$ref":"#/components/schemas/rule_engine.user_provided_function"},{"$ref":"#/components/schemas/rule_engine.builtin_action_console"},{"$ref":"#/components/schemas/rule_engine.builtin_action_republish"},{"type":"string"}]},"type":"array"},"enable":{"default":true,"description":"\u542f\u7528\u6216\u7981\u7528\u89c4\u5219\u5f15\u64ce","type":"boolean"},"description":{"default":"","description":"\u89c4\u5219\u7684\u63cf\u8ff0","example":"Some description","type":"string"},"metadata":{"description":"\u89c4\u5219\u7684\u5143\u6570\u636e\uff0c\u4e0d\u8981\u624b\u52a8\u4fee\u6539","example":{},"type":"object"}},"type":"object"},"listeners.ws_required_bind":{"required":["bind","id","type"],"properties":{"type":{"description":"Listener type","enum":["ws"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8083,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"websocket":{"$ref":"#/components/schemas/broker.ws_opts"}},"type":"object"},"broker.persistent_session_builtin":{"properties":{"type":{"default":"builtin","description":"","enum":["builtin"],"type":"string"},"session":{"description":"\u7528\u4e8e\u5185\u5efa\u4f1a\u8bdd\u8868\u7684\u6027\u80fd\u8c03\u4f18\u53c2\u6570\u3002","$ref":"#/components/schemas/broker.persistent_table_mria_opts"},"session_messages":{"description":"\u4f18\u5316\u5185\u7f6e\u7684\u4f1a\u8bdd\u6d88\u606f\u8868\u7684\u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.persistent_table_mria_opts"},"messages":{"description":"\u7528\u4e8e\u5185\u5efa\u6d88\u606f\u8868\u7684\u6027\u80fd\u8c03\u4f18\u53c2\u6570\u3002","$ref":"#/components/schemas/broker.persistent_table_mria_opts"}},"type":"object"},"listeners.listener_type_status":{"required":["ids","enable","type"],"properties":{"type":{"description":"Listener type","enum":["tcp","ssl","ws","wss","quic"],"type":"string"},"enable":{"description":"Listener enable","type":"boolean"},"ids":{"description":"Listener Ids","items":{"type":"string"},"type":"array"},"status":{"$ref":"#/components/schemas/listeners.status"},"node_status":{"items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"emqx_authz_api_schema.redis_sentinel":{"required":["database","sentinel","servers","cmd","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"redis","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u67e5\u8be2\u547d\u4ee4\u3002","example":"HGETALL mqtt_authz","type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"sentinel","description":"\u54e8\u5175\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u54e8\u5175\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'sentinel'\u3002","enum":["sentinel"],"type":"string"},"sentinel":{"description":"Redis \u54e8\u5175\u6a21\u5f0f\u4e0b\u7684\u96c6\u7fa4\u540d\u79f0\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"database":{"default":0,"description":"Redis \u6570\u636e\u5e93 ID\u3002","type":"integer"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"gateway.translator":{"required":["topic"],"properties":{"topic":{"description":"\u4e3b\u9898\u540d\u79f0","type":"string"},"qos":{"default":0,"description":"QoS \u7b49\u7ea7","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_authz_api_schema.mysql":{"required":["database","server","query","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"mysql","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["mysql"],"type":"string"},"query":{"description":"\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u67e5\u8be2\u8bed\u53e5\u3002","type":"string"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MySQL \u9ed8\u8ba4\u7aef\u53e3 3306\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"default":"root","description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_mgmt_api_stats.aggergate_data":{"properties":{"node":{"description":"Node name","example":"emqx@127.0.0.1","type":"string"},"channels.count":{"description":"sessions.count","example":0,"minimum":0,"type":"integer"},"channels.max":{"description":"session.max","example":0,"minimum":0,"type":"integer"},"connections.count":{"description":"Number of current connections","example":0,"minimum":0,"type":"integer"},"connections.max":{"description":"Historical maximum number of connections","example":0,"minimum":0,"type":"integer"},"delayed.count":{"description":"Number of delayed messages","example":0,"minimum":0,"type":"integer"},"delayed.max":{"description":"Historical maximum number of delayed messages","example":0,"minimum":0,"type":"integer"},"live_connections.count":{"description":"Number of current live connections","example":0,"minimum":0,"type":"integer"},"live_connections.max":{"description":"Historical maximum number of live connections","example":0,"minimum":0,"type":"integer"},"retained.count":{"description":"Number of currently retained messages","example":0,"minimum":0,"type":"integer"},"retained.max":{"description":"Historical maximum number of retained messages","example":0,"minimum":0,"type":"integer"},"sessions.count":{"description":"Number of current sessions","example":0,"minimum":0,"type":"integer"},"sessions.max":{"description":"Historical maximum number of sessions","example":0,"minimum":0,"type":"integer"},"suboptions.count":{"description":"subscriptions.count","example":0,"minimum":0,"type":"integer"},"suboptions.max":{"description":"subscriptions.max","example":0,"minimum":0,"type":"integer"},"subscribers.count":{"description":"Number of current subscribers","example":0,"minimum":0,"type":"integer"},"subscribers.max":{"description":"Historical maximum number of subscribers","example":0,"minimum":0,"type":"integer"},"subscriptions.count":{"description":"Number of current subscriptions, including shared subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.max":{"description":"Historical maximum number of subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.shared.count":{"description":"Number of current shared subscriptions","example":0,"minimum":0,"type":"integer"},"subscriptions.shared.max":{"description":"Historical maximum number of shared subscriptions","example":0,"minimum":0,"type":"integer"},"topics.count":{"description":"Number of current topics","example":0,"minimum":0,"type":"integer"},"topics.max":{"description":"Historical maximum number of topics","example":0,"minimum":0,"type":"integer"}},"type":"object"},"authn-redis.standalone":{"required":["database","server","cmd","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u7528\u4e8e\u67e5\u8be2\u5bc6\u7801\u6563\u5217\u7b49\u7528\u4e8e\u8ba4\u8bc1\u7684\u6570\u636e\u7684 Redis Command\uff0c\u76ee\u524d\u4ec5\u652f\u6301 <code>HGET</code> \u4e0e <code>HMGET</code>\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"single","description":"\u5355\u673a\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u5355\u673a\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'single'\u3002","enum":["single"],"type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"database":{"default":0,"description":"Redis \u6570\u636e\u5e93 ID\u3002","type":"integer"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"gateway.ssl_server_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"fail_if_no_peer_cert":{"default":false,"description":"TLS/DTLS \u670d\u52a1\u5668\u4e0e {verify\uff0cverify_peer} \u4e00\u8d77\u4f7f\u7528\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u8981\u53d1\u9001\u7684\u8bc1\u4e66\uff0c\u5373\u53d1\u9001\u7a7a\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u5c06\u5931\u8d25\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u5219\u4ec5\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u65e0\u6548\u8bc1\u4e66\uff08\u7a7a\u8bc1\u4e66\u88ab\u89c6\u4e3a\u6709\u6548\u8bc1\u4e66\uff09\u65f6\u624d\u4f1a\u5931\u8d25\u3002","type":"boolean"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"}},"type":"object"},"authn-jwt.public-key":{"required":["mechanism","algorithm","use_jwks"],"properties":{"use_jwks":{"description":"\u662f\u5426\u4f7f\u7528 JWKS\u3002","enum":[false],"type":"string"},"algorithm":{"description":"JWT \u7b7e\u540d\u7b97\u6cd5\uff0c\u652f\u6301 HMAC (\u914d\u7f6e\u4e3a <code>hmac-based</code>\uff09\u548c RSA\u3001ECDSA (\u914d\u7f6e\u4e3a <code>public-key</code>)\u3002","enum":["public-key"],"type":"string"},"public_key":{"description":"\u7528\u4e8e\u9a8c\u8bc1 JWT \u7684\u516c\u94a5\u3002","type":"string"},"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["jwt"],"type":"string"},"acl_claim_name":{"default":"acl","description":"JWT claim name to use for getting ACL rules.","type":"string"},"verify_claims":{"default":{},"description":"\u9700\u8981\u9a8c\u8bc1\u7684\u81ea\u5b9a\u4e49\u58f0\u660e\u5217\u8868\uff0c\u5b83\u662f\u4e00\u4e2a\u540d\u79f0/\u503c\u5bf9\u5217\u8868\u3002<br/>\u503c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26<br/>\u8ba4\u8bc1\u65f6\u5c06\u9a8c\u8bc1 JWT\uff08\u53d6\u81ea Password \u5b57\u6bb5\uff09\u4e2d claims \u7684\u503c\u662f\u5426\u4e0e <code>verify_claims</code> \u4e2d\u8981\u6c42\u7684\u76f8\u5339\u914d\u3002","items":{"example":"any","type":"string"},"type":"array"},"from":{"default":"password","description":"\u8981\u4ece\u4e2d\u83b7\u53d6 JWT \u7684\u5b57\u6bb5\u3002","enum":["username","password"],"type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"}},"type":"object"},"connector-mqtt.ingress_remote":{"required":["topic"],"properties":{"topic":{"description":"\u4ece\u8fdc\u7a0bbroker\u7684\u54ea\u4e2atopic\u63a5\u6536\u6d88\u606f","type":"string"},"qos":{"default":1,"description":"\u8ba2\u9605\u8fdc\u7a0bborker\u65f6\u8981\u4f7f\u7528\u7684 QoS \u7ea7\u522b","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_authz_api_sources.sources":{"properties":{"sources":{"description":"\u6388\u6743\u6570\u636e\u6e90\u5217\u8868","items":{"oneOf":[{"$ref":"#/components/schemas/emqx_authz_api_schema.file"},{"$ref":"#/components/schemas/emqx_authz_api_schema.postgresql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mysql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.built_in_database"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_cluster"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_sentinel"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_sharded"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_rs"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_post"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_get"}]},"type":"array"}},"type":"object"},"emqx_mgmt_api_alarms.alarm":{"properties":{"node":{"description":"\u89e6\u53d1\u6b64\u544a\u8b66\u7684\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"name":{"description":"\u89e6\u53d1\u6b64\u544a\u8b66\u7684\u8282\u70b9\u540d\u79f0\u3002","example":"high_system_memory_usage","type":"string"},"message":{"description":"\u544a\u8b66\u6d88\u606f\uff0c\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u65b9\u5f0f\u63cf\u8ff0\u544a\u8b66\u5185\u5bb9\u3002","example":"System memory usage is higher than 70%","type":"string"},"details":{"description":"\u544a\u8b66\u8be6\u60c5\uff0c\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u544a\u8b66\u4fe1\u606f\uff0c\u4e3b\u8981\u63d0\u4f9b\u7ed9\u7a0b\u5e8f\u5904\u7406\u3002","example":{"high_watermark":70},"type":"object"},"duration":{"description":"\u8868\u660e\u544a\u8b66\u5df2\u7ecf\u6301\u7eed\u4e86\u591a\u4e45\uff0c\u5355\u4f4d\uff1a\u6beb\u79d2\u3002","example":297056,"type":"integer"},"activate_at":{"description":"\u544a\u8b66\u5f00\u59cb\u65f6\u95f4\uff0c\u4f7f\u7528 rfc3339 \u6807\u51c6\u65f6\u95f4\u683c\u5f0f\u3002","example":"2021-10-25T11:52:52.548+08:00","type":"string"},"deactivate_at":{"description":"\u544a\u8b66\u7ed3\u675f\u65f6\u95f4\uff0c\u4f7f\u7528 rfc3339 \u6807\u51c6\u65f6\u95f4\u683c\u5f0f\u3002","example":"2021-10-31T10:52:52.548+08:00","type":"string"}},"type":"object"},"emqx_conf_schema.cluster_static":{"properties":{"seeds":{"default":"","description":"\u96c6\u7fa4\u4e2d\u7684EMQX\u8282\u70b9\u540d\u79f0\u5217\u8868\uff0c<br/>\u6307\u5b9a\u56fa\u5b9a\u7684\u8282\u70b9\u5217\u8868\uff0c\u591a\u4e2a\u8282\u70b9\u95f4\u4f7f\u7528\u9017\u53f7 , \u5206\u9694\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a static \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002<br/>\u9002\u5408\u4e8e\u8282\u70b9\u6570\u91cf\u8f83\u5c11\u4e14\u56fa\u5b9a\u7684\u96c6\u7fa4\u3002","items":{"type":"string"},"readOnly":true,"type":"array"}},"type":"object"},"authn-redis.sentinel":{"required":["database","sentinel","servers","cmd","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u7528\u4e8e\u67e5\u8be2\u5bc6\u7801\u6563\u5217\u7b49\u7528\u4e8e\u8ba4\u8bc1\u7684\u6570\u636e\u7684 Redis Command\uff0c\u76ee\u524d\u4ec5\u652f\u6301 <code>HGET</code> \u4e0e <code>HMGET</code>\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"sentinel","description":"\u54e8\u5175\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u54e8\u5175\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'sentinel'\u3002","enum":["sentinel"],"type":"string"},"sentinel":{"description":"Redis \u54e8\u5175\u6a21\u5f0f\u4e0b\u7684\u96c6\u7fa4\u540d\u79f0\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"database":{"default":0,"description":"Redis \u6570\u636e\u5e93 ID\u3002","type":"integer"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"broker.ssl_client_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"enable":{"default":false,"description":"\u542f\u7528 TLS\u3002","type":"boolean"},"server_name_indication":{"description":"\u6307\u5b9a\u8981\u5728 TLS \u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\u6269\u5c55\u4e2d\u4f7f\u7528\u7684\u4e3b\u673a\u540d\u3002<br/><br/>\u4f8b\u5982\uff0c\u5f53\u8fde\u63a5\u5230 \"server.example.net\" \u65f6\uff0c\u63a5\u53d7\u8fde\u63a5\u5e76\u6267\u884c TLS \u63e1\u624b\u7684\u771f\u6b63\u670d\u52a1\u5668\u53ef\u80fd\u4e0e TLS \u5ba2\u6237\u7aef\u6700\u521d\u8fde\u63a5\u5230\u7684\u4e3b\u673a\u4e0d\u540c\uff0c<br/>\u4f8b\u5982\uff0c\u5f53\u8fde\u63a5\u5230 IP \u5730\u5740\u65f6\uff0c\u6216\u8005\u5f53\u4e3b\u673a\u5177\u6709\u591a\u4e2a\u53ef\u89e3\u6790\u7684 DNS \u8bb0\u5f55\u65f6<br/><br/>\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5b83\u5c06\u9ed8\u8ba4\u4e3a\u4f7f\u7528\u7684\u4e3b\u673a\u540d\u5b57\u7b26\u4e32<br/>\u5efa\u7acb\u8fde\u63a5\uff0c\u9664\u975e\u4f7f\u7528 IP \u5730\u5740<br/><br/>\u7136\u540e\uff0c\u4e3b\u673a\u540d\u4e5f\u7528\u4e8e\u5bf9\u7b49\u673a\u7684\u4e3b\u673a\u540d\u9a8c\u8bc1\u8bc1\u4e66<br/><br/>\u7279\u6b8a\u503c <code>disable</code> \u963b\u6b62\u53d1\u9001\u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\u6269\u5c55\uff0c\u5e76\u7981\u7528\u4e3b\u673a\u540d\u9a8c\u8bc1\u68c0\u67e5\u3002","example":"disable","oneOf":[{"type":"string"},{"enum":["disable"],"type":"string"}]}},"type":"object"},"emqx_conf_schema.cluster_call":{"properties":{"retry_interval":{"default":"1m","description":"\u5f53\u96c6\u7fa4\u95f4\u8c03\u7528\u51fa\u9519\u65f6\uff0c\u591a\u957f\u65f6\u95f4\u91cd\u8bd5\u4e00\u6b21\u3002","example":"12m","type":"string"},"max_history":{"default":100,"description":"\u96c6\u7fa4\u95f4\u8c03\u7528\u6700\u591a\u4fdd\u7559\u7684\u5386\u53f2\u8bb0\u5f55\u6570\u3002\u53ea\u7528\u4e8e\u6392\u9519\u65f6\u67e5\u770b\u3002","maximum":500,"minimum":1,"type":"integer"},"cleanup_interval":{"default":"5m","description":"\u6e05\u7406\u8fc7\u671f\u4e8b\u52a1\u7684\u65f6\u95f4\u95f4\u9694","example":"12m","type":"string"}},"type":"object"},"listeners.tcp_required_bind(with_name)":{"required":["bind","name","type"],"properties":{"type":{"description":"Listener type","enum":["tcp"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"name":{"description":"Listener name","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":1883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"}},"type":"object"},"zone.overload_protection":{"properties":{"enable":{"description":"\u662f\u5426\u5bf9\u7cfb\u7edf\u8fc7\u8f7d\u505a\u51fa\u53cd\u5e94\u3002","type":"boolean"},"backoff_delay":{"description":"\u9ad8\u8d1f\u8f7d\u65f6\uff0c\u4e00\u4e9b\u4e0d\u91cd\u8981\u7684\u4efb\u52a1\u53ef\u80fd\u4f1a\u5ef6\u8fdf\u6267\u884c\uff0c\u5728\u8fd9\u91cc\u8bbe\u7f6e\u5141\u8bb8\u5ef6\u8fdf\u7684\u65f6\u95f4\u3002","minimum":0,"type":"integer"},"backoff_gc":{"description":"\u9ad8\u8d1f\u8f7d\u65f6\uff0c\u8df3\u8fc7\u5f3a\u5236 GC\u3002","type":"boolean"},"backoff_hibernation":{"description":"\u9ad8\u8d1f\u8f7d\u65f6\uff0c\u8df3\u8fc7\u8fdb\u7a0b\u4f11\u7720\u3002","type":"boolean"},"backoff_new_conn":{"description":"\u9ad8\u8d1f\u8f7d\u65f6\uff0c\u62d2\u7edd\u65b0\u8fdb\u6765\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u3002","type":"boolean"}},"type":"object"},"emqx_authz_api_schema.file":{"required":["rules","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"file","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["file"],"type":"string"},"rules":{"description":"\u9759\u6001\u6388\u6743\u6587\u4ef6\u89c4\u5219\u3002","example":"{allow,{username,\"^dashboard?\"},subscribe,[\"$SYS/#\"]}.\n{allow,{ipaddr,\"127.0.0.1\"},all,[\"$SYS/#\",\"#\"]}.","type":"string"}},"type":"object"},"exhook.detail_server_info":{"required":["url","name"],"properties":{"metrics":{"description":"\u5f53\u524d\u8282\u70b9\u4e2d\u8be5\u670d\u52a1\u5668\u7684\u6307\u6807\u4fe1\u606f","$ref":"#/components/schemas/exhook.metrics"},"node_metrics":{"description":"\u6240\u6709\u8282\u70b9\u4e2d\u8be5\u670d\u52a1\u5668\u7684\u6307\u6807\u4fe1\u606f","items":{"$ref":"#/components/schemas/exhook.node_metrics"},"type":"array"},"node_status":{"description":"\u6240\u6709\u8282\u70b9\u4e2d\u8be5\u670d\u52a1\u5668\u7684\u72b6\u6001\u4fe1\u606f","items":{"$ref":"#/components/schemas/exhook.node_status"},"type":"array"},"hooks":{"items":{"$ref":"#/components/schemas/exhook.hook_info"},"type":"array"},"name":{"description":"ExHook \u670d\u52a1\u5668\u540d\u79f0","example":"default","type":"string"},"enable":{"default":true,"description":"\u5f00\u542f\u8fd9\u4e2a Exhook \u670d\u52a1\u5668","type":"boolean"},"url":{"description":"gRPC \u670d\u52a1\u5668\u5730\u5740","example":"http://127.0.0.1:9000","type":"string"},"request_timeout":{"default":"5s","description":"gRPC \u670d\u52a1\u5668\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4","example":"12m","type":"string"},"failed_action":{"default":"deny","description":"\u5f53 gRPC \u8bf7\u6c42\u5931\u8d25\u540e\u7684\u64cd\u4f5c","enum":["deny","ignore"],"type":"string"},"ssl":{"$ref":"#/components/schemas/exhook.ssl_conf"},"socket_options":{"default":{"keepalive":true,"nodelay":true},"$ref":"#/components/schemas/exhook.socket_options"},"auto_reconnect":{"default":"60s","description":"\u81ea\u52a8\u91cd\u8fde\u5230 gRPC \u670d\u52a1\u5668\u7684\u8bbe\u7f6e\u3002<br/>\u5f53 gRPC \u670d\u52a1\u5668\u4e0d\u53ef\u7528\u65f6\uff0cExhook \u5c06\u4f1a\u6309\u7167\u8fd9\u91cc\u8bbe\u7f6e\u7684\u95f4\u9694\u65f6\u95f4\u8fdb\u884c\u91cd\u8fde\uff0c\u5e76\u91cd\u65b0\u521d\u59cb\u5316\u6ce8\u518c\u7684\u94a9\u5b50","oneOf":[{"example":"12m","type":"string"},{"enum":[false],"type":"string"}]},"pool_size":{"default":8,"description":"gRPC \u5ba2\u6237\u7aef\u8fdb\u7a0b\u6c60\u5927\u5c0f","minimum":1,"type":"integer"}},"type":"object"},"emqx_dashboard_monitor_api.sampler":{"properties":{"time_stamp":{"description":"Timestamp","minimum":0,"type":"integer"},"subscriptions":{"description":"Subscriptions at the time of sampling. Can only represent the approximate state","type":"integer"},"topics":{"description":"Count topics at the time of sampling. Can only represent the approximate state","type":"integer"},"connections":{"description":"Connections at the time of sampling. Can only represent the approximate state","type":"integer"},"received":{"description":"Received messages last 10 seconds","type":"integer"},"sent":{"description":"Sent messages last 10 seconds","type":"integer"},"dropped":{"description":"Dropped messages last 10 seconds","type":"integer"}},"type":"object"},"broker.trace":{"properties":{"payload_encode":{"default":"text","description":"\u786e\u5b9a\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u6709\u6548\u8d1f\u8f7d\u683c\u5f0f\u7684\u683c\u5f0f\u3002<br/><br/>`text`\uff1a\u57fa\u4e8e\u6587\u672c\u7684\u534f\u8bae\u6216\u7eaf\u6587\u672c\u534f\u8bae\u3002<br/>\u5efa\u8bae\u5728\u6709\u6548\u8d1f\u8f7d\u4e3aJSON\u7f16\u7801\u65f6\u4f7f\u7528<br/><br/>`hex`\uff1a\u4e8c\u8fdb\u5236\u5341\u516d\u8fdb\u5236\u7f16\u7801\u3002\u5f53\u6709\u6548\u8d1f\u8f7d\u662f\u81ea\u5b9a\u4e49\u4e8c\u8fdb\u5236\u534f\u8bae\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528\u6b64\u9009\u9879<br/><br/>`hidden`\uff1a\u6709\u6548\u8d1f\u8f7d\u88ab\u6a21\u7cca\u5316\u4e3a `******`","enum":["hex","text","hidden"],"type":"string"}},"type":"object"},"emqx_rule_api_schema.ctx_check_authz_complete":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["client_check_authz_complete"],"type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"action":{"description":"\u8ba2\u9605\u6216\u53d1\u5e03","type":"string"},"authz_source":{"description":"\u7f13\u5b58\uff0c\u63d2\u4ef6\u6216\u8005\u9ed8\u8ba4\u503c","type":"string"},"result":{"description":"\u5141\u8bb8\u6216\u7981\u6b62","type":"string"}},"type":"object"},"bridge_webhook.creation_opts":{"properties":{"worker_pool_size":{"default":16,"description":"\u7f13\u5b58\u961f\u5217 worker \u6570\u91cf\u3002\u4ec5\u5bf9 egress \u7c7b\u578b\u7684\u6865\u63a5\u6709\u610f\u4e49\u3002\u5f53\u6865\u63a5\u4ec5\u6709 ingress \u65b9\u5411\u65f6\uff0c\u53ef\u8bbe\u7f6e\u4e3a 0\uff0c\u5426\u5219\u5fc5\u987b\u5927\u4e8e 0\u3002","minimum":0,"type":"integer"},"health_check_interval":{"default":"15s","description":"\u5065\u5eb7\u68c0\u67e5\u95f4\u9694\u3002","example":"32s","type":"string"},"start_after_created":{"default":"true","description":"\u662f\u5426\u5728\u521b\u5efa\u8d44\u6e90\u540e\u7acb\u5373\u542f\u52a8\u8d44\u6e90\u3002","type":"boolean"},"start_timeout":{"default":"5s","description":"\u5728\u56de\u590d\u8d44\u6e90\u521b\u5efa\u8bf7\u6c42\u524d\u7b49\u5f85\u8d44\u6e90\u8fdb\u5165\u5065\u5eb7\u72b6\u6001\u7684\u65f6\u95f4\u3002","example":"32s","type":"string"},"auto_restart_interval":{"default":"60s","description":"\u8d44\u6e90\u65ad\u5f00\u4ee5\u540e\uff0c\u81ea\u52a8\u91cd\u8fde\u7684\u65f6\u95f4\u95f4\u9694\u3002","oneOf":[{"example":"32s","type":"string"},{"enum":["infinity"],"type":"string"}]},"query_mode":{"default":"async","description":"\u8bf7\u6c42\u6a21\u5f0f\u3002\u53ef\u9009 '\u540c\u6b65/\u5f02\u6b65'\uff0c\u9ed8\u8ba4\u4e3a'\u5f02\u6b65'\u6a21\u5f0f\u3002","enum":["sync","async"],"type":"string"},"request_timeout":{"default":"15s","description":"\u8bf7\u6c42\u7684\u8d85\u65f6\u3002 \u5982\u679c<code>query_mode</code>\u662f<code>sync</code>\uff0c\u5bf9\u8d44\u6e90\u7684\u8c03\u7528\u5c06\u5728\u8d85\u65f6\u524d\u88ab\u963b\u65ad\u8fd9\u4e00\u65f6\u95f4\u3002","oneOf":[{"example":"32s","type":"string"},{"enum":["infinity"],"type":"string"}]},"async_inflight_window":{"default":100,"description":"\u5f02\u6b65\u8bf7\u6c42\u98de\u884c\u961f\u5217\u7a97\u53e3\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"enable_queue":{"default":false,"deprecated":true,"description":"\u542f\u7528\u78c1\u76d8\u7f13\u5b58\u961f\u5217\uff08\u4ec5\u5bf9 egress \u65b9\u5411\u6865\u63a5\u6709\u7528\uff09\u3002","type":"boolean"},"max_queue_bytes":{"default":"100MB","description":"\u6bcf\u4e2a\u7f13\u5b58 worker \u5141\u8bb8\u4f7f\u7528\u7684\u6700\u5927\u5b57\u8282\u6570\u3002","example":"32MB","type":"string"}},"type":"object"},"limiter.listener_client_fields":{"properties":{"bytes_in":{"description":"\u6d41\u5165\u5b57\u8282\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u662f\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6570\u636e\u6d41\u5165\u7684\u5b57\u8282\u7387\uff0c\u6bcf\u6761\u6d88\u606f\u5c06\u4f1a\u6d88\u8017\u548c\u5176\u4e8c\u8fdb\u5236\u5927\u5c0f\u7b49\u91cf\u7684\u4ee4\u724c\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.client_opts"},"message_in":{"description":"\u6d41\u5165\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6d88\u606f\u6d41\u5165\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.client_opts"},"connection":{"description":"\u8fde\u63a5\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u8fde\u63a5\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u8fde\u63a5\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.client_opts"},"message_routing":{"description":"\u6d88\u606f\u6d3e\u53d1\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u5185\u7684\u6d88\u606f\u6d3e\u53d1\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u63a8\u9001\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.client_opts"}},"type":"object"},"authz.metrics_status_fields":{"properties":{"resource_metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/authz.resource_metrics"},"node_resource_metrics":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u7edf\u8ba1\u6307\u6807\u3002","items":{"$ref":"#/components/schemas/authz.node_resource_metrics"},"type":"array"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/authz.metrics"},"node_metrics":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u7edf\u8ba1\u6307\u6807\u3002","items":{"$ref":"#/components/schemas/authz.node_metrics"},"type":"array"},"status":{"description":"\u8d44\u6e90\u72b6\u6001\u3002","enum":["connected","disconnected","connecting","inconsistent"],"type":"string"},"node_status":{"description":"\u6bcf\u4e2a\u8282\u70b9\u4e0a\u8d44\u6e90\u7684\u72b6\u6001\u3002","items":{"$ref":"#/components/schemas/authz.node_status"},"type":"array"},"node_error":{"description":"\u8282\u70b9\u4e0a\u4ea7\u751f\u7684\u9519\u8bef\u3002","items":{"$ref":"#/components/schemas/authz.node_error"},"type":"array"}},"type":"object"},"emqx_authn_api.response_user":{"required":["user_id"],"properties":{"user_id":{"type":"string"},"is_superuser":{"default":false,"type":"boolean"}},"type":"object"},"broker.sysmon_vm":{"properties":{"process_check_interval":{"default":"30s","description":"\u5b9a\u671f\u8fdb\u7a0b\u9650\u5236\u68c0\u67e5\u7684\u65f6\u95f4\u95f4\u9694\u3002","example":"12m","type":"string"},"process_high_watermark":{"default":"80%","description":"\u5728\u53d1\u51fa\u76f8\u5e94\u8b66\u62a5\u4e4b\u524d\uff0c\u672c\u5730\u8282\u70b9\u4e0a\u53ef\u4ee5\u540c\u65f6\u5b58\u5728\u591a\u5c11\u8fdb\u7a0b\u7684\u9608\u503c\uff08\u4ee5\u8fdb\u7a0b\u767e\u5206\u6bd4\u8868\u793a\uff09\u3002","example":"12%","type":"number"},"process_low_watermark":{"default":"60%","description":"\u5728\u6e05\u9664\u76f8\u5e94\u8b66\u62a5\u4e4b\u524d\uff0c\u672c\u5730\u8282\u70b9\u4e0a\u53ef\u4ee5\u540c\u65f6\u5b58\u5728\u591a\u5c11\u8fdb\u7a0b\u7684\u9608\u503c\uff08\u4ee5\u8fdb\u7a0b\u767e\u5206\u6bd4\u8868\u793a\uff09\u3002","example":"12%","type":"number"},"long_gc":{"default":"disabled","description":"\u5f53\u7cfb\u7edf\u68c0\u6d4b\u5230\u67d0\u4e2a Erlang \u8fdb\u7a0b\u5783\u573e\u56de\u6536\u5360\u7528\u8fc7\u957f\u65f6\u95f4\uff0c\u4f1a\u89e6\u53d1\u4e00\u6761\u5e26\u6709 <code>long_gc</code> \u5173\u952e\u5b57\u7684\u65e5\u5fd7\u3002<br/>\u540c\u65f6\u8fd8\u4f1a\u53d1\u5e03\u4e00\u6761\u4e3b\u9898\u4e3a <code>$SYS/sysmon/long_gc</code> \u7684 MQTT \u7cfb\u7edf\u6d88\u606f\u3002","oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"long_schedule":{"default":"240ms","description":"\u542f\u7528\u540e\uff0c\u5982\u679c Erlang VM \u8c03\u5ea6\u5668\u51fa\u73b0\u67d0\u4e2a\u4efb\u52a1\u5360\u7528\u65f6\u95f4\u8fc7\u957f\u65f6\uff0c\u4f1a\u89e6\u53d1\u4e00\u6761\u5e26\u6709 'long_schedule' \u5173\u952e\u5b57\u7684\u65e5\u5fd7\u3002<br/>\u540c\u65f6\u8fd8\u4f1a\u53d1\u5e03\u4e00\u6761\u4e3b\u9898\u4e3a <code>$SYS/sysmon/long_schedule</code> \u7684 MQTT \u7cfb\u7edf\u6d88\u606f\u3002","oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"large_heap":{"default":"32MB","description":"\u542f\u7528\u540e\uff0c\u5f53\u4e00\u4e2a Erlang \u8fdb\u7a0b\u7533\u8bf7\u4e86\u5927\u91cf\u5185\u5b58\uff0c\u7cfb\u7edf\u4f1a\u89e6\u53d1\u4e00\u6761\u5e26\u6709 <code>large_heap</code> \u5173\u952e\u5b57\u7684<br/>warning \u7ea7\u522b\u65e5\u5fd7\u3002\u540c\u65f6\u8fd8\u4f1a\u53d1\u5e03\u4e00\u6761\u4e3b\u9898\u4e3a <code>$SYS/sysmon/busy_dist_port</code> \u7684 MQTT \u7cfb\u7edf\u6d88\u606f\u3002","oneOf":[{"example":"32MB","type":"string"},{"enum":["disabled"],"type":"string"}]},"busy_dist_port":{"default":true,"description":"\u542f\u7528\u540e\uff0c\u5f53\u7528\u4e8e\u96c6\u7fa4\u63a5\u70b9\u4e4b\u95f4 RPC \u7684\u8fde\u63a5\u8fc7\u5fd9\u65f6\uff0c\u4f1a\u89e6\u53d1\u4e00\u6761\u5e26\u6709 <code>busy_dist_port</code> \u5173\u952e\u5b57\u7684 warning \u7ea7\u522b\u65e5\u5fd7\u3002<br/>\u540c\u65f6\u8fd8\u4f1a\u53d1\u5e03\u4e00\u6761\u4e3b\u9898\u4e3a <code>$SYS/sysmon/busy_dist_port</code> \u7684 MQTT \u7cfb\u7edf\u6d88\u606f\u3002","type":"boolean"},"busy_port":{"default":true,"description":"\u5f53\u4e00\u4e2a\u7cfb\u7edf\u63a5\u53e3\uff08\u4f8b\u5982 TCP socket\uff09\u8fc7\u5fd9\uff0c\u4f1a\u89e6\u53d1\u4e00\u6761\u5e26\u6709 <code>busy_port</code> \u5173\u952e\u5b57\u7684 warning \u7ea7\u522b\u7684\u65e5\u5fd7\u3002<br/>\u540c\u65f6\u8fd8\u4f1a\u53d1\u5e03\u4e00\u6761\u4e3b\u9898\u4e3a <code>$SYS/sysmon/busy_port</code> \u7684 MQTT \u7cfb\u7edf\u6d88\u606f\u3002","type":"boolean"}},"type":"object"},"exhook.metrics":{"properties":{"succeed":{"description":"\u94a9\u5b50\u6267\u884c\u6210\u529f\u7684\u6b21\u6570","type":"integer"},"failed":{"description":"\u94a9\u5b50\u6267\u884c\u5931\u8d25\u7684\u6b21\u6570","type":"integer"},"rate":{"description":"\u94a9\u5b50\u7684\u8c03\u7528\u901f\u7387","type":"integer"},"max_rate":{"description":"\u94a9\u5b50\u7684\u6700\u5927\u8c03\u7528\u901f\u7387","type":"integer"}},"type":"object"},"emqx_rule_api_schema.ctx_disconnected":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["client_disconnected"],"type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"reason":{"description":"\u65ad\u5f00\u8fde\u63a5\u7684\u539f\u56e0","type":"string"},"peername":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"sockname":{"description":"\u672c\u5730\u76d1\u542c\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u7684\u65f6\u523b","type":"integer"}},"type":"object"},"dashboard.listeners":{"properties":{"http":{"description":"TCP listeners","$ref":"#/components/schemas/dashboard.http"},"https":{"description":"SSL listeners","$ref":"#/components/schemas/dashboard.https"}},"type":"object"},"listeners.tcp_required_bind":{"required":["bind","id","type"],"properties":{"type":{"description":"Listener type","enum":["tcp"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":1883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"}},"type":"object"},"broker.alarm":{"properties":{"actions":{"default":["log","publish"],"description":"\u8b66\u62a5\u6fc0\u6d3b\u65f6\u89e6\u53d1\u7684\u52a8\u4f5c\u3002<br/>\u76ee\u524d\uff0c\u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c\uff1a<code>log</code> \u548c <code>publish</code>.<br/><code>log</code> \u5c06\u544a\u8b66\u5199\u5165\u65e5\u5fd7 (\u63a7\u5236\u53f0\u6216\u8005\u6587\u4ef6).<br/><code>publish</code> \u5c06\u544a\u8b66\u4f5c\u4e3a MQTT \u6d88\u606f\u53d1\u5e03\u5230\u7cfb\u7edf\u4e3b\u9898:<br/><code>$SYS/brokers/emqx@xx.xx.xx.x/alarms/activate</code> and<br/><code>$SYS/brokers/emqx@xx.xx.xx.x/alarms/deactivate</code>","example":["log","publish"],"items":{"type":"string"},"type":"array"},"size_limit":{"default":1000,"description":"\u8981\u4fdd\u7559\u4e3a\u5386\u53f2\u8bb0\u5f55\u7684\u5df2\u505c\u7528\u62a5\u8b66\u7684\u6700\u5927\u603b\u6570\u3002\u5f53\u8d85\u8fc7\u6b64\u9650\u5236\u65f6\uff0c\u5c06\u5220\u9664\u6700\u65e7\u7684\u505c\u7528\u62a5\u8b66\uff0c\u4ee5\u9650\u5236\u603b\u6570\u3002","example":1000,"maximum":3000,"minimum":1,"type":"integer"},"validity_period":{"default":"24h","description":"\u505c\u7528\u62a5\u8b66\u7684\u4fdd\u7559\u65f6\u95f4\u3002\u62a5\u8b66\u5728\u505c\u7528\u65f6\u4e0d\u4f1a\u7acb\u5373\u5220\u9664\uff0c\u800c\u662f\u5728\u4fdd\u7559\u65f6\u95f4\u4e4b\u540e\u5220\u9664\u3002","example":"24h","type":"string"}},"type":"object"},"emqx_authz_api_schema.mongo_rs":{"required":["database","replica_set_name","servers","collection","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"mongodb","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"`MongoDB` \u6388\u6743\u6570\u636e\u96c6\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"mongo_type":{"default":"rs","description":"Replica set\u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 replica-set \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'rs'\u3002","enum":["rs"],"type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"r_mode":{"default":"master","description":"\u8bfb\u6a21\u5f0f\u3002","enum":["master","slave_ok"],"type":"string"},"replica_set_name":{"description":"\u526f\u672c\u96c6\u7684\u540d\u79f0\u3002","type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"gateway.exproto_grpc_handler":{"required":["address"],"properties":{"address":{"description":"\u5bf9\u7aef gRPC \u670d\u52a1\u5668\u5730\u5740\u3002","type":"string"},"ssl_options":{"description":"gRPC \u5ba2\u6237\u7aef\u7684 SSL \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"broker.persistent_session_store":{"properties":{"enabled":{"default":false,"description":"\u4f7f\u7528\u6570\u636e\u5e93\u5b58\u50a8\u6709\u5173\u6301\u4e45\u4f1a\u8bdd\u7684\u4fe1\u606f\u3002<br/>\u8fd9\u4f7f\u5f97\u5728\u8282\u70b9\u505c\u6b62\u65f6\uff0c\u53ef\u4ee5\u5c06\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u7fa4\u96c6\u8282\u70b9\u3002","type":"boolean"},"on_disc":{"default":true,"description":"\u5c06\u6301\u4e45\u4f1a\u8bdd\u6570\u636e\u4fdd\u5b58\u5728\u78c1\u76d8\u4e0a\u3002\u5982\u679c\u4e3a false \u5219\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002<br/>\u5982\u5f00\u542f\uff0c \u6301\u4e45\u4f1a\u8bdd\u6570\u636e\u53ef\u5728\u96c6\u7fa4\u91cd\u542f\u540e\u6062\u590d\u3002<br/>\u5982\u5173\u95ed\uff0c \u6570\u636e\u4ec5\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c \u5219\u5728\u6574\u4e2a\u96c6\u7fa4\u505c\u6b62\u540e\u4e22\u5931\u3002","type":"boolean"},"ram_cache":{"default":false,"description":"\u5728\u5185\u5b58\u4e2d\u4fdd\u6301\u4e00\u4efd\u6570\u636e\u7684\u526f\u672c\uff0c\u4ee5\u4fbf\u66f4\u5feb\u5730\u8bbf\u95ee\u3002","type":"boolean"},"backend":{"default":{"messages":{"ram_cache":"false"},"session":{"ram_cache":"true"},"session_messages":{"ram_cache":"true"},"type":"builtin"},"description":"\u7528\u4e8e\u5b58\u50a8\u6301\u4e45\u6027\u4f1a\u8bdd\u548c\u4fe1\u606f\u7684\u6570\u636e\u5e93\u7ba1\u7406\u540e\u7aef<br/>- `builtin`: \u4f7f\u7528\u5185\u7f6e\u7684\u6570\u636e\u5e93\uff08mria\uff09","oneOf":[{"$ref":"#/components/schemas/broker.persistent_session_builtin"}]},"max_retain_undelivered":{"default":"1h","description":"\u5982\u679c\u91cd\u65b0\u542f\u52a8\u65f6\u5904\u7406\u4e0a\u4e00\u4e2a\u4f1a\u8bdd\u7684\u8282\u70b9\u5df2\u505c\u6b62\uff0c\u5219\u672a\u4f20\u9012\u5230\u6301\u4e45\u4f1a\u8bdd\u7684\u6d88\u606f\u5728\u5783\u573e\u6536\u96c6\u4e4b\u524d\u4f1a\u88ab\u5b58\u50a8\u3002","example":"12m","type":"string"},"message_gc_interval":{"default":"1h","description":"\u5c06\u672a\u9001\u8fbe\u7684\u6d88\u606f\u5783\u573e\u6536\u96c6\u5230\u6301\u4e45\u4f1a\u8bdd\u7684\u5f00\u59cb\u95f4\u9694\u3002<br/>\u8fd9\u4f1a\u5f71\u54cd\u68c0\u67e5 \"max_retain_undelivered\"\uff08\u6700\u5927\u4fdd\u7559\u672a\u9001\u8fbe\uff09\u7684\u5220\u9664\u9891\u7387\u3002","example":"12m","type":"string"},"session_message_gc_interval":{"default":"1m","description":"\u6301\u4e45\u4f1a\u8bdd\u6d88\u606f\u7684\u4e34\u65f6\u6570\u636e\u5783\u573e\u6536\u96c6\u7684\u5f00\u59cb\u95f4\u9694\u3002<br/>\u8fd9\u4e0d\u4f1a\u5f71\u54cd\u6301\u4e45\u4f1a\u8bdd\u6d88\u606f\u7684\u751f\u547d\u5468\u671f\u957f\u5ea6\u3002","example":"12m","type":"string"}},"type":"object"},"authn-http.get":{"required":["url","backend","mechanism","method"],"properties":{"method":{"description":"HTTP \u8bf7\u6c42\u65b9\u6cd5\u3002","enum":["get"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","keep-alive":"timeout=30, max=1000"},"description":"HTTP Headers \u5217\u8868 (\u65e0 <code>content-type</code>) \u3002","example":{},"type":"object"},"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["http"],"type":"string"},"url":{"description":"\u8ba4\u8bc1 HTTP \u670d\u52a1\u5668\u5730\u5740\u3002","type":"string"},"body":{"description":"HTTP request body\u3002","example":{},"type":"object"},"request_timeout":{"default":"5s","description":"HTTP \u8bf7\u6c42\u8d85\u65f6\u65f6\u957f\u3002","example":"32s","type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"max_retries":{"deprecated":true,"minimum":0,"type":"integer"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"broker.broker":{"properties":{"enable_session_registry":{"default":true,"description":"\u662f\u5426\u542f\u7528 Session Registry","type":"boolean"},"session_locking_strategy":{"default":"quorum","description":"Session \u5728\u96c6\u7fa4\u4e2d\u7684\u9501\u7b56\u7565\u3002<br/>  - `loca`\uff1a\u4ec5\u9501\u672c\u8282\u70b9\u7684 Session\uff1b<br/>  - `one`\uff1a\u4efb\u9009\u4e00\u4e2a\u5176\u5b83\u8282\u70b9\u52a0\u9501\uff1b<br/>  - `quorum`\uff1a\u9009\u62e9\u96c6\u7fa4\u4e2d\u534a\u6570\u4ee5\u4e0a\u7684\u8282\u70b9\u52a0\u9501\uff1b<br/>  - `all`\uff1a\u9009\u62e9\u6240\u6709\u8282\u70b9\u52a0\u9501\u3002","enum":["local","leader","quorum","all"],"type":"string"},"shared_subscription_strategy":{"default":"round_robin","description":"\u5171\u4eab\u8ba2\u9605\u6d88\u606f\u6d3e\u53d1\u7b56\u7565\u3002<br/>  - `random`\uff1a\u968f\u673a\u6311\u9009\u4e00\u4e2a\u5171\u4eab\u8ba2\u9605\u8005\u6d3e\u53d1\uff1b<br/>  - `round_robin`\uff1a\u4f7f\u7528 round-robin \u7b56\u7565\u6d3e\u53d1\uff1b<br/>  - `sticky`\uff1a\u603b\u662f\u4f7f\u7528\u4e0a\u6b21\u9009\u4e2d\u7684\u8ba2\u9605\u8005\u6d3e\u53d1\uff0c\u76f4\u5230\u5b83\u65ad\u5f00\u8fde\u63a5\uff1b<br/>  - `hash`\uff1a\u4f7f\u7528\u53d1\u9001\u8005\u7684 Client ID \u8fdb\u884c Hash \u6765\u9009\u62e9\u8ba2\u9605\u8005\u3002","enum":["random","round_robin","round_robin_per_group","sticky","local","hash_topic","hash_clientid"],"type":"string"},"shared_dispatch_ack_enabled":{"default":false,"description":"\u8be5\u914d\u7f6e\u9879\u5df2\u5e9f\u5f03\uff0c\u4f1a\u5728 5.1 \u4e2d\u79fb\u9664\u3002<br/>\u542f\u7528/\u7981\u7528 QoS 1 \u548c QoS 2 \u6d88\u606f\u7684\u5171\u4eab\u6d3e\u53d1\u786e\u8ba4\u3002<br/>\u5f00\u542f\u540e\uff0c\u5141\u8bb8\u5c06\u6d88\u606f\u4ece\u672a\u53ca\u65f6\u56de\u590d ACK \u7684\u8ba2\u9605\u8005 \uff08\u4f8b\u5982\uff0c\u5ba2\u6237\u7aef\u79bb\u7ebf\uff09\u91cd\u65b0\u6d3e\u53d1\u7ed9\u53e6\u5916\u4e00\u4e2a\u8ba2\u9605\u8005\u3002","type":"boolean"},"route_batch_clean":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u6279\u91cf\u6e05\u9664\u8def\u7531\u3002","type":"boolean"},"perf":{"$ref":"#/components/schemas/broker.broker_perf"},"shared_subscription_group":{"description":"\u8bbe\u7f6e\u5171\u4eab\u8ba2\u9605\u7ec4\u4e3a\u5355\u4f4d\u7684\u5206\u53d1\u7b56\u7565\u3002\u8be5\u914d\u7f6e\u662f\u4e00\u4e2a\u4ece\u7ec4\u540d\u5230<br/>\u7b56\u7565\u540d\u7684\u4e00\u4e2amap\uff0c\u7ec4\u540d\u4e0d\u5f97\u5305\u542b `[A-Za-z0-9]` \u4e4b\u5916\u7684\u7279\u6b8a\u5b57\u7b26\u3002","example":{"example_group":{"strategy":"random"}},"properties":{"$name":{"$ref":"#/components/schemas/broker.shared_subscription_group"}},"type":"object"}},"type":"object"},"emqx_mgmt_api_publish.bad_request":{"properties":{"code":{"description":"BAD_REQUEST","type":"string"},"message":{"description":"\u5931\u8d25\u7684\u8be6\u7ec6\u539f\u56e0\u3002","type":"string"}},"type":"object"},"authn-postgresql.authentication":{"required":["database","server","query","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["postgresql"],"type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"query":{"description":"\u7528\u4e8e\u67e5\u8be2\u5bc6\u7801\u6563\u5217\u7b49\u7528\u4e8e\u8ba4\u8bc1\u7684\u6570\u636e\u7684 SQL \u8bed\u53e5\u3002","type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 PostgreSQL \u9ed8\u8ba4\u7aef\u53e3 5432\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_authn_schema.resource_metrics":{"properties":{"matched":{"description":"\u8bf7\u6c42\u547d\u4e2d\u6b21\u6570\u3002","type":"integer"},"success":{"description":"\u8bf7\u6c42\u6210\u529f\u6b21\u6570\u3002","type":"integer"},"failed":{"description":"\u8bf7\u6c42\u5931\u8d25\u6b21\u6570\u3002","type":"integer"},"rate":{"description":"\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_max":{"description":"\u6700\u5927\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_last5m":{"description":"5\u5206\u949f\u5185\u5e73\u5747\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"}},"type":"object"},"exhook.list_hook_info":{"properties":{"name":{"description":"\u94a9\u5b50\u7684\u540d\u79f0","type":"string"},"params":{"description":"\u94a9\u5b50\u6ce8\u518c\u65f6\u4f7f\u7528\u7684\u53c2\u6570","properties":{"$name":{"type":"string"}},"type":"object"},"metrics":{"description":"\u5f53\u524d\u8282\u70b9\u4e2d\u8be5\u94a9\u5b50\u7684\u6307\u6807\u4fe1\u606f","$ref":"#/components/schemas/exhook.metrics"},"node_metrics":{"description":"\u6240\u6709\u8282\u70b9\u4e2d\u8be5\u94a9\u5b50\u7684\u6307\u6807\u4fe1\u606f","items":{"$ref":"#/components/schemas/exhook.node_metrics"},"type":"array"}},"type":"object"},"emqx_gateway_api_listeners.udp_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["udp"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"udp_options":{"$ref":"#/components/schemas/gateway.udp_opts"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"status":{"description":"\u76d1\u542c\u5668\u72b6\u6001","$ref":"#/components/schemas/listeners.status"},"node_status":{"description":"\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"emqx_authz_api_mnesia.rule_item":{"required":["action","permission","topic"],"properties":{"topic":{"description":"\u5728\u6307\u5b9a\u4e3b\u9898\u4e0a\u7684\u89c4\u5219","example":"test/topic/1","type":"string"},"permission":{"description":"\u6743\u9650","enum":["allow","deny"],"example":"allow","type":"string"},"action":{"description":"\u88ab\u6388\u6743\u7684\u884c\u4e3a (\u53d1\u5e03/\u8ba2\u9605/\u6240\u6709)","enum":["publish","subscribe","all"],"example":"publish","type":"string"}},"type":"object"},"authn-jwt.jwks":{"required":["mechanism","endpoint","use_jwks"],"properties":{"use_jwks":{"description":"\u662f\u5426\u4f7f\u7528 JWKS\u3002","enum":[true],"type":"string"},"endpoint":{"description":"JWKS \u7aef\u70b9\uff0c \u5b83\u662f\u4e00\u4e2a\u4ee5 JWKS \u683c\u5f0f\u8fd4\u56de\u670d\u52a1\u7aef\u7684\u516c\u94a5\u96c6\u7684\u53ea\u8bfb\u7aef\u70b9\u3002","type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"refresh_interval":{"default":300,"description":"JWKS \u5237\u65b0\u95f4\u9694\u3002","type":"integer"},"ssl":{"default":{"enable":false},"description":"SSL \u9009\u9879\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["jwt"],"type":"string"},"acl_claim_name":{"default":"acl","description":"JWT claim name to use for getting ACL rules.","type":"string"},"verify_claims":{"default":{},"description":"\u9700\u8981\u9a8c\u8bc1\u7684\u81ea\u5b9a\u4e49\u58f0\u660e\u5217\u8868\uff0c\u5b83\u662f\u4e00\u4e2a\u540d\u79f0/\u503c\u5bf9\u5217\u8868\u3002<br/>\u503c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26<br/>\u8ba4\u8bc1\u65f6\u5c06\u9a8c\u8bc1 JWT\uff08\u53d6\u81ea Password \u5b57\u6bb5\uff09\u4e2d claims \u7684\u503c\u662f\u5426\u4e0e <code>verify_claims</code> \u4e2d\u8981\u6c42\u7684\u76f8\u5339\u914d\u3002","items":{"example":"any","type":"string"},"type":"array"},"from":{"default":"password","description":"\u8981\u4ece\u4e2d\u83b7\u53d6 JWT \u7684\u5b57\u6bb5\u3002","enum":["username","password"],"type":"string"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"}},"type":"object"},"trace.trace":{"required":["type","name"],"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-TRACE-1","type":"string"},"type":{"description":"Filter type","enum":["clientid","topic","ip_address"],"example":"clientid","type":"string"},"topic":{"description":"support mqtt wildcard topic.","example":"/dev/#","type":"string"},"clientid":{"description":"mqtt clientid.","example":"dev-001","type":"string"},"ip_address":{"description":"client ip address","example":"127.0.0.1","type":"string"},"status":{"description":"trace status","enum":["running","stopped","waiting"],"example":"running","type":"string"},"start_at":{"description":"rfc3339 timestamp or epoch second","example":"2021-11-04T18:17:38+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"end_at":{"description":"rfc3339 timestamp or epoch second","example":"2021-11-05T18:17:38+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"log_size":{"description":"trace log size","example":[{"node":"emqx@127.0.0.1","size":1024}],"items":{"example":{},"type":"object"},"type":"array"}},"type":"object"},"gateway.udp_opts":{"properties":{"active_n":{"default":100,"description":"\u4e3a Socket \u6307\u5b9a {active, N} \u9009\u9879\u3002<br/>\u53c2\u89c1\uff1ahttps://erlang.org/doc/man/inet.html#setopts-2","type":"integer"},"recbuf":{"description":"Socket \u5728\u5185\u6838\u7a7a\u95f4\u63a5\u6536\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002","example":"32MB","type":"string"},"sndbuf":{"description":"Socket \u5728\u5185\u6838\u7a7a\u95f4\u53d1\u9001\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002","example":"32MB","type":"string"},"buffer":{"description":"Socket \u5728\u7528\u6237\u7a7a\u95f4\u7684\u7f13\u51b2\u533a\u5927\u5c0f\u3002","example":"32MB","type":"string"},"reuseaddr":{"default":true,"description":"\u5141\u8bb8\u91cd\u7528\u672c\u5730\u5904\u4e8e TIME_WAIT \u7684\u7aef\u53e3\u53f7\u3002","type":"boolean"}},"type":"object"},"emqx_gateway_api.coap":{"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","enum":["coap"],"type":"string"},"heartbeat":{"default":"30s","description":"CoAP \u7f51\u5173\u8981\u6c42\u5ba2\u6237\u7aef\u7684\u6700\u5c0f\u5fc3\u8df3\u95f4\u9694\u65f6\u95f4\u3002<br/>\u5f53 <code>connection_required</code> \u5f00\u542f\u540e\uff0c\u8be5\u53c2\u6570\u7528\u4e8e\u68c0\u67e5\u5ba2\u6237\u7aef\u8fde\u63a5\u662f\u5426\u5b58\u6d3b","example":"12m","type":"string"},"connection_required":{"default":false,"description":"\u662f\u5426\u5f00\u542f\u8fde\u63a5\u6a21\u5f0f\u3002<br/>\u8fde\u63a5\u6a21\u5f0f\u662f\u975e\u6807\u51c6\u534f\u8bae\u7684\u529f\u80fd\u3002\u5b83\u7ef4\u62a4 CoAP \u5ba2\u6237\u7aef\u4e0a\u7ebf\u3001\u8ba4\u8bc1\u3001\u548c\u8fde\u63a5\u72b6\u6001\u7684\u4fdd\u6301","type":"boolean"},"notify_type":{"default":"qos","description":"\u6295\u9012\u7ed9 CoAP \u5ba2\u6237\u7aef\u7684\u901a\u77e5\u6d88\u606f\u7c7b\u578b\u3002\u5f53\u5ba2\u6237\u7aef Observe \u4e00\u4e2a\u8d44\u6e90\uff08\u6216\u8ba2\u9605\u67d0\u4e2a\u4e3b\u9898\uff09\u65f6\uff0c\u7f51\u5173\u4f1a\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u65b0\u4ea7\u751f\u7684\u6d88\u606f\u3002\u5176\u6d88\u606f\u7c7b\u578b\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br/><br/>  - non: \u4e0d\u9700\u8981\u5ba2\u6237\u7aef\u8fd4\u56de\u786e\u8ba4\u6d88\u606f;<br/><br/>  - con: \u9700\u8981\u5ba2\u6237\u7aef\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u6d88\u606f;<br/><br/>  - qos: \u53d6\u51b3\u4e8e\u6d88\u606f\u7684 QoS \u7b49\u7ea7; QoS 0 \u4f1a\u4ee5 `non` \u7c7b\u578b\u4e0b\u53d1\uff0cQoS 1/2 \u4f1a\u4ee5 `con` \u7c7b\u578b\u4e0b\u53d1","enum":["non","con","qos"],"type":"string"},"subscribe_qos":{"default":"coap","description":"\u5ba2\u6237\u7aef\u8ba2\u9605\u8bf7\u6c42\u7684\u9ed8\u8ba4 QoS \u7b49\u7ea7\u3002<br/>\u5f53 CoAP \u5ba2\u6237\u7aef\u53d1\u8d77\u8ba2\u9605\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u672a\u643a\u5e26 `qos` \u53c2\u6570\u5219\u4f1a\u4f7f\u7528\u8be5\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br/><br/>  - qos0\u3001 qos1\u3001qos2: \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u7684 QoS \u7b49\u7ea7<br/><br/>  - coap: \u4f9d\u636e\u8ba2\u9605\u64cd\u4f5c\u7684 CoAP \u62a5\u6587\u7c7b\u578b\u6765\u52a8\u6001\u51b3\u5b9a<br/><br/>    * \u5f53\u8ba2\u9605\u8bf7\u6c42\u4e3a `non-confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos0<br/><br/>    * \u5f53\u8ba2\u9605\u8bf7\u6c42\u4e3a `confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos1","enum":["qos0","qos1","qos2","coap"],"type":"string"},"publish_qos":{"default":"coap","description":"\u5ba2\u6237\u7aef\u53d1\u5e03\u8bf7\u6c42\u7684\u9ed8\u8ba4 QoS \u7b49\u7ea7\u3002<br/>\u5f53 CoAP \u5ba2\u6237\u7aef\u53d1\u8d77\u53d1\u5e03\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u672a\u643a\u5e26 `qos` \u53c2\u6570\u5219\u4f1a\u4f7f\u7528\u8be5\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u503c\u53ef\u8bbe\u7f6e\u4e3a\uff1a<br><br/>  - qos0\u3001qos1\u3001qos2: \u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u7684 QoS \u7b49\u7ea7<br/><br/>  - coap: \u4f9d\u636e\u53d1\u5e03\u64cd\u4f5c\u7684 CoAP \u62a5\u6587\u7c7b\u578b\u6765\u52a8\u6001\u51b3\u5b9a<br/><br/>    * \u5f53\u53d1\u5e03\u8bf7\u6c42\u4e3a `non-confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos0<br/><br/>    * \u5f53\u53d1\u5e03\u8bf7\u6c42\u4e3a `confirmable` \u7c7b\u578b\u65f6\uff0c\u53d6\u503c\u4e3a qos1","enum":["qos0","qos1","qos2","coap"],"type":"string"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"listeners":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"}]},"type":"array"}},"type":"object"},"emqx_authn_schema.node_error":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"error":{"description":"\u8282\u70b9\u4e0a\u4ea7\u751f\u7684\u9519\u8bef\u3002","type":"string"}},"type":"object"},"authn-mongodb.standalone":{"required":["database","server","collection","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"\u5b58\u50a8\u8ba4\u8bc1\u6570\u636e\u7684\u96c6\u5408\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"password_hash_field":{"default":"password_hash","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u5bc6\u7801\u6563\u5217\u7684\u5b57\u6bb5\u3002","type":"string"},"salt_field":{"default":"salt","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u76d0\u503c\u7684\u5b57\u6bb5\u3002","type":"string"},"is_superuser_field":{"default":"is_superuser","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b9a\u4e49\u7528\u6237\u662f\u5426\u5177\u6709\u8d85\u7ea7\u7528\u6237\u6743\u9650\u7684\u5b57\u6bb5\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"mongo_type":{"default":"single","description":"Standalone \u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 standalone \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'single'\u3002","enum":["single"],"type":"string"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_gateway_api_listeners.dtls_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["dtls"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"udp_options":{"$ref":"#/components/schemas/gateway.udp_opts"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"dtls_options":{"description":"DTLS Socket \u914d\u7f6e","$ref":"#/components/schemas/gateway.dtls_opts"},"status":{"description":"\u76d1\u542c\u5668\u72b6\u6001","$ref":"#/components/schemas/listeners.status"},"node_status":{"description":"\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"emqx_rule_api_schema.ctx_connack":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["client_connack"],"type":"string"},"reason_code":{"description":"\u9519\u8bef\u7801","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"clean_start":{"default":true,"description":"\u6e05\u9664\u4f1a\u8bdd","type":"boolean"},"username":{"description":"","type":"string"},"peername":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"sockname":{"description":"\u672c\u5730\u76d1\u542c\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"proto_name":{"description":"\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u534f\u8bae\u7248\u672c","type":"string"},"keepalive":{"description":"\u4fdd\u6301\u8fde\u63a5","type":"integer"},"expiry_interval":{"description":"\u5230\u671f\u95f4\u9694","type":"integer"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5b8c\u6210\u65f6\u7684\u65f6\u523b","type":"integer"}},"type":"object"},"emqx_authz_api_schema.redis_single":{"required":["database","server","cmd","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"redis","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["redis"],"type":"string"},"cmd":{"description":"\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u67e5\u8be2\u547d\u4ee4\u3002","example":"HGETALL mqtt_authz","type":"string"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 Redis \u9ed8\u8ba4\u7aef\u53e3 6379\u3002","type":"string"},"redis_type":{"default":"single","description":"\u5355\u673a\u6a21\u5f0f\u3002\u5f53 Redis \u670d\u52a1\u8fd0\u884c\u5728\u5355\u673a\u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'single'\u3002","enum":["single"],"type":"string"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"database":{"default":0,"description":"Redis \u6570\u636e\u5e93 ID\u3002","type":"integer"},"auto_reconnect":{"default":true,"deprecated":true,"description":"\u5df2\u5f03\u7528\u3002\u81ea\u52a8\u91cd\u8fde\u6570\u636e\u5e93\u3002","type":"boolean"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"prometheus.prometheus":{"required":["vm_msacc_collector","vm_memory_collector","vm_system_info_collector","vm_statistics_collector","mnesia_collector","vm_dist_collector","enable","job_name","interval","push_gateway_server"],"properties":{"push_gateway_server":{"default":"http://127.0.0.1:9091","description":"Prometheus \u670d\u52a1\u5668\u5730\u5740","type":"string"},"interval":{"default":"15s","description":"\u6570\u636e\u63a8\u9001\u95f4\u9694","example":"32s","type":"string"},"headers":{"default":{},"description":"\u63a8\u9001\u5230 Push Gateway \u7684 HTTP Headers \u5217\u8868\u3002<br/><br/>\u4f8b\u5982\uff0c<code> { Authorization = \"some-authz-tokens\"}</code>","items":{"example":{},"type":"object"},"type":"array"},"job_name":{"default":"${name}/instance/${name}~${host}","description":"\u63a8\u9001\u5230 Push Gateway \u7684 Job \u540d\u79f0\u3002\u53ef\u7528\u53d8\u91cf\u4e3a\uff1a<br/><br/>- ${name}: EMQX \u8282\u70b9\u7684\u540d\u79f0\u3002<br/>- ${host}: EMQX \u8282\u70b9\u4e3b\u673a\u540d\u3002<br/>\u4f8b\u5982\uff0c\u5f53 EMQX \u8282\u70b9\u540d\u4e3a <code>emqx@127.0.0.1</code> \u5219 name \u53d8\u91cf\u7684\u503c\u4e3a <code>emqx</code>\uff0chost \u53d8\u91cf\u7684\u503c\u4e3a <code>127.0.0.1</code>\u3002<br/><br/>\u9ed8\u8ba4\u503c\u4e3a: <code>${name}/instance/${name}~${host}</code>","type":"string"},"enable":{"default":false,"description":"\u5f00\u542f\u6216\u5173\u95ed Prometheus \u6570\u636e\u63a8\u9001","type":"boolean"},"vm_dist_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed VM \u5206\u5e03\u91c7\u96c6\u5668\uff0c\u6536\u96c6 Erlang \u5206\u5e03\u673a\u5236\u4e2d\u6d89\u53ca\u7684\u5957\u63a5\u5b57\u548c\u8fdb\u7a0b\u7684\u4fe1\u606f\u3002","enum":["enabled","disabled"],"type":"string"},"mnesia_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed Mnesia \u91c7\u96c6\u5668, \u4f7f\u7528 mnesia:system_info/1 \u6536\u96c6 Mnesia \u76f8\u5173\u6307\u6807","enum":["enabled","disabled"],"type":"string"},"vm_statistics_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed VM \u7edf\u8ba1\u91c7\u96c6\u5668, \u4f7f\u7528 erlang:statistics/1 \u6536\u96c6 Erlang VM \u76f8\u5173\u6307\u6807","enum":["enabled","disabled"],"type":"string"},"vm_system_info_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed VM \u7cfb\u7edf\u4fe1\u606f\u91c7\u96c6\u5668, \u4f7f\u7528 erlang:system_info/1 \u6536\u96c6 Erlang VM \u76f8\u5173\u6307\u6807","enum":["enabled","disabled"],"type":"string"},"vm_memory_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed VM \u5185\u5b58\u91c7\u96c6\u5668, \u4f7f\u7528 erlang:memory/0 \u6536\u96c6 Erlang \u865a\u62df\u673a\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u4fe1\u606f\uff0c\u540c\u65f6\u63d0\u4f9b\u57fa\u672c\u7684 (D)ETS \u7edf\u8ba1\u4fe1\u606f","enum":["enabled","disabled"],"type":"string"},"vm_msacc_collector":{"default":"enabled","description":"\u5f00\u542f\u6216\u5173\u95ed VM msacc \u91c7\u96c6\u5668, \u4f7f\u7528 erlang:statistics(microstate_accounting) \u6536\u96c6\u5fae\u72b6\u6001\u8ba1\u6570\u6307\u6807","enum":["enabled","disabled"],"type":"string"}},"type":"object"},"authz.metrics":{"properties":{"total":{"description":"\u6388\u6743\u5b9e\u4f8b\u88ab\u89e6\u53d1\u7684\u603b\u6b21\u6570\u3002","type":"integer"},"allow":{"description":"\u6388\u6743\u6210\u529f\u7684\u6b21\u6570\u3002","type":"integer"},"deny":{"description":"\u6388\u6743\u5931\u8d25\u7684\u6b21\u6570\u3002","type":"integer"},"nomatch":{"description":"\u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u6388\u6743\u89c4\u5219\u7684\u6b21\u6570\u3002","type":"number"},"rate":{"description":"\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_max":{"description":"\u6700\u5927\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_last5m":{"description":"5\u5206\u949f\u5185\u5e73\u5747\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"}},"type":"object"},"emqx_gateway_api.mqttsn":{"required":["gateway_id"],"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","enum":["mqttsn"],"type":"string"},"gateway_id":{"default":1,"description":"MQTT-SN \u7f51\u5173 ID\u3002<br/>\u5f53 <code>broadcast</code> \u6253\u5f00\u65f6\uff0cMQTT-SN \u7f51\u5173\u4f1a\u4f7f\u7528\u8be5 ID \u6765\u5e7f\u64ad ADVERTISE \u6d88\u606f","type":"integer"},"broadcast":{"default":false,"description":"\u662f\u5426\u5468\u671f\u6027\u5e7f\u64ad ADVERTISE \u6d88\u606f","type":"boolean"},"enable_qos3":{"default":true,"description":"\u662f\u5426\u5141\u8bb8\u65e0\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u53d1\u9001 QoS \u7b49\u4e8e -1 \u7684\u6d88\u606f\u3002<br/>\u8be5\u529f\u80fd\u4e3b\u8981\u7528\u4e8e\u652f\u6301\u8f7b\u91cf\u7684 MQTT-SN \u5ba2\u6237\u7aef\u5b9e\u73b0\uff0c\u5b83\u4e0d\u4f1a\u5411\u7f51\u5173\u5efa\u7acb\u8fde\u63a5\uff0c\u6ce8\u518c\u4e3b\u9898\uff0c\u4e5f\u4e0d\u4f1a\u53d1\u8d77\u8ba2\u9605\uff1b\u5b83\u53ea\u4f7f\u7528 QoS \u4e3a -1 \u6765\u53d1\u5e03\u6d88\u606f","type":"boolean"},"subs_resume":{"default":false,"description":"\u5728\u4f1a\u8bdd\u88ab\u91cd\u7528\u540e\uff0c\u7f51\u5173\u662f\u5426\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u6ce8\u518c\u5bf9\u5df2\u8ba2\u9605\u4e3b\u9898\u540d\u79f0","type":"boolean"},"predefined":{"default":"","description":"\u9884\u5b9a\u4e49\u4e3b\u9898\u5217\u8868\u3002<br/>\u9884\u5b9a\u4e49\u7684\u4e3b\u9898\u5217\u8868\uff0c\u662f\u4e00\u7ec4 \u4e3b\u9898 ID \u548c \u4e3b\u9898\u540d\u79f0 \u7684\u6620\u5c04\u5173\u7cfb\u3002\u4f7f\u7528\u9884\u5148\u5b9a\u4e49\u7684\u4e3b\u9898\u5217\u8868\uff0c\u53ef\u4ee5\u51cf\u5c11 MQTT-SN \u5ba2\u6237\u7aef\u548c\u7f51\u5173\u5bf9\u4e8e\u56fa\u5b9a\u4e3b\u9898\u7684\u6ce8\u518c\u8bf7\u6c42","items":{"$ref":"#/components/schemas/gateway.mqttsn_predefined"},"type":"array"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"listeners":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"}]},"type":"array"}},"type":"object"},"rule_engine.builtin_action_console":{"properties":{"function":{"description":"\u5c06\u8f93\u51fa\u6253\u5370\u5230\u63a7\u5236\u53f0","enum":["console"],"type":"string"}},"type":"object"},"bridge_mqtt.put":{"required":["server"],"properties":{"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_mqtt.creation_opts"},"mode":{"default":"cluster_shareload","description":"MQTT \u6865\u7684\u6a21\u5f0f\u3002 <br/><br/>- cluster_shareload\uff1a\u5728 emqx \u96c6\u7fa4\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u521b\u5efa\u4e00\u4e2a MQTT \u8fde\u63a5\u3002<br/><br/>\u5728\u201ccluster_shareload\u201d\u6a21\u5f0f\u4e0b\uff0c\u6765\u81ea\u8fdc\u7a0b\u4ee3\u7406\u7684\u4f20\u5165\u8d1f\u8f7d\u901a\u8fc7\u5171\u4eab\u8ba2\u9605\u7684\u65b9\u5f0f\u63a5\u6536\u3002<br/><br/>\u8bf7\u6ce8\u610f\uff0c<code>clientid</code> \u4ee5\u8282\u70b9\u540d\u79f0\u4e3a\u540e\u7f00\uff0c\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684 <code> clientid</code> \u51b2\u7a81\u3002<br/>\u800c\u4e14\u5bf9\u4e8e\u5165\u53e3\u8fde\u63a5\u7684 <code>remote.topic</code>\uff0c\u6211\u4eec\u53ea\u80fd\u4f7f\u7528\u5171\u4eab\u8ba2\u9605\u4e3b\u9898\u8fc7\u6ee4\u5668\u3002","enum":["cluster_shareload"],"type":"string"},"server":{"description":"\u8fdc\u7a0b MQTT Broker\u7684\u4e3b\u673a\u548c\u7aef\u53e3\u3002","type":"string"},"clientid_prefix":{"description":"\u53ef\u9009\u7684\u524d\u7f00\uff0c\u7528\u4e8e\u5728\u51fa\u53e3\u7f51\u6865\u4f7f\u7528\u7684clientid\u524d\u52a0\u4e0a\u524d\u7f00\u3002","type":"string"},"reconnect_interval":{"deprecated":true,"type":"string"},"proto_ver":{"default":"v4","description":"MQTT \u534f\u8bae\u7248\u672c","enum":["v3","v4","v5"],"type":"string"},"bridge_mode":{"default":false,"description":"\u662f\u5426\u542f\u7528 Bridge Mode\u3002<br/>\u6ce8\u610f\uff1a\u6b64\u8bbe\u7f6e\u53ea\u9488\u5bf9 MQTT \u534f\u8bae\u7248\u672c < 5.0 \u6709\u6548\uff0c\u5e76\u4e14\u9700\u8981\u8fdc\u7a0b MQTT Broker \u652f\u6301 Bridge Mode\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3a true \uff0c\u6865\u63a5\u4f1a\u544a\u8bc9\u8fdc\u7aef\u670d\u52a1\u5668\u5f53\u524d\u8fde\u63a5\u662f\u4e00\u4e2a\u6865\u63a5\u800c\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5ba2\u6237\u7aef\u3002<br/>\u8fd9\u610f\u5473\u7740\u6d88\u606f\u56de\u73af\u68c0\u6d4b\u4f1a\u66f4\u52a0\u9ad8\u6548\uff0c\u5e76\u4e14\u8fdc\u7aef\u670d\u52a1\u5668\u6536\u5230\u7684\u4fdd\u7559\u6d88\u606f\u7684\u6807\u5fd7\u4f4d\u4f1a\u900f\u4f20\u7ed9\u672c\u5730\u3002","type":"boolean"},"username":{"description":"MQTT \u534f\u8bae\u7684\u7528\u6237\u540d","type":"string"},"password":{"description":"MQTT \u534f\u8bae\u7684\u5bc6\u7801","format":"password","type":"string"},"clean_start":{"default":true,"description":"\u4e0e ingress MQTT \u6865\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u91cd\u8fde\u65f6\u662f\u5426\u6e05\u9664\u8001\u7684 MQTT \u4f1a\u8bdd\u3002","type":"boolean"},"keepalive":{"default":"300s","description":"MQTT Keepalive. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"retry_interval":{"default":"15s","description":"Message retry interval. Delay for the MQTT bridge to retry sending the QoS1/QoS2 messages in case of ACK not received. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"max_inflight":{"default":32,"description":"MQTT \u534f\u8bae\u7684\u6700\u5927\u98de\u884c\uff08\u5df2\u53d1\u9001\u4f46\u672a\u786e\u8ba4\uff09\u6d88\u606f","minimum":0,"type":"integer"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"ingress":{"description":"\u5165\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u4ece\u8fdc\u7a0b MQTT Broker \u63a5\u6536\u6d88\u606f\uff0c\u7136\u540e\u5c06\u6d88\u606f\u53d1\u9001\u5230\u672c\u5730 Broker\u3002<br/><br/>        \u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.qos', 'local.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>        \u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u8f93\u5165\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u8fdc\u7a0b\u4ee3\u7406\u83b7\u53d6\u7684\u6d88\u606f\u5c06\u540c\u65f6\u88ab\u53d1\u9001\u5230 'local.topic' \u548c\u89c4\u5219\u3002","$ref":"#/components/schemas/connector-mqtt.ingress"},"egress":{"description":"\u51fa\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u5c06\u6d88\u606f\u4ece\u672c\u5730 Broker \u8f6c\u53d1\u5230\u8fdc\u7a0b Broker\u3002<br/>\u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u52a8\u4f5c\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u89c4\u5219\u8f93\u51fa\u7684\u6570\u636e\u4ee5\u53ca\u5339\u914d\u5230 'local.topic' \u7684 MQTT \u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u3002","$ref":"#/components/schemas/connector-mqtt.egress"}},"type":"object"},"authn-hash.bcrypt":{"required":["name"],"properties":{"name":{"description":"BCRYPT password hashing.","enum":["bcrypt"],"type":"string"}},"type":"object"},"exhook.ssl_conf":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"enable":{"default":false,"description":"\u542f\u7528 TLS\u3002","type":"boolean"},"server_name_indication":{"description":"\u6307\u5b9a\u8981\u5728 TLS \u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\u6269\u5c55\u4e2d\u4f7f\u7528\u7684\u4e3b\u673a\u540d\u3002<br/><br/>\u4f8b\u5982\uff0c\u5f53\u8fde\u63a5\u5230 \"server.example.net\" \u65f6\uff0c\u63a5\u53d7\u8fde\u63a5\u5e76\u6267\u884c TLS \u63e1\u624b\u7684\u771f\u6b63\u670d\u52a1\u5668\u53ef\u80fd\u4e0e TLS \u5ba2\u6237\u7aef\u6700\u521d\u8fde\u63a5\u5230\u7684\u4e3b\u673a\u4e0d\u540c\uff0c<br/>\u4f8b\u5982\uff0c\u5f53\u8fde\u63a5\u5230 IP \u5730\u5740\u65f6\uff0c\u6216\u8005\u5f53\u4e3b\u673a\u5177\u6709\u591a\u4e2a\u53ef\u89e3\u6790\u7684 DNS \u8bb0\u5f55\u65f6<br/><br/>\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5b83\u5c06\u9ed8\u8ba4\u4e3a\u4f7f\u7528\u7684\u4e3b\u673a\u540d\u5b57\u7b26\u4e32<br/>\u5efa\u7acb\u8fde\u63a5\uff0c\u9664\u975e\u4f7f\u7528 IP \u5730\u5740<br/><br/>\u7136\u540e\uff0c\u4e3b\u673a\u540d\u4e5f\u7528\u4e8e\u5bf9\u7b49\u673a\u7684\u4e3b\u673a\u540d\u9a8c\u8bc1\u8bc1\u4e66<br/><br/>\u7279\u6b8a\u503c <code>disable</code> \u963b\u6b62\u53d1\u9001\u670d\u52a1\u5668\u540d\u79f0\u6307\u793a\u6269\u5c55\uff0c\u5e76\u7981\u7528\u4e3b\u673a\u540d\u9a8c\u8bc1\u68c0\u67e5\u3002","example":"disable","oneOf":[{"type":"string"},{"enum":["disable"],"type":"string"}]}},"type":"object"},"lwm2m.resource":{"properties":{"operations":{"description":"\u8d44\u6e90\u53ef\u7528\u64cd\u4f5c\u5217\u8868","example":"E","type":"string"},"dataType":{"description":"\u6570\u636e\u7c7b\u578b","enum":["Integer","Float","Time","String","Boolean","Opaque","Objlnk"],"example":"Integer","type":"string"},"path":{"description":"\u8d44\u6e90\u8def\u5f84","example":"urn:oma:lwm2m:oma:2","type":"string"},"name":{"description":"\u8d44\u6e90\u540d\u79f0","example":"lwm2m-test","type":"string"}},"type":"object"},"gateway.lwm2m_translators":{"required":["update","register","notify","response","command"],"properties":{"command":{"description":"\u4e0b\u884c\u547d\u4ee4\u4e3b\u9898\u3002<br/>\u5bf9\u4e8e\u6bcf\u4e2a\u6210\u529f\u4e0a\u7ebf\u7684\u65b0 LwM2M \u5ba2\u6237\u7aef\uff0c\u7f51\u5173\u4f1a\u521b\u5efa\u4e00\u4e2a\u8ba2\u9605\u5173\u7cfb\u6765\u63a5\u6536\u4e0b\u884c\u6d88\u606f\u5e76\u5c06\u5176\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002","$ref":"#/components/schemas/gateway.translator"},"response":{"description":"\u7528\u4e8e\u7f51\u5173\u53d1\u5e03\u6765\u81ea LwM2M \u5ba2\u6237\u7aef\u7684\u786e\u8ba4\u4e8b\u4ef6\u7684\u4e3b\u9898\u3002","$ref":"#/components/schemas/gateway.translator"},"notify":{"description":"\u7528\u4e8e\u53d1\u5e03\u6765\u81ea LwM2M \u5ba2\u6237\u7aef\u7684\u901a\u77e5\u4e8b\u4ef6\u7684\u4e3b\u9898\u3002<br/>\u5728\u6210\u529f Observe \u5230 LwM2M \u5ba2\u6237\u7aef\u7684\u8d44\u6e90\u540e\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u62a5\u544a\u4efb\u4f55\u8d44\u6e90\u72b6\u6001\u7684\u53d8\u5316\uff0c\u7f51\u5173\u5c06\u901a\u8fc7\u8be5\u4e3b\u9898\u53d1\u9001\u901a\u77e5\u4e8b\u4ef6\u3002","$ref":"#/components/schemas/gateway.translator"},"register":{"description":"\u7528\u4e8e\u53d1\u5e03\u6765\u81ea LwM2M \u5ba2\u6237\u7aef\u7684\u6ce8\u518c\u4e8b\u4ef6\u7684\u4e3b\u9898\u3002","$ref":"#/components/schemas/gateway.translator"},"update":{"description":"\u7528\u4e8e\u53d1\u5e03\u6765\u81eaLwM2M\u5ba2\u6237\u7aef\u7684\u66f4\u65b0\u4e8b\u4ef6\u7684\u4e3b\u9898\u3002","$ref":"#/components/schemas/gateway.translator"}},"type":"object"},"listeners.ssl_required_bind":{"required":["bind","id","type"],"properties":{"type":{"description":"Listener type","enum":["ssl"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":8883,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"},"access_rules":{"default":["allow all"],"description":"\u6b64\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002","items":{"type":"string"},"type":"array"},"proxy_protocol":{"default":false,"description":"\u5982\u679cEMQX\u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u4e4b\u540e\uff0c\u8bf7\u542f\u7528\u4ee3\u7406\u534f\u8bae V1/2 <br/><br/>\u8be6\u60c5\u89c1: https://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"3s","description":"\u4ee3\u7406\u534f\u8bae\u8d85\u65f6\u3002\u5982\u679c\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u672a\u6536\u5230\u4ee3\u7406\u534f\u8bae\u6570\u636e\u5305\uff0cEMQX\u5c06\u5173\u95edTCP\u8fde\u63a5\u3002","example":"12m","type":"string"},"tcp_options":{"$ref":"#/components/schemas/broker.tcp_opts"},"ssl_options":{"$ref":"#/components/schemas/broker.listener_ssl_opts"}},"type":"object"},"gateway.stomp_frame":{"properties":{"max_headers":{"default":10,"description":"\u5141\u8bb8\u7684 Header \u6700\u5927\u6570\u91cf","minimum":0,"type":"integer"},"max_headers_length":{"default":1024,"description":"\u5141\u8bb8\u7684 Header \u5b57\u7b26\u4e32\u7684\u6700\u5927\u957f\u5ea6","minimum":0,"type":"integer"},"max_body_length":{"default":65536,"description":"\u5141\u8bb8\u7684 Stomp \u62a5\u6587 Body \u7684\u6700\u5927\u5b57\u8282\u6570","type":"integer"}},"type":"object"},"retainer.message_summary":{"properties":{"msgid":{"description":"\u6d88\u606f ID","type":"string"},"topic":{"description":"\u4e3b\u9898","type":"string"},"qos":{"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"publish_at":{"description":"\u6d88\u606f\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"from_clientid":{"description":"\u53d1\u5e03\u8005\u7684 ClientID","type":"string"},"from_username":{"description":"\u53d1\u5e03\u8005\u7684\u7528\u6237\u540d","type":"string"}},"type":"object"},"broker.broker_perf":{"properties":{"route_lock_type":{"default":"key","description":"\u901a\u914d\u4e3b\u9898\u8ba2\u9605/\u53d6\u6d88\u8ba2\u9605\u6027\u80fd\u8c03\u4f18\u3002<br/>\u5efa\u8bae\u4ec5\u5f53\u901a\u914d\u7b26\u4e3b\u9898\u8f83\u591a\u65f6\u624d\u66f4\u6539\u6b64\u53c2\u6570\u3002<br/><br/>\u6ce8\uff1a\u5f53\u4ece/\u66f4\u6539\u4e3a `global` \u9501\u65f6\uff0c\u5b83\u8981\u6c42\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u8282\u70b9\u5728\u66f4\u6539\u4e4b\u524d\u505c\u6b62\u3002<br/>  - `key`\uff1a\u4e3a Mnesia \u4e8b\u52a1\u6d89\u53ca\u5230\u7684\u6bcf\u4e2a key \u4e0a\u9501\uff0c\u5efa\u8bae\u5355\u8282\u70b9\u65f6\u4f7f\u7528\u3002<br/>  - `tab`\uff1a\u4e3a Mnesia \u4e8b\u52a1\u6d89\u53ca\u5230\u7684\u8868\u4e0a\u9501\uff0c\u5efa\u8bae\u5728\u96c6\u7fa4\u4e2d\u4f7f\u7528\u3002<br/>  - `global`\uff1a\u6240\u4ee5\u66f4\u65b0\u64cd\u4f5c\u90fd\u88ab\u5168\u5c40\u7684\u9501\u4fdd\u62a4\uff0c\u4ec5\u5efa\u8bae\u5728\u8d85\u5927\u89c4\u6a21\u96c6\u7fa4\u4e2d\u4f7f\u7528\u3002","enum":["key","tab","global"],"type":"string"},"trie_compaction":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u4e3b\u9898\u8868\u538b\u7f29\u5b58\u50a8\u3002<br/>\u542f\u7528\u5b83\u4f1a\u663e\u7740\u63d0\u9ad8\u901a\u914d\u7b26\u4e3b\u9898\u8ba2\u9605\u7387\uff0c\u5982\u679c\u901a\u914d\u7b26\u4e3b\u9898\u5177\u6709\u552f\u4e00\u524d\u7f00\uff0c\u4f8b\u5982\uff1a'sensor/{{id}}/+/'\uff0c\u5176\u4e2d\u6bcf\u4e2a\u8ba2\u9605\u8005\u7684 ID \u662f\u552f\u4e00\u7684\u3002<br/>\u5982\u679c\u6d88\u606f\u4e3b\u8981\u53d1\u5e03\u5230\u5177\u6709\u5927\u91cf\u7ea7\u522b\u7684\u4e3b\u9898\uff0c\u5219\u4e3b\u9898\u5339\u914d\u6027\u80fd\uff08\u53d1\u5e03\u65f6\uff09\u53ef\u80fd\u4f1a\u964d\u4f4e\u3002<br/><br/>\u6ce8\u610f\uff1a\u8fd9\u662f\u4e00\u4e2a\u96c6\u7fa4\u8303\u56f4\u7684\u914d\u7f6e\u3002 \u5b83\u8981\u6c42\u5728\u66f4\u6539\u4e4b\u524d\u505c\u6b62\u6240\u6709\u8282\u70b9\u3002","type":"boolean"}},"type":"object"},"emqx_mgmt_api_topics.topic":{"required":["node","topic"],"properties":{"topic":{"description":"Topic Name","type":"string"},"node":{"description":"Node","type":"string"}},"type":"object"},"emqx_rule_api_schema.ctx_connected":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["client_connected"],"type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"mountpoint":{"description":"\u6302\u8f7d\u70b9","type":"string"},"peername":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"sockname":{"description":"\u672c\u5730\u76d1\u542c\u7684 IP \u5730\u5740\u548c\u7aef\u53e3","type":"string"},"proto_name":{"description":"\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u534f\u8bae\u7248\u672c","type":"string"},"keepalive":{"description":"\u4fdd\u6301\u8fde\u63a5","type":"integer"},"clean_start":{"default":true,"description":"\u6e05\u9664\u4f1a\u8bdd","type":"boolean"},"expiry_interval":{"description":"\u5230\u671f\u95f4\u9694","type":"integer"},"is_bridge":{"default":false,"description":"\u662f\u5426\u6865\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5b8c\u6210\u65f6\u7684\u65f6\u523b","type":"integer"}},"type":"object"},"listeners.listener_id_status":{"required":["bind","enable","name","type","id"],"properties":{"id":{"description":"Listener id","example":"tcp:demo","type":"string"},"type":{"description":"Listener type","enum":["tcp","ssl","ws","wss","quic"],"type":"string"},"name":{"description":"Listener name","type":"string"},"enable":{"description":"Listener enable","type":"boolean"},"number":{"description":"ListenerId counter","minimum":1,"type":"integer"},"bind":{"description":"Listener bind addr","example":"127.0.0.1:80","type":"string"},"acceptors":{"description":"ListenerId acceptors","minimum":1,"type":"integer"},"status":{"$ref":"#/components/schemas/listeners.status"},"node_status":{"items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"emqx_dashboard_monitor_api.sampler_current":{"properties":{"dropped_msg_rate":{"description":"Dropped messages per 10 seconds","type":"integer"},"received_msg_rate":{"description":"Dropped messages per 10 seconds","type":"integer"},"sent_msg_rate":{"description":"Sent messages per 10 seconds","type":"integer"},"subscriptions":{"description":"Subscriptions at the time of sampling. Can only represent the approximate state","type":"integer"},"topics":{"description":"Count topics at the time of sampling. Can only represent the approximate state","type":"integer"},"connections":{"description":"Connections at the time of sampling. Can only represent the approximate state","type":"integer"}},"type":"object"},"emqx_telemetry_api.telemetry":{"properties":{"emqx_version":{"description":"\u83b7\u53d6 emqx \u7248\u672c","example":"5.0.0-beta.3-32d1547c","type":"string"},"license":{"description":"\u83b7\u53d6 license \u4fe1\u606f","example":{"edition":"opensource"},"type":"object"},"os_name":{"description":"\u83b7\u53d6\u64cd\u4f5c\u7cfb\u7edf\u540d\u79f0","example":"Linux","type":"string"},"os_version":{"description":"\u83b7\u53d6\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c","example":"20.04","type":"string"},"otp_version":{"description":"\u83b7\u53d6 OTP \u7248\u672c","example":"24","type":"string"},"up_time":{"description":"\u83b7\u53d6\u8fd0\u884c\u65f6\u95f4","example":20220113,"type":"integer"},"uuid":{"description":"\u83b7\u53d6 UUID","example":"AAAAAAAA-BBBB-CCCC-2022-DDDDEEEEFFF","type":"string"},"nodes_uuid":{"description":"\u83b7\u53d6\u8282\u70b9 UUID","example":["AAAAAAAA-BBBB-CCCC-2022-DDDDEEEEFFF","ZZZZZZZZ-CCCC-BBBB-2022-DDDDEEEEFFF"],"items":{"type":"string"},"type":"array"},"active_plugins":{"description":"\u83b7\u53d6\u6d3b\u8dc3\u63d2\u4ef6","example":["Plugin A","Plugin B"],"items":{"type":"string"},"type":"array"},"active_modules":{"description":"\u83b7\u53d6\u6d3b\u8dc3\u6a21\u5757","example":["Module A","Module B"],"items":{"type":"string"},"type":"array"},"num_clients":{"description":"\u83b7\u53d6\u5ba2\u6237\u7aef\u6570\u91cf","example":20220113,"type":"integer"},"messages_received":{"description":"\u83b7\u53d6\u63a5\u6536\u5230\u7684\u6d88\u606f\u6570\u91cf","example":2022,"type":"integer"},"messages_sent":{"description":"\u83b7\u53d6\u53d1\u9001\u7684\u6d88\u606f\u6570\u91cf","example":2022,"type":"integer"}},"type":"object"},"listeners.node_status":{"properties":{"node":{"description":"Node name","example":"emqx@127.0.0.1","type":"string"},"status":{"$ref":"#/components/schemas/listeners.status"}},"type":"object"},"emqx_mgmt_api_clients.client":{"properties":{"awaiting_rel_cnt":{"description":"v4 api name [awaiting_rel] Number of awaiting PUBREC packet","type":"integer"},"awaiting_rel_max":{"description":"v4 api name [max_awaiting_rel]. Maximum allowed number of awaiting PUBREC packet","type":"integer"},"clean_start":{"description":"Indicate whether the client is using a brand new session","type":"boolean"},"clientid":{"description":"Client identifier","type":"string"},"connected":{"description":"Whether the client is connected","type":"boolean"},"connected_at":{"description":"Client connection time, rfc3339 or timestamp(millisecond)","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"created_at":{"description":"Session creation time, rfc3339 or timestamp(millisecond)","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"Client offline time. It's Only valid and returned when connected is false, rfc3339 or timestamp(millisecond)","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"expiry_interval":{"description":"Session expiration interval, with the unit of second","type":"integer"},"heap_size":{"description":"Process heap size with the unit of byte","type":"integer"},"inflight_cnt":{"description":"Current length of inflight","type":"integer"},"inflight_max":{"description":"v4 api name [max_inflight]. Maximum length of inflight","type":"integer"},"ip_address":{"description":"Client's IP address","type":"string"},"is_bridge":{"description":"Indicates whether the client is connectedvia bridge","type":"boolean"},"keepalive":{"description":"keepalive time, with the unit of second","type":"integer"},"mailbox_len":{"description":"Process mailbox size","type":"integer"},"mqueue_dropped":{"description":"Number of messages dropped by the message queue due to exceeding the length","type":"integer"},"mqueue_len":{"description":"Current length of message queue","type":"integer"},"mqueue_max":{"description":"v4 api name [max_mqueue]. Maximum length of message queue","type":"integer"},"node":{"description":"Name of the node to which the client is connected","type":"string"},"port":{"description":"Client's port","type":"integer"},"proto_name":{"description":"Client protocol name","type":"string"},"proto_ver":{"description":"Protocol version used by the client","type":"integer"},"recv_cnt":{"description":"Number of TCP packets received","type":"integer"},"recv_msg":{"description":"Number of PUBLISH packets received","type":"integer"},"recv_msg.dropped":{"description":"Number of dropped PUBLISH packets","type":"integer"},"recv_msg.dropped.await_pubrel_timeout":{"description":"Number of dropped PUBLISH packets due to expired","type":"integer"},"recv_msg.qos0":{"description":"Number of PUBLISH QoS0 packets received","type":"integer"},"recv_msg.qos1":{"description":"Number of PUBLISH QoS1 packets received","type":"integer"},"recv_msg.qos2":{"description":"Number of PUBLISH QoS2 packets received","type":"integer"},"recv_oct":{"description":"Number of bytes received","type":"integer"},"recv_pkt":{"description":"Number of MQTT packets received","type":"integer"},"reductions":{"description":"Erlang reduction","type":"integer"},"send_cnt":{"description":"Number of TCP packets sent","type":"integer"},"send_msg":{"description":"Number of PUBLISH packets sent","type":"integer"},"send_msg.dropped":{"description":"Number of dropped PUBLISH packets","type":"integer"},"send_msg.dropped.expired":{"description":"Number of dropped PUBLISH packets due to expired","type":"integer"},"send_msg.dropped.queue_full":{"description":"Number of dropped PUBLISH packets due to queue full","type":"integer"},"send_msg.dropped.too_large":{"description":"Number of dropped PUBLISH packets due to packet length too large","type":"integer"},"send_msg.qos0":{"description":"Number of PUBLISH QoS0 packets sent","type":"integer"},"send_msg.qos1":{"description":"Number of PUBLISH QoS1 packets sent","type":"integer"},"send_msg.qos2":{"description":"Number of PUBLISH QoS2 packets sent","type":"integer"},"send_oct":{"description":"Number of bytes sent","type":"integer"},"send_pkt":{"description":"Number of MQTT packets sent","type":"integer"},"subscriptions_cnt":{"description":"Number of subscriptions established by this client.","type":"integer"},"subscriptions_max":{"description":"v4 api name [max_subscriptions] Maximum number of subscriptions allowed by this client","type":"integer"},"username":{"description":"User name of client when connecting","type":"string"},"mountpoint":{"description":"Topic mountpoint","type":"string"},"zone":{"description":"Indicate the configuration group used by the client","type":"string"}},"type":"object"},"bridge_mqtt.get":{"required":["server"],"properties":{"status":{"description":"Bridge \u7684\u8fde\u63a5\u72b6\u6001<br/><br/>- <code>connecting</code>: \u542f\u52a8\u65f6\u7684\u521d\u59cb\u72b6\u6001\u3002<br/><br/>- <code>connected</code>: \u6865\u63a5\u9a71\u52a8\u5065\u5eb7\u68c0\u67e5\u6b63\u5e38\u3002<br/><br/>- <code>disconnected</code>: \u5f53\u6865\u63a5\u65e0\u6cd5\u901a\u8fc7\u5065\u5eb7\u68c0\u67e5\u3002<br/><br/>- <code>stopped</code>: \u6865\u63a5\u5904\u4e8e\u505c\u7528\u72b6\u6001\u3002<br/><br/>- <code>inconsistent</code>: \u96c6\u7fa4\u4e2d\u6709\u5404\u8282\u70b9\u6c47\u62a5\u7684\u72b6\u6001\u4e0d\u4e00\u81f4\u3002","enum":["connected","disconnected","connecting","inconsistent"],"type":"string"},"node_status":{"description":"\u8282\u70b9\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/bridge.node_status"},"type":"array"},"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_mqtt.creation_opts"},"mode":{"default":"cluster_shareload","description":"MQTT \u6865\u7684\u6a21\u5f0f\u3002 <br/><br/>- cluster_shareload\uff1a\u5728 emqx \u96c6\u7fa4\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u521b\u5efa\u4e00\u4e2a MQTT \u8fde\u63a5\u3002<br/><br/>\u5728\u201ccluster_shareload\u201d\u6a21\u5f0f\u4e0b\uff0c\u6765\u81ea\u8fdc\u7a0b\u4ee3\u7406\u7684\u4f20\u5165\u8d1f\u8f7d\u901a\u8fc7\u5171\u4eab\u8ba2\u9605\u7684\u65b9\u5f0f\u63a5\u6536\u3002<br/><br/>\u8bf7\u6ce8\u610f\uff0c<code>clientid</code> \u4ee5\u8282\u70b9\u540d\u79f0\u4e3a\u540e\u7f00\uff0c\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684 <code> clientid</code> \u51b2\u7a81\u3002<br/>\u800c\u4e14\u5bf9\u4e8e\u5165\u53e3\u8fde\u63a5\u7684 <code>remote.topic</code>\uff0c\u6211\u4eec\u53ea\u80fd\u4f7f\u7528\u5171\u4eab\u8ba2\u9605\u4e3b\u9898\u8fc7\u6ee4\u5668\u3002","enum":["cluster_shareload"],"type":"string"},"server":{"description":"\u8fdc\u7a0b MQTT Broker\u7684\u4e3b\u673a\u548c\u7aef\u53e3\u3002","type":"string"},"clientid_prefix":{"description":"\u53ef\u9009\u7684\u524d\u7f00\uff0c\u7528\u4e8e\u5728\u51fa\u53e3\u7f51\u6865\u4f7f\u7528\u7684clientid\u524d\u52a0\u4e0a\u524d\u7f00\u3002","type":"string"},"reconnect_interval":{"deprecated":true,"type":"string"},"proto_ver":{"default":"v4","description":"MQTT \u534f\u8bae\u7248\u672c","enum":["v3","v4","v5"],"type":"string"},"bridge_mode":{"default":false,"description":"\u662f\u5426\u542f\u7528 Bridge Mode\u3002<br/>\u6ce8\u610f\uff1a\u6b64\u8bbe\u7f6e\u53ea\u9488\u5bf9 MQTT \u534f\u8bae\u7248\u672c < 5.0 \u6709\u6548\uff0c\u5e76\u4e14\u9700\u8981\u8fdc\u7a0b MQTT Broker \u652f\u6301 Bridge Mode\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3a true \uff0c\u6865\u63a5\u4f1a\u544a\u8bc9\u8fdc\u7aef\u670d\u52a1\u5668\u5f53\u524d\u8fde\u63a5\u662f\u4e00\u4e2a\u6865\u63a5\u800c\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5ba2\u6237\u7aef\u3002<br/>\u8fd9\u610f\u5473\u7740\u6d88\u606f\u56de\u73af\u68c0\u6d4b\u4f1a\u66f4\u52a0\u9ad8\u6548\uff0c\u5e76\u4e14\u8fdc\u7aef\u670d\u52a1\u5668\u6536\u5230\u7684\u4fdd\u7559\u6d88\u606f\u7684\u6807\u5fd7\u4f4d\u4f1a\u900f\u4f20\u7ed9\u672c\u5730\u3002","type":"boolean"},"username":{"description":"MQTT \u534f\u8bae\u7684\u7528\u6237\u540d","type":"string"},"password":{"description":"MQTT \u534f\u8bae\u7684\u5bc6\u7801","format":"password","type":"string"},"clean_start":{"default":true,"description":"\u4e0e ingress MQTT \u6865\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u91cd\u8fde\u65f6\u662f\u5426\u6e05\u9664\u8001\u7684 MQTT \u4f1a\u8bdd\u3002","type":"boolean"},"keepalive":{"default":"300s","description":"MQTT Keepalive. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"retry_interval":{"default":"15s","description":"Message retry interval. Delay for the MQTT bridge to retry sending the QoS1/QoS2 messages in case of ACK not received. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"max_inflight":{"default":32,"description":"MQTT \u534f\u8bae\u7684\u6700\u5927\u98de\u884c\uff08\u5df2\u53d1\u9001\u4f46\u672a\u786e\u8ba4\uff09\u6d88\u606f","minimum":0,"type":"integer"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"ingress":{"description":"\u5165\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u4ece\u8fdc\u7a0b MQTT Broker \u63a5\u6536\u6d88\u606f\uff0c\u7136\u540e\u5c06\u6d88\u606f\u53d1\u9001\u5230\u672c\u5730 Broker\u3002<br/><br/>        \u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.qos', 'local.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>        \u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u8f93\u5165\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u8fdc\u7a0b\u4ee3\u7406\u83b7\u53d6\u7684\u6d88\u606f\u5c06\u540c\u65f6\u88ab\u53d1\u9001\u5230 'local.topic' \u548c\u89c4\u5219\u3002","$ref":"#/components/schemas/connector-mqtt.ingress"},"egress":{"description":"\u51fa\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u5c06\u6d88\u606f\u4ece\u672c\u5730 Broker \u8f6c\u53d1\u5230\u8fdc\u7a0b Broker\u3002<br/>\u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u52a8\u4f5c\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u89c4\u5219\u8f93\u51fa\u7684\u6570\u636e\u4ee5\u53ca\u5339\u914d\u5230 'local.topic' \u7684 MQTT \u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u3002","$ref":"#/components/schemas/connector-mqtt.egress"}},"type":"object"},"authz.resource_metrics":{"properties":{"matched":{"description":"\u8bf7\u6c42\u547d\u4e2d\u6b21\u6570\u3002","type":"integer"},"success":{"description":"\u8bf7\u6c42\u6210\u529f\u6b21\u6570\u3002","type":"integer"},"failed":{"description":"\u8bf7\u6c42\u5931\u8d25\u6b21\u6570\u3002","type":"integer"},"rate":{"description":"\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_max":{"description":"\u6700\u5927\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"},"rate_last5m":{"description":"5\u5206\u949f\u5185\u5e73\u5747\u547d\u4e2d\u901f\u7387\uff0c\u5355\u4f4d\uff1a\u6b21/\u79d2\u3002","type":"number"}},"type":"object"},"emqx_mgmt_api_subscriptions.subscription":{"properties":{"node":{"description":"Access type","type":"string"},"topic":{"description":"Topic name","type":"string"},"clientid":{"description":"Client identifier","type":"string"},"qos":{"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"nl":{"description":"No Local","type":"integer"},"rap":{"description":"Retain as Published","type":"integer"},"rh":{"description":"Retain Handling","type":"integer"}},"type":"object"},"emqx_conf_schema.cluster_mcast":{"properties":{"addr":{"default":"239.192.0.1","description":"\u6307\u5b9a\u591a\u64ad IPv4 \u5730\u5740\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"string"},"ports":{"default":[4369,4370],"description":"\u6307\u5b9a\u591a\u64ad\u7aef\u53e3\u3002\u5982\u6709\u591a\u4e2a\u7aef\u53e3\u4f7f\u7528\u9017\u53f7 , \u5206\u9694\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","items":{"type":"integer"},"readOnly":true,"type":"array"},"iface":{"default":"0.0.0.0","description":"\u6307\u5b9a\u8282\u70b9\u53d1\u73b0\u670d\u52a1\u9700\u8981\u7ed1\u5b9a\u5230\u672c\u5730 IP \u5730\u5740\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"string"},"ttl":{"default":255,"description":"\u6307\u5b9a\u591a\u64ad\u7684 Time-To-Live \u503c\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","maximum":255,"minimum":0,"readOnly":true,"type":"integer"},"loop":{"default":true,"description":"\u8bbe\u7f6e\u591a\u64ad\u7684\u62a5\u6587\u662f\u5426\u6295\u9012\u5230\u672c\u5730\u56de\u73af\u5730\u5740\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","readOnly":true,"type":"boolean"},"sndbuf":{"default":"16KB","description":"\u5916\u53d1\u6570\u636e\u62a5\u7684\u5185\u6838\u7ea7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","example":"32MB","readOnly":true,"type":"string"},"recbuf":{"default":"16KB","description":"\u63a5\u6536\u6570\u636e\u62a5\u7684\u5185\u6838\u7ea7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","example":"32MB","readOnly":true,"type":"string"},"buffer":{"default":"32KB","description":"\u7528\u6237\u7ea7\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002<br/>\u5f53 cluster.discovery_strategy \u4e3a mcast \u65f6\uff0c\u6b64\u914d\u7f6e\u9879\u624d\u6709\u6548\u3002","example":"32MB","readOnly":true,"type":"string"}},"type":"object"},"emqx_gateway_api_listeners.ssl_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["ssl"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"tcp_options":{"description":"TCP Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.tcp_opts"},"proxy_protocol":{"default":false,"description":"\u662f\u5426\u5f00\u542f Proxy Protocol V1/2\u3002\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u540e\u9700\u8981\u83b7\u53d6\u5ba2\u6237\u7aef\u771f\u5b9e IP \u65f6\u5e38\u7528\u5230\u8be5\u9009\u9879\u3002\u53c2\u8003\uff1ahttps://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"15s","description":"\u63a5\u6536 Proxy Protocol \u62a5\u6587\u5934\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u5728\u8d85\u65f6\u5185\u6ca1\u6709\u6536\u5230 Proxy Protocol \u5305\uff0cEMQX \u5c06\u5173\u95ed TCP \u8fde\u63a5\u3002","example":"12m","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"ssl_options":{"description":"SSL Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.listener_ssl_opts"},"status":{"description":"\u76d1\u542c\u5668\u72b6\u6001","$ref":"#/components/schemas/listeners.status"},"node_status":{"description":"\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"zone.mqtt":{"properties":{"idle_timeout":{"description":"TCP \u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5982\u679c\u5728 <code>idle_timeout</code> \u6307\u5b9a\u7684\u65f6\u95f4\u5185\u672a\u6536\u5230\u5ba2\u6237\u7aef\u7684 MQTT CONNECT \u62a5\u6587\uff0c\u5219\u8fde\u63a5\u5c06\u88ab\u65ad\u5f00\u3002<br/>\u5982\u679c\u8fde\u63a5\u5728 CONNECT \u62a5\u6587\u88ab EMQX \u63a5\u53d7\u4e4b\u540e\u7a7a\u95f2\u8d85\u8fc7\u8be5\u65f6\u957f\uff0c\u90a3\u4e48\u670d\u52a1\u8fd9\u4e2a\u8fde\u63a5\u7684 Erlang \u8fdb\u7a0b\u4f1a\u8fdb\u5165\u4f11\u7720\u4ee5\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\u3002<br/>\u6ce8\u610f\uff0c\u8be5\u914d\u7f6e\u503c\u5982\u679c\u8bbe\u7f6e\u8fc7\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u5927\u91cf\u6076\u610f\u5ba2\u6237\u7aef\u53ea\u8fde\u63a5\uff0c\u4f46\u4e0d\u53d1\u4efb\u4f55\u6570\u636e\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u88ab\u6076\u610f\u6d88\u8017\u3002","oneOf":[{"example":"12m","type":"string"},{"enum":["infinity"],"type":"string"}]},"max_packet_size":{"description":"\u5141\u8bb8\u7684\u6700\u5927 MQTT \u62a5\u6587\u5927\u5c0f\u3002","example":"32MB","type":"string"},"max_clientid_len":{"description":"\u5141\u8bb8\u7684\u6700\u5927 MQTT Client ID \u957f\u5ea6\u3002","maximum":65535,"minimum":23,"type":"integer"},"max_topic_levels":{"description":"\u5141\u8bb8\u7684\u6700\u5927\u4e3b\u9898\u5c42\u7ea7\u3002","maximum":65535,"minimum":1,"type":"integer"},"max_qos_allowed":{"description":"\u5141\u8bb8\u7684\u6700\u5927 QoS \u7b49\u7ea7\u3002","example":0,"maximum":2,"minimum":0,"type":"integer"},"max_topic_alias":{"description":"\u5141\u8bb8\u7684\u6700\u5927\u4e3b\u9898\u522b\u540d\u6570\uff0c0 \u8868\u793a\u4e0d\u652f\u6301\u4e3b\u9898\u522b\u540d\u3002","maximum":65535,"minimum":0,"type":"integer"},"retain_available":{"description":"\u662f\u5426\u542f\u7528\u5bf9 MQTT \u4fdd\u7559\u6d88\u606f\u7684\u652f\u6301\u3002","type":"boolean"},"wildcard_subscription":{"description":"\u662f\u5426\u542f\u7528\u5bf9 MQTT \u901a\u914d\u7b26\u8ba2\u9605\u7684\u652f\u6301\u3002","type":"boolean"},"shared_subscription":{"description":"\u662f\u5426\u542f\u7528\u5bf9 MQTT \u5171\u4eab\u8ba2\u9605\u7684\u652f\u6301\u3002","type":"boolean"},"exclusive_subscription":{"description":"\u662f\u5426\u542f\u7528\u5bf9 MQTT \u6392\u5b83\u8ba2\u9605\u7684\u652f\u6301\u3002","type":"boolean"},"ignore_loop_deliver":{"description":"\u662f\u5426\u4e3a MQTT v3.1.1/v3.1.0 \u5ba2\u6237\u7aef\u5ffd\u7565\u6295\u9012\u81ea\u5df1\u53d1\u5e03\u7684\u6d88\u606f\uff0c\u7c7b\u4f3c\u4e8e MQTT 5.0 \u4e2d\u7684 <code>No Local</code> \u8ba2\u9605\u9009\u9879\u3002","type":"boolean"},"strict_mode":{"description":"\u662f\u5426\u4ee5\u4e25\u683c\u6a21\u5f0f\u89e3\u6790 MQTT \u6d88\u606f\u3002<br/>\u5f53\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u4f8b\u5982\u5ba2\u6237\u7aef ID\u3001\u4e3b\u9898\u540d\u79f0\u7b49\u4e2d\u7684\u65e0\u6548 utf8 \u5b57\u7b26\u4e32\u5c06\u5bfc\u81f4\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u3002","type":"boolean"},"response_information":{"description":"\u6307\u5b9a\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u4fe1\u606f\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a \"\"\uff0c\u5219\u7981\u7528\u6b64\u529f\u80fd\u3002\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528 MQTT 5.0 \u534f\u8bae\u7684\u5ba2\u6237\u7aef\u3002","type":"string"},"server_keepalive":{"description":"EMQX \u8981\u6c42\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u4fdd\u6d3b\u65f6\u95f4\uff0c\u914d\u7f6e\u4e3a <code>disabled</code> \u8868\u793a\u5c06\u4f7f\u7528\u5ba2\u6237\u7aef\u6307\u5b9a\u7684\u4fdd\u6d3b\u65f6\u95f4\u3002\u9700\u8981\u7528\u5230 MQTT 5.0 \u4e2d\u7684 <code>Server Keep Alive</code>\uff0c\u56e0\u6b64\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528 MQTT 5.0 \u534f\u8bae\u7684\u5ba2\u6237\u7aef\u3002","oneOf":[{"enum":["disabled"],"type":"string"},{"type":"integer"}]},"keepalive_backoff":{"description":"Broker \u5224\u5b9a\u5ba2\u6237\u7aef\u4fdd\u6d3b\u8d85\u65f6\u4f7f\u7528\u7684\u9000\u907f\u4e58\u6570\u3002\u5982\u679c EMQX \u5728 <code>Keep Alive * Backoff * 2</code> \u79d2\u5185\u672a\u6536\u5230\u4efb\u4f55\u62a5\u6587\uff0cEMQX \u5c06\u5173\u95ed\u5f53\u524d\u8fde\u63a5\u3002","type":"number"},"max_subscriptions":{"description":"\u5141\u8bb8\u6bcf\u4e2a\u5ba2\u6237\u7aef\u5efa\u7acb\u7684\u6700\u5927\u8ba2\u9605\u6570\u91cf\u3002","oneOf":[{"enum":["infinity"],"type":"string"},{"minimum":1,"type":"integer"}]},"upgrade_qos":{"description":"\u6295\u9012\u6d88\u606f\u65f6\uff0c\u662f\u5426\u6839\u636e\u8ba2\u9605\u4e3b\u9898\u65f6\u7684 QoS \u7b49\u7ea7\u6765\u5f3a\u5236\u63d0\u5347\u6d3e\u53d1\u7684\u6d88\u606f\u7684 QoS \u7b49\u7ea7\u3002","type":"boolean"},"max_inflight":{"description":"\u5141\u8bb8\u5728\u5b8c\u6210\u5e94\u7b54\u524d\u540c\u65f6\u6295\u9012\u7684 QoS 1 \u548c QoS 2 \u6d88\u606f\u7684\u6700\u5927\u6570\u91cf\u3002","maximum":65535,"minimum":1,"type":"integer"},"retry_interval":{"description":"QoS 1/2 \u6d88\u606f\u7684\u91cd\u65b0\u6295\u9012\u95f4\u9694\u3002","example":"12m","type":"string"},"max_awaiting_rel":{"description":"\u6bcf\u4e2a\u53d1\u5e03\u8005\u7684\u4f1a\u8bdd\u4e2d\uff0c\u90fd\u5b58\u5728\u4e00\u4e2a\u961f\u5217\u6765\u5904\u7406\u5ba2\u6237\u7aef\u53d1\u9001\u7684 QoS 2 \u6d88\u606f\u3002\u8be5\u961f\u5217\u4f1a\u5b58\u50a8 QoS 2 \u6d88\u606f\u7684\u62a5\u6587 ID \u76f4\u5230\u6536\u5230\u5ba2\u6237\u7aef\u7684 PUBREL \u6216\u8d85\u65f6\uff0c\u8fbe\u5230\u961f\u5217\u957f\u5ea6\u7684\u9650\u5236\u540e\uff0c\u65b0\u7684 QoS 2 \u6d88\u606f\u53d1\u5e03\u4f1a\u88ab\u62d2\u7edd\uff0c\u5e76\u8fd4\u56de `147(0x93)` \u9519\u8bef\u3002","oneOf":[{"enum":["infinity"],"type":"string"},{"type":"integer"}]},"await_rel_timeout":{"description":"\u5ba2\u6237\u7aef\u53d1\u5e03 QoS 2 \u6d88\u606f\u65f6\uff0c\u670d\u52a1\u5668\u7b49\u5f85 `PUBREL` \u7684\u6700\u957f\u65f6\u5ef6\u3002\u8d85\u8fc7\u8be5\u65f6\u957f\u540e\u670d\u52a1\u5668\u4f1a\u653e\u5f03\u7b49\u5f85\uff0c\u8be5PACKET ID \u4f1a\u88ab\u91ca\u653e\uff0c\u4ece\u800c\u5141\u8bb8\u540e\u7eed\u65b0\u7684 PUBLISH \u6d88\u606f\u4f7f\u7528\u3002\u5982\u679c\u8d85\u65f6\u540e\u6536\u5230 PUBREL\uff0c\u670d\u52a1\u5668\u5c06\u4f1a\u4ea7\u751f\u4e00\u6761\u544a\u8b66\u65e5\u5fd7\u3002\u6ce8\u610f\uff0c\u5411\u8ba2\u9605\u5ba2\u6237\u7aef\u8f6c\u53d1\u6d88\u606f\u7684\u52a8\u4f5c\u53d1\u751f\u5728\u8fdb\u5165\u7b49\u5f85\u4e4b\u524d\u3002","example":"12m","type":"string"},"session_expiry_interval":{"description":"\u6307\u5b9a\u4f1a\u8bdd\u5c06\u5728\u8fde\u63a5\u65ad\u5f00\u540e\u591a\u4e45\u8fc7\u671f\uff0c\u4ec5\u9002\u7528\u4e8e\u975e MQTT 5.0 \u7684\u8fde\u63a5\u3002","example":"12m","type":"string"},"max_mqueue_len":{"description":"\u6d88\u606f\u961f\u5217\u6700\u5927\u957f\u5ea6\u3002\u6301\u4e45\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u6216\u98de\u884c\u7a97\u53e3\u5df2\u6ee1\u65f6\u6392\u961f\u7684\u6d88\u606f\u957f\u5ea6\u3002","oneOf":[{"enum":["infinity"],"type":"string"},{"minimum":0,"type":"integer"}]},"mqueue_priorities":{"description":"\u4e3b\u9898\u4f18\u5148\u7ea7\u3002\u53d6\u503c\u8303\u56f4 [1-255]<br/>\u9ed8\u8ba4\u4f18\u5148\u7ea7\u8868\u4e3a\u7a7a\uff0c\u5373\u6240\u6709\u7684\u4e3b\u9898\u4f18\u5148\u7ea7\u76f8\u540c\u3002<br/><br/>\u6ce8\uff1a\u4f18\u5148\u4e3b\u9898\u540d\u79f0\u4e2d\u4e0d\u652f\u6301\u4f7f\u7528\u9017\u53f7\u548c\u7b49\u53f7\u3002<br/>\u6ce8\uff1a\u4e0d\u5728\u6b64\u5217\u8868\u4e2d\u7684\u4e3b\u9898\uff0c\u88ab\u89c6\u4e3a\u6700\u9ad8/\u6700\u4f4e\u4f18\u5148\u7ea7\uff0c\u8fd9\u53d6\u51b3\u4e8e<code>mqtt.mqueue_default_priority</code> \u7684\u914d\u7f6e<br/><br/>\u793a\u4f8b\uff1a<br/>\u914d\u7f6e <code>\"topic/1\" > \"topic/2\"</code>:<br/><code>mqueue_priorities: {\"topic/1\": 10, \"topic/2\": 8}</code>","oneOf":[{"enum":["disabled"],"type":"string"},{"example":{},"type":"object"}]},"mqueue_default_priority":{"description":"\u9ed8\u8ba4\u7684\u4e3b\u9898\u4f18\u5148\u7ea7\uff0c\u4e0d\u5728 <code>\u4e3b\u9898\u4f18\u5148\u7ea7</code>\uff08<code>mqueue_priorities</code>\uff09 \u4e2d\u7684\u4e3b\u9898\u5c06\u4f1a\u4f7f\u7528\u8be5\u4f18\u5148\u7ea7\u3002","enum":["highest","lowest"],"type":"string"},"mqueue_store_qos0":{"description":"\u6307\u5b9a\u5728\u8fde\u63a5\u65ad\u5f00\u4f46\u4f1a\u8bdd\u4fdd\u6301\u671f\u95f4\uff0c\u662f\u5426\u9700\u8981\u5728\u6d88\u606f\u961f\u5217\u4e2d\u5b58\u50a8 QoS 0 \u6d88\u606f\u3002","type":"boolean"},"use_username_as_clientid":{"description":"\u662f\u5426\u4f7f\u7528\u7528\u6237\u540d\u4f5c\u4e3a\u5ba2\u6237\u7aef ID\u3002<br/>\u6b64\u8bbe\u7f6e\u7684\u4f5c\u7528\u65f6\u95f4\u665a\u4e8e <code>\u4f7f\u7528\u5bf9\u7aef\u8bc1\u4e66\u4f5c\u4e3a\u7528\u6237\u540d</code>\uff08<code>peer_cert_as_username</code>\uff09 \u548c <code>\u4f7f\u7528\u5bf9\u7aef\u8bc1\u4e66\u4f5c\u4e3a\u5ba2\u6237\u7aef ID</code>\uff08<code>peer_cert_as_clientid</code>\uff09\u3002","type":"boolean"},"peer_cert_as_username":{"description":"\u4f7f\u7528\u5bf9\u7aef\u8bc1\u4e66\u4e2d\u7684 CN\u3001DN \u5b57\u6bb5\u6216\u6574\u4e2a\u8bc1\u4e66\u5185\u5bb9\u6765\u4f5c\u4e3a\u7528\u6237\u540d\u3002\u4ec5\u9002\u7528\u4e8e TLS \u8fde\u63a5\u3002<br/>\u76ee\u524d\u652f\u6301\u914d\u7f6e\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a<br/>- <code>cn</code>: \u53d6\u8bc1\u4e66\u7684 CN \u5b57\u6bb5\u4f5c\u4e3a Username<br/>- <code>dn</code>: \u53d6\u8bc1\u4e66\u7684 DN \u5b57\u6bb5\u4f5c\u4e3a Username<br/>- <code>crt</code>: \u53d6 <code>DER</code> \u6216 <code>PEM</code> \u8bc1\u4e66\u7684\u5185\u5bb9\u4f5c\u4e3a Username<br/>- <code>pem</code>: \u5c06 <code>DER</code> \u8bc1\u4e66\u5185\u5bb9\u8f6c\u6362\u4e3a <code>PEM</code> \u683c\u5f0f\u540e\u4f5c\u4e3a Username<br/>- <code>md5</code>: \u53d6 <code>DER</code> \u6216 <code>PEM</code> \u8bc1\u4e66\u7684\u5185\u5bb9\u7684 MD5 \u503c\u4f5c\u4e3a Username","enum":["disabled","cn","dn","crt","pem","md5"],"type":"string"},"peer_cert_as_clientid":{"description":"\u4f7f\u7528\u5bf9\u7aef\u8bc1\u4e66\u4e2d\u7684 CN\u3001DN \u5b57\u6bb5\u6216\u6574\u4e2a\u8bc1\u4e66\u5185\u5bb9\u6765\u4f5c\u4e3a\u5ba2\u6237\u7aef ID\u3002\u4ec5\u9002\u7528\u4e8e TLS \u8fde\u63a5\u3002<br/>\u76ee\u524d\u652f\u6301\u914d\u7f6e\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a<br/>- <code>cn</code>: \u53d6\u8bc1\u4e66\u7684 CN \u5b57\u6bb5\u4f5c\u4e3a Client ID<br/>- <code>dn</code>: \u53d6\u8bc1\u4e66\u7684 DN \u5b57\u6bb5\u4f5c\u4e3a Client ID<br/>- <code>crt</code>: \u53d6 <code>DER</code> \u6216 <code>PEM</code> \u8bc1\u4e66\u7684\u5185\u5bb9\u4f5c\u4e3a Client ID<br/>- <code>pem</code>: \u5c06 <code>DER</code> \u8bc1\u4e66\u5185\u5bb9\u8f6c\u6362\u4e3a <code>PEM</code> \u683c\u5f0f\u540e\u4f5c\u4e3a Client ID<br/>- <code>md5</code>: \u53d6 <code>DER</code> \u6216 <code>PEM</code> \u8bc1\u4e66\u7684\u5185\u5bb9\u7684 MD5 \u503c\u4f5c\u4e3a Client ID","enum":["disabled","cn","dn","crt","pem","md5"],"type":"string"}},"type":"object"},"emqx_topic_metrics_api.topic_metrics":{"required":["metrics","create_time","topic"],"properties":{"topic":{"description":"\u4e3b\u9898","example":"testtopic/1","type":"string"},"create_time":{"description":"\u521b\u5efa\u65f6\u95f4\u3002\u6807\u51c6 rfc3339 \u65f6\u95f4\u683c\u5f0f\uff0c\u4f8b\u5982\uff1a2018-01-01T12:00:00Z","example":"2022-01-14T21:48:47+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"reset_time":{"description":"\u91cd\u7f6e\u65f6\u95f4\u3002\u6807\u51c6 rfc3339 \u65f6\u95f4\u683c\u5f0f\uff0c\u4f8b\u5982\uff1a2018-01-01T12:00:00Z\u3002\u5982\u679c\u4ece\u672a\u91cd\u7f6e\u5219\u4e3a\u7a7a","example":"2022-01-14T21:48:47+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"metrics":{"description":"\u76d1\u63a7\u6570\u636e","$ref":"#/components/schemas/emqx_topic_metrics_api.metrics"}},"type":"object"},"listeners.quic_required_bind":{"required":["bind","id","type"],"properties":{"type":{"description":"Listener type","enum":["quic"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"id":{"description":"Listener id","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"certfile":{"description":"\u8bc1\u4e66\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.certfile \u4ee3\u66ff\u3002","type":"string"},"keyfile":{"description":"\u79c1\u94a5\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.keyfile \u4ee3\u66ff\u3002","type":"string"},"ciphers":{"default":["TLS_AES_256_GCM_SHA384","TLS_AES_128_GCM_SHA256","TLS_CHACHA20_POLY1305_SHA256"],"description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6\uff0c<code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code><br/><br/><br/>\u6ce8\uff1aQUIC \u76d1\u542c\u5668\u4e0d\u652f\u6301 tlsv1.3 \u7684 ciphers","items":{"type":"string"},"type":"array"},"max_bytes_per_key":{"description":"\u5728\u542f\u52a8\u5bc6\u94a5\u66f4\u65b0\u4e4b\u524d\uff0c\u7528\u5355\u4e2a 1-RTT \u52a0\u5bc6\u5bc6\u94a5\u52a0\u5bc6\u7684\u6700\u5927\u5b57\u8282\u6570\u3002\u9ed8\u8ba4\u503c\uff1a274877906944","maximum":18446744073709551615,"minimum":1,"type":"integer"},"tls_server_max_send_buffer":{"description":"\u7f13\u51b2\u591a\u5c11TLS\u6570\u636e\u3002 \u9ed8\u8ba4\u503c\uff1a8192","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_window_default":{"description":"\u521d\u59cb\u6d41\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u3002 \u9ed8\u8ba4\u503c\uff1a32678","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_buffer_default":{"description":"\u6d41\u7684\u521d\u59cb\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u9ed8\u8ba4\uff1a4096","maximum":4294967295,"minimum":1,"type":"integer"},"conn_flow_control_window":{"description":"\u8fde\u63a5\u7684\u6d41\u63a7\u7a97\u53e3\u3002\u9ed8\u8ba4\uff1a16777216","maximum":4294967295,"minimum":1,"type":"integer"},"max_stateless_operations":{"description":"\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\uff0c\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u5de5\u4f5c\u8005\u4e0a\u6392\u961f\u3002\u9ed8\u8ba4\u503c\uff1a16","maximum":4294967295,"minimum":1,"type":"integer"},"initial_window_packets":{"description":"\u4e00\u4e2a\u8fde\u63a5\u7684\u521d\u59cb\u62e5\u5835\u7a97\u53e3\u7684\u5927\u5c0f\uff08\u4ee5\u5305\u4e3a\u5355\u4f4d\uff09\u3002\u9ed8\u8ba4\u503c\uff1a10","maximum":4294967295,"minimum":1,"type":"integer"},"send_idle_timeout_ms":{"description":"\u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u91cd\u7f6e\u62e5\u5835\u63a7\u5236\u3002\u9ed8\u8ba4\u503c\uff1a1000","maximum":4294967295,"minimum":1,"type":"integer"},"initial_rtt_ms":{"description":"\u521d\u59cbRTT\u4f30\u8ba1","maximum":4294967295,"minimum":1,"type":"integer"},"max_ack_delay_ms":{"description":"\u5728\u6536\u5230\u6570\u636e\u540e\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u624d\u80fd\u53d1\u9001\u4e00\u4e2aACK\u3002\u9ed8\u8ba4\u503c\uff1a25","maximum":4294967295,"minimum":1,"type":"integer"},"disconnect_timeout_ms":{"description":"\u5728\u5224\u5b9a\u8def\u5f84\u65e0\u6548\u548c\u65ad\u5f00\u8fde\u63a5\u4e4b\u524d\uff0c\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u7684ACK\u3002\u9ed8\u8ba4\uff1a16000","maximum":4294967295,"minimum":1,"type":"integer"},"idle_timeout":{"default":0,"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020\u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"idle_timeout_ms":{"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u4f18\u96c5\u5730\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020 \u8868\u793a\u7981\u7528\u8d85\u65f6","maximum":18446744073709551615,"minimum":0,"type":"integer"},"handshake_idle_timeout":{"default":"10s","description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u3002","example":"32s","type":"string"},"handshake_idle_timeout_ms":{"description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4","maximum":18446744073709551615,"minimum":1,"type":"integer"},"keep_alive_interval":{"default":0,"description":"\u53d1\u9001 PING \u5e27\u7684\u9891\u7387\uff0c\u4ee5\u4fdd\u6d3b\u8fde\u63a5. \u8bbe\u4e3a 0 \u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"keep_alive_interval_ms":{"description":"\u591a\u957f\u65f6\u95f4\u53d1\u9001\u4e00\u6b21PING\u5e27\u4ee5\u4fdd\u6d3b\u8fde\u63a5\u3002","maximum":4294967295,"minimum":0,"type":"integer"},"peer_bidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u53cc\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":1,"type":"integer"},"peer_unidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u5355\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":0,"type":"integer"},"retry_memory_limit":{"description":"\u5728\u4f7f\u7528\u65e0\u72b6\u6001\u91cd\u8bd5\u4e4b\u524d\uff0c\u53ef\u7528\u4e8e\u63e1\u624b\u8fde\u63a5\u7684\u53ef\u7528\u5185\u5b58\u7684\u767e\u5206\u6bd4\u3002\u8ba1\u7b97\u4e3a`N/65535`\u3002\u9ed8\u8ba4\u503c\uff1a65","maximum":65535,"minimum":0,"type":"integer"},"load_balancing_mode":{"description":"0: \u7981\u7528, 1: SERVER_ID_IP, 2: SERVER_ID_FIXED. \u9ed8\u8ba4: 0","maximum":65535,"minimum":0,"type":"integer"},"max_operations_per_drain":{"description":"\u6bcf\u4e2a\u8fde\u63a5\u64cd\u4f5c\u7684\u6700\u5927\u8017\u8d39\u64cd\u4f5c\u6570\u3002\u9ed8\u8ba4\uff1a16","maximum":255,"minimum":0,"type":"integer"},"send_buffering_enabled":{"description":"\u7f13\u51b2\u53d1\u9001\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4fdd\u7559\u5e94\u7528\u7f13\u51b2\u533a\uff0c\u76f4\u5230\u53d1\u9001\u6570\u636e\u88ab\u786e\u8ba4\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u542f\u7528\uff09","type":"boolean"},"pacing_enabled":{"description":"\u6709\u8282\u594f\u7684\u53d1\u9001\uff0c\u4ee5\u907f\u514d\u8def\u5f84\u4e0a\u7684\u7f13\u51b2\u533a\u8fc7\u5ea6\u586b\u5145\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"migration_enabled":{"description":"\u5f00\u542f\u5ba2\u6237\u7aef\u5730\u5740\u8fc1\u79fb\u529f\u80fd\u3002\u9700\u8981\u4e00\u4e2a\u652f\u6301\u7684\u8d1f\u8f7d\u5e73\u8861\u5668\uff0c\u6216\u8005\u6ca1\u6709\u8d1f\u8f7d\u5e73\u8861\u5668\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"datagram_receive_enabled":{"description":"\u5ba3\u4f20\u5bf9QUIC Datagram \u6269\u5c55\u7684\u652f\u6301\u3002\u4e3a\u5c06\u6765\u4fdd\u7559\u3002\u9ed8\u8ba4\u4e3a0\uff08FALSE\uff09","type":"boolean"},"server_resumption_level":{"description":"\u8fde\u63a5\u6062\u590d \u548c/\u6216 0-RTT \u670d\u52a1\u5668\u652f\u6301\u3002\u9ed8\u8ba4\u503c\uff1a0\uff08\u65e0\u6062\u590d\u529f\u80fd\uff09","maximum":255,"minimum":0,"type":"integer"},"minimum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5c0fMTU\u3002\u8fd9\u5c06\u88ab\u4f5c\u4e3a\u8d77\u59cbMTU\u4f7f\u7528\u3002\u9ed8\u8ba4\u503c\uff1a1248","maximum":65535,"minimum":1,"type":"integer"},"maximum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5927MTU\u3002\u8fd9\u5c06\u662f\u6700\u5927\u7684\u63a2\u6d4b\u503c\u3002\u9ed8\u8ba4\u503c\uff1a1500","maximum":65535,"minimum":1,"type":"integer"},"mtu_discovery_search_complete_timeout_us":{"description":"\u5982\u679c\u6ca1\u6709\u8fbe\u5230 max \uff0c\u5728\u91cd\u65b0\u5c1d\u8bd5 MTU \u63a2\u6d4b\u4e4b\u524d\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u5fae\u79d2\u3002\u9ed8\u8ba4\u503c\uff1a600000000","maximum":18446744073709551615,"minimum":0,"type":"integer"},"mtu_discovery_missing_probe_count":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a3","maximum":255,"minimum":1,"type":"integer"},"max_binding_stateless_operations":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"stateless_operation_expiration_ms":{"description":"\u540c\u4e00\u4e2a\u5bf9\u7aef\u7684\u64cd\u4f5c\u4e4b\u95f4\u7684\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002 \u9ed8\u8ba4\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"ssl_options":{"description":"QUIC \u4f20\u8f93\u5c42\u7684 TLS \u9009\u9879","$ref":"#/components/schemas/broker.listener_quic_ssl_opts"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":14567,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"}},"type":"object"},"emqx_authz_api_mnesia.username_response_data":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_username"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"},"authn-scram-builtin_db.authentication":{"required":["backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["scram"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["built_in_database"],"type":"string"},"algorithm":{"default":"sha256","description":"Hashing algorithm.","enum":["sha256","sha512"],"type":"string"},"iteration_count":{"default":4096,"description":"Iteration count.","minimum":0,"type":"integer"},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"}},"type":"object"},"bridge_mqtt.post":{"required":["server","name","type"],"properties":{"type":{"description":"Bridge \u7684\u7c7b\u578b","enum":["mqtt"],"type":"string"},"name":{"description":"Bridge \u540d\u5b57\uff0cBridge \u7684\u53ef\u8bfb\u63cf\u8ff0","type":"string"},"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_mqtt.creation_opts"},"mode":{"default":"cluster_shareload","description":"MQTT \u6865\u7684\u6a21\u5f0f\u3002 <br/><br/>- cluster_shareload\uff1a\u5728 emqx \u96c6\u7fa4\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u521b\u5efa\u4e00\u4e2a MQTT \u8fde\u63a5\u3002<br/><br/>\u5728\u201ccluster_shareload\u201d\u6a21\u5f0f\u4e0b\uff0c\u6765\u81ea\u8fdc\u7a0b\u4ee3\u7406\u7684\u4f20\u5165\u8d1f\u8f7d\u901a\u8fc7\u5171\u4eab\u8ba2\u9605\u7684\u65b9\u5f0f\u63a5\u6536\u3002<br/><br/>\u8bf7\u6ce8\u610f\uff0c<code>clientid</code> \u4ee5\u8282\u70b9\u540d\u79f0\u4e3a\u540e\u7f00\uff0c\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684 <code> clientid</code> \u51b2\u7a81\u3002<br/>\u800c\u4e14\u5bf9\u4e8e\u5165\u53e3\u8fde\u63a5\u7684 <code>remote.topic</code>\uff0c\u6211\u4eec\u53ea\u80fd\u4f7f\u7528\u5171\u4eab\u8ba2\u9605\u4e3b\u9898\u8fc7\u6ee4\u5668\u3002","enum":["cluster_shareload"],"type":"string"},"server":{"description":"\u8fdc\u7a0b MQTT Broker\u7684\u4e3b\u673a\u548c\u7aef\u53e3\u3002","type":"string"},"clientid_prefix":{"description":"\u53ef\u9009\u7684\u524d\u7f00\uff0c\u7528\u4e8e\u5728\u51fa\u53e3\u7f51\u6865\u4f7f\u7528\u7684clientid\u524d\u52a0\u4e0a\u524d\u7f00\u3002","type":"string"},"reconnect_interval":{"deprecated":true,"type":"string"},"proto_ver":{"default":"v4","description":"MQTT \u534f\u8bae\u7248\u672c","enum":["v3","v4","v5"],"type":"string"},"bridge_mode":{"default":false,"description":"\u662f\u5426\u542f\u7528 Bridge Mode\u3002<br/>\u6ce8\u610f\uff1a\u6b64\u8bbe\u7f6e\u53ea\u9488\u5bf9 MQTT \u534f\u8bae\u7248\u672c < 5.0 \u6709\u6548\uff0c\u5e76\u4e14\u9700\u8981\u8fdc\u7a0b MQTT Broker \u652f\u6301 Bridge Mode\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3a true \uff0c\u6865\u63a5\u4f1a\u544a\u8bc9\u8fdc\u7aef\u670d\u52a1\u5668\u5f53\u524d\u8fde\u63a5\u662f\u4e00\u4e2a\u6865\u63a5\u800c\u4e0d\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5ba2\u6237\u7aef\u3002<br/>\u8fd9\u610f\u5473\u7740\u6d88\u606f\u56de\u73af\u68c0\u6d4b\u4f1a\u66f4\u52a0\u9ad8\u6548\uff0c\u5e76\u4e14\u8fdc\u7aef\u670d\u52a1\u5668\u6536\u5230\u7684\u4fdd\u7559\u6d88\u606f\u7684\u6807\u5fd7\u4f4d\u4f1a\u900f\u4f20\u7ed9\u672c\u5730\u3002","type":"boolean"},"username":{"description":"MQTT \u534f\u8bae\u7684\u7528\u6237\u540d","type":"string"},"password":{"description":"MQTT \u534f\u8bae\u7684\u5bc6\u7801","format":"password","type":"string"},"clean_start":{"default":true,"description":"\u4e0e ingress MQTT \u6865\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u91cd\u8fde\u65f6\u662f\u5426\u6e05\u9664\u8001\u7684 MQTT \u4f1a\u8bdd\u3002","type":"boolean"},"keepalive":{"default":"300s","description":"MQTT Keepalive. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"retry_interval":{"default":"15s","description":"Message retry interval. Delay for the MQTT bridge to retry sending the QoS1/QoS2 messages in case of ACK not received. Time interval is a string that contains a number followed by time unit:<br/>- `ms` for milliseconds,<br/>- `s` for seconds,<br/>- `m` for minutes,<br/>- `h` for hours;<br/><br/>or combination of whereof: `1h5m0s`","type":"string"},"max_inflight":{"default":32,"description":"MQTT \u534f\u8bae\u7684\u6700\u5927\u98de\u884c\uff08\u5df2\u53d1\u9001\u4f46\u672a\u786e\u8ba4\uff09\u6d88\u606f","minimum":0,"type":"integer"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"ingress":{"description":"\u5165\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u4ece\u8fdc\u7a0b MQTT Broker \u63a5\u6536\u6d88\u606f\uff0c\u7136\u540e\u5c06\u6d88\u606f\u53d1\u9001\u5230\u672c\u5730 Broker\u3002<br/><br/>        \u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.qos', 'local.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>        \u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u8f93\u5165\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u8fdc\u7a0b\u4ee3\u7406\u83b7\u53d6\u7684\u6d88\u606f\u5c06\u540c\u65f6\u88ab\u53d1\u9001\u5230 'local.topic' \u548c\u89c4\u5219\u3002","$ref":"#/components/schemas/connector-mqtt.ingress"},"egress":{"description":"\u51fa\u53e3\u914d\u7f6e\u5b9a\u4e49\u4e86\u8be5\u6865\u63a5\u5982\u4f55\u5c06\u6d88\u606f\u4ece\u672c\u5730 Broker \u8f6c\u53d1\u5230\u8fdc\u7a0b Broker\u3002<br/>\u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\uff1a'remote.topic', 'local.qos', 'local.retain', 'local.payload'\u3002<br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u6b64\u6865\u63a5\u88ab\u7528\u4f5c\u89c4\u5219\u7684\u52a8\u4f5c\uff0c\u5e76\u4e14\u914d\u7f6e\u4e86 'local.topic'\uff0c\u5219\u4ece\u89c4\u5219\u8f93\u51fa\u7684\u6570\u636e\u4ee5\u53ca\u5339\u914d\u5230 'local.topic' \u7684 MQTT \u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u3002","$ref":"#/components/schemas/connector-mqtt.egress"}},"type":"object"},"plugins.plugin":{"required":["running_status","description","rel_apps","rel_vsn","name"],"properties":{"name":{"description":"Name-Vsn: without .tar.gz","example":"emqx_plugin_template-5.0-rc.1","type":"string"},"author":{"example":["EMQX Team"],"items":{"type":"string"},"type":"array"},"builder":{"$ref":"#/components/schemas/plugins.builder"},"built_on_otp_release":{"example":"24","type":"string"},"compatibility":{"example":{"emqx":"~>5.0"},"type":"object"},"git_commit_or_build_date":{"description":"Last git commit date by `git log -1 --pretty=format:'%cd' --date=format:'%Y-%m-%d`.<br/> If the last commit date is not available, the build date will be presented.","example":"2021-12-25","type":"string"},"functionality":{"example":["Demo"],"items":{"type":"string"},"type":"array"},"git_ref":{"example":"ddab50fafeed6b1faea70fc9ffd8c700d7e26ec1","type":"string"},"metadata_vsn":{"example":"0.1.0","type":"string"},"rel_vsn":{"description":"Plugins release version","example":"5.0-rc.1","type":"string"},"rel_apps":{"description":"Aplications in plugin.","example":["emqx_plugin_template-5.0.0","map_sets-1.1.0"],"items":{"type":"string"},"type":"array"},"repo":{"example":"https://github.com/emqx/emqx-plugin-template","type":"string"},"description":{"description":"Plugin description.","example":"This is an demo plugin description","type":"string"},"running_status":{"items":{"$ref":"#/components/schemas/plugins.running_status"},"type":"array"},"readme":{"description":"only return when `GET /plugins/{name}`.","example":"This is an demo plugin.","type":"string"}},"type":"object"},"zone.conn_congestion":{"properties":{"enable_alarm":{"description":"\u542f\u7528\u6216\u8005\u7981\u7528\u8fde\u63a5\u963b\u585e\u544a\u8b66\u529f\u80fd\u3002","type":"boolean"},"min_alarm_sustain_duration":{"description":"\u6e05\u9664\u8b66\u62a5\u524d\u7684\u6700\u77ed\u65f6\u95f4\u3002<br/>\u53ea\u6709\u5f53\u961f\u5217\u4e2d\u6ca1\u6709\u6302\u8d77\u7684\u6570\u636e\uff0c\u5e76\u4e14\u8fde\u63a5\u81f3\u5c11\u88ab\u5835\u585e\u4e86 <code>min_alarm_sustain_duration</code> \u6beb\u79d2\u65f6\uff0c<br/>\u62a5\u8b66\u624d\u4f1a\u88ab\u6e05\u9664\u3002\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u592a\u9891\u7e41\u5730\u6e05\u9664\u548c\u518d\u6b21\u53d1\u51fa\u8b66\u62a5\u3002","example":"12m","type":"string"}},"type":"object"},"emqx_authz_api_mnesia.rules_for_clientid":{"required":["clientid"],"properties":{"rules":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rule_item"},"type":"array"},"clientid":{"description":"\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":"client1","type":"string"}},"type":"object"},"emqx_rule_api_schema.ctx_pub":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["message_publish"],"type":"string"},"id":{"description":"\u6d88\u606f ID","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"emqx_gateway_api_clients.coap_client":{"properties":{"node":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7528\u6237\u540d","type":"string"},"mountpoint":{"description":"\u4e3b\u9898\u56fa\u5b9a\u524d\u7f00","type":"string"},"proto_name":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c","type":"string"},"ip_address":{"description":"\u5ba2\u6237\u7aef IP \u5730\u5740","type":"string"},"port":{"description":"\u5ba2\u6237\u7aef\u7aef\u53e3","type":"integer"},"is_bridge":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u901a\u8fc7 is_bridge \u6807\u5fd7\u8fde\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65ad\u5f00\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"connected":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u5df2\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"keepalive":{"description":"Keepalive \u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"clean_start":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u4ee5 clean_start \u7684\u6807\u5fd7\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"expiry_interval":{"description":"\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"created_at":{"description":"\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"subscriptions_cnt":{"description":"\u5ba2\u6237\u7aef\u5df2\u8ba2\u9605\u4e3b\u9898\u6570","type":"integer"},"subscriptions_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u8ba2\u9605\u7684\u6700\u5927\u4e3b\u9898\u6570","type":"integer"},"inflight_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u98de\u884c\u7a97\u53e3\u5927\u5c0f","type":"integer"},"inflight_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u98de\u884c\u7a97\u53e3\u6700\u5927\u503c","type":"integer"},"mqueue_len":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_dropped":{"description":"\u7531\u4e8e\u6d88\u606f\u961f\u5217\u8fc7\u7a0b\uff0c\u5ba2\u6237\u7aef\u6d88\u606f\u961f\u5217\u4e22\u5f03\u6d88\u606f\u6761\u6570","type":"integer"},"awaiting_rel_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u7b49\u5f85 PUBREL \u786e\u8ba4\u7684 PUBREC \u6d88\u606f\u7684\u6761\u6570","type":"integer"},"awaiting_rel_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927 PUBREC \u7b49\u5f85\u961f\u5217\u957f\u5ea6","type":"integer"},"recv_oct":{"description":"\u5df2\u63a5\u6536\u7684\u5b57\u8282\u6570","type":"integer"},"recv_cnt":{"description":"\u5df2\u63a5\u6536 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"recv_pkt":{"description":"\u5df2\u63a5\u6536\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"recv_msg":{"description":"\u5df2\u63a5\u6536\u4e0a\u884c\u7684\u6d88\u606f\u6761\u6570","type":"integer"},"send_oct":{"description":"\u5df2\u53d1\u9001\u5b57\u8282\u6570","type":"integer"},"send_cnt":{"description":"\u5df2\u53d1\u9001 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"send_pkt":{"description":"\u5df2\u53d1\u9001\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"send_msg":{"description":"\u5df2\u53d1\u9001\u4e0b\u884c\u6d88\u606f\u6570\u6761\u6570","type":"integer"},"mailbox_len":{"description":"\u8fdb\u7a0b\u90ae\u7bb1\u5927\u5c0f","type":"integer"},"heap_size":{"description":"\u8fdb\u7a0b\u5806\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1a\u5b57\u8282","type":"integer"},"reductions":{"description":"\u8fdb\u7a0b\u5df2\u6d88\u8017 Reduction \u6570","type":"integer"}},"type":"object"},"emqx_mgmt_api_clients.authz_cache":{"properties":{"access":{"description":"Access type","type":"string"},"result":{"description":"Allow or deny","type":"string"},"topic":{"description":"Topic name","type":"string"},"updated_time":{"description":"Update time","type":"integer"}},"type":"object"},"emqx_rule_api_schema.rule_test":{"required":["sql"],"properties":{"context":{"default":{},"description":"\u6d4b\u8bd5\u4e8b\u4ef6\u7684\u4e0a\u4e0b\u6587","oneOf":[{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_bridge_mqtt"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_check_authz_complete"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_connack"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_disconnected"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_connected"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_dropped"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_acked"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_delivered"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_unsub"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_sub"},{"$ref":"#/components/schemas/emqx_rule_api_schema.ctx_pub"}]},"sql":{"description":"\u6d4b\u8bd5\u7684 SQL","type":"string"}},"type":"object"},"slow_subs.slow_subs":{"properties":{"enable":{"default":false,"description":"\u5f00\u542f\u6162\u8ba2\u9605","type":"boolean"},"threshold":{"default":"500ms","description":"\u6162\u8ba2\u9605\u7edf\u8ba1\u7684\u9608\u503c","example":"32s","type":"string"},"expire_interval":{"default":"300s","description":"\u6162\u8ba2\u9605\u8bb0\u5f55\u7684\u6709\u6548\u65f6\u95f4","example":"32s","type":"string"},"top_k_num":{"default":10,"description":"\u6162\u8ba2\u9605\u7edf\u8ba1\u8868\u7684\u8bb0\u5f55\u6570\u91cf\u4e0a\u9650","minimum":1,"type":"integer"},"stats_type":{"default":"whole","description":"\u6162\u8ba2\u9605\u7684\u7edf\u8ba1\u7c7b\u578b","enum":["whole","internal","response"],"type":"string"}},"type":"object"},"emqx_rule_api_schema.ctx_dropped":{"required":["event_type"],"properties":{"event_type":{"description":"\u4e8b\u4ef6\u7c7b\u578b","enum":["message_dropped"],"type":"string"},"id":{"description":"\u6d88\u606f ID","type":"string"},"reason":{"description":"\u6d88\u606f\u88ab\u4e22\u5f03\u7684\u539f\u56e0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"","type":"string"},"payload":{"description":"\u6d88\u606f\u8d1f\u8f7d","type":"string"},"peerhost":{"description":"\u5bf9\u7b49\u5ba2\u6237\u7aef\u7684 IP \u5730\u5740","type":"string"},"topic":{"description":"\u6d88\u606f\u4e3b\u9898","type":"string"},"publish_received_at":{"description":"\u6d88\u606f\u88ab\u63a5\u53d7\u7684\u65f6\u95f4","type":"integer"},"qos":{"description":"\u6d88\u606f\u7684 QoS","example":0,"maximum":2,"minimum":0,"type":"integer"}},"type":"object"},"limiter.client_fields":{"properties":{"bytes_in":{"default":{},"description":"\u6d41\u5165\u5b57\u8282\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u662f\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6570\u636e\u6d41\u5165\u7684\u5b57\u8282\u7387\uff0c\u6bcf\u6761\u6d88\u606f\u5c06\u4f1a\u6d88\u8017\u548c\u5176\u4e8c\u8fdb\u5236\u5927\u5c0f\u7b49\u91cf\u7684\u4ee4\u724c\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.client_opts"},"message_in":{"default":{},"description":"\u6d41\u5165\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6d88\u606f\u6d41\u5165\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.client_opts"},"connection":{"default":{},"description":"\u8fde\u63a5\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u8fde\u63a5\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u8fde\u63a5\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.client_opts"},"message_routing":{"default":{},"description":"\u6d88\u606f\u6d3e\u53d1\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u5185\u7684\u6d88\u606f\u6d3e\u53d1\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u63a8\u9001\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.client_opts"},"internal":{"default":{},"description":"EMQX \u5185\u90e8\u529f\u80fd\u6240\u7528\u9650\u5236\u5668\u3002","$ref":"#/components/schemas/limiter.client_opts"}},"type":"object"},"limiter.limiter":{"properties":{"bytes_in":{"default":{},"description":"\u6d41\u5165\u5b57\u8282\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u662f\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6570\u636e\u6d41\u5165\u7684\u5b57\u8282\u7387\uff0c\u6bcf\u6761\u6d88\u606f\u5c06\u4f1a\u6d88\u8017\u548c\u5176\u4e8c\u8fdb\u5236\u5927\u5c0f\u7b49\u91cf\u7684\u4ee4\u724c\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.node_opts"},"message_in":{"default":{},"description":"\u6d41\u5165\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u6d88\u606f\u6d41\u5165\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u4f1a\u8bdd\u5c06\u4f1a\u88ab\u9650\u901f\u751a\u81f3\u88ab\u5f3a\u5236\u6302\u8d77\u4e00\u5c0f\u6bb5\u65f6\u95f4","$ref":"#/components/schemas/limiter.node_opts"},"connection":{"default":{},"description":"\u8fde\u63a5\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u4e0a\u7684\u8fde\u63a5\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u8fde\u63a5\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.node_opts"},"message_routing":{"default":{},"description":"\u6d88\u606f\u6d3e\u53d1\u901f\u7387\u63a7\u5236\u5668\u3002<br/>\u8fd9\u4e2a\u7528\u6765\u63a7\u5236\u5f53\u524d\u8282\u70b9\u5185\u7684\u6d88\u606f\u6d3e\u53d1\u901f\u7387\uff0c\u5f53\u8fbe\u5230\u6700\u5927\u901f\u7387\u540e\uff0c\u65b0\u7684\u63a8\u9001\u5c06\u4f1a\u88ab\u62d2\u7edd","$ref":"#/components/schemas/limiter.node_opts"},"internal":{"default":{},"description":"EMQX \u5185\u90e8\u529f\u80fd\u6240\u7528\u9650\u5236\u5668\u3002","$ref":"#/components/schemas/limiter.node_opts"},"client":{"default":{"bytes_in":{},"connection":{},"internal":{},"message_in":{},"message_routing":{}},"description":"\u5bf9\u6876\u7684\u6bcf\u4e2a\u4f7f\u7528\u8005\u7684\u901f\u7387\u63a7\u5236\u8bbe\u7f6e","$ref":"#/components/schemas/limiter.client_fields"}},"type":"object"},"broker.ws_opts":{"properties":{"mqtt_path":{"default":"/mqtt","description":"WebSocket \u7684 MQTT \u534f\u8bae\u8def\u5f84\u3002\u56e0\u6b64\uff0cEMQX Broker\u7684WebSocket\u5730\u5740\u4e3a\uff1a<br/><code>ws://{ip}:{port}/mqtt</code>","type":"string"},"mqtt_piggyback":{"default":"multiple","description":"WebSocket\u6d88\u606f\u662f\u5426\u5141\u8bb8\u5305\u542b\u591a\u4e2a MQTT \u6570\u636e\u5305\u3002","enum":["single","multiple"],"type":"string"},"compress":{"default":false,"description":"\u5982\u679c <code>true</code>\uff0c\u5219\u4f7f\u7528<code>zlib</code> \u538b\u7f29 WebSocket \u6d88\u606f<br/><br/><code>deflate_opts</code> \u4e0b\u7684\u914d\u7f6e\u9879\u5c5e\u4e8e\u538b\u7f29\u76f8\u5173\u53c2\u6570\u914d\u7f6e\u3002","type":"boolean"},"idle_timeout":{"default":"7200s","description":"\u5173\u95ed\u5728\u6b64\u95f4\u9694\u5185\u672a\u53d1\u9001 MQTT CONNECT \u6d88\u606f\u7684\u5ba2\u6237\u7aef\u7684\u4f20\u8f93\u5c42\u8fde\u63a5\u3002","example":"12m","type":"string"},"max_frame_size":{"default":"infinity","description":"\u5355\u4e2a MQTT \u6570\u636e\u5305\u7684\u6700\u5927\u957f\u5ea6\u3002","oneOf":[{"type":"integer"},{"enum":["infinity"],"type":"string"}]},"fail_if_no_subprotocol":{"default":true,"description":"\u5982\u679c<code>true</code>\uff0c\u5f53\u5ba2\u6237\u7aef\u672a\u643a\u5e26<code>Sec WebSocket Protocol</code>\u5b57\u6bb5\u65f6\uff0c\u670d\u52a1\u5668\u5c06\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u3002<br/><br/>\u6ce8\u610f\uff1a\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9700\u8981\u7981\u7528\u6b64\u9a8c\u8bc1\u3002","type":"boolean"},"supported_subprotocols":{"default":"mqtt, mqtt-v3, mqtt-v3.1.1, mqtt-v5","description":"\u9017\u53f7\u5206\u9694\u7684 subprotocols \u652f\u6301\u5217\u8868\u3002","example":"item1,item2","type":"string"},"check_origin_enable":{"default":false,"description":"\u5982\u679c<code>true</code>\uff0c<code>origin</code>HTTP \u5934\u5c06\u6839\u636e<code>check_origins</code>\u53c2\u6570\u4e2d\u914d\u7f6e\u7684\u5141\u8bb8\u6765\u6e90\u5217\u8868\u8fdb\u884c\u9a8c\u8bc1\u3002","type":"boolean"},"allow_origin_absence":{"default":true,"description":"If <code>false</code> and <code>check_origin_enable</code> is <code>true</code>, the server will reject requests that don't have <code>origin</code> HTTP header.","type":"boolean"},"check_origins":{"default":"http://localhost:18083, http://127.0.0.1:18083","description":"\u5141\u8bb8\u7684 origins \u5217\u8868","example":"item1,item2","type":"string"},"proxy_address_header":{"default":"x-forwarded-for","description":"HTTP \u5934\uff0c\u7528\u4e8e\u4f20\u9012\u6709\u5173\u5ba2\u6237\u7aef IP \u5730\u5740\u7684\u4fe1\u606f\u3002<br/>\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728\u8d1f\u8f7d\u5e73\u8861\u5668\u540e\u9762\u65f6\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\u3002","type":"string"},"proxy_port_header":{"default":"x-forwarded-port","description":"HTTP \u5934\uff0c\u7528\u4e8e\u4f20\u9012\u6709\u5173\u5ba2\u6237\u7aef\u7aef\u53e3\u7684\u4fe1\u606f\u3002\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728\u8d1f\u8f7d\u5e73\u8861\u5668\u540e\u9762\u65f6\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\u3002","type":"string"},"deflate_opts":{"$ref":"#/components/schemas/broker.deflate_opts"}},"type":"object"},"dashboard.https":{"required":["bind","enable"],"properties":{"enable":{"default":false,"description":"\u5ffd\u7565\u6216\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":18084,"description":"\u76d1\u542c\u5730\u5740\u548c\u7aef\u53e3\uff0c\u70ed\u66f4\u65b0\u6b64\u914d\u7f6e\u65f6\uff0c\u4f1a\u91cd\u542f Dashboard \u670d\u52a1\u3002","example":"0.0.0.0:18084","oneOf":[{"example":"127.0.0.1:80","type":"string"},{"minimum":0,"type":"integer"}]},"num_acceptors":{"default":2,"description":"TCP\u534f\u8bae\u7684Socket acceptor\u6c60\u5927\u5c0f, \u9ed8\u8ba4\u8bbe\u7f6e\u5728\u7ebf\u7684\u8c03\u5ea6\u5668\u6570\u91cf\uff08\u901a\u5e38\u4e3a CPU \u6838\u6570\uff09","type":"integer"},"max_connections":{"default":512,"description":"\u540c\u65f6\u5904\u7406\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"backlog":{"default":1024,"description":"\u6392\u961f\u7b49\u5f85\u8fde\u63a5\u7684\u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002","type":"integer"},"send_timeout":{"default":"10s","description":"Socket\u53d1\u9001\u8d85\u65f6\u65f6\u95f4\u3002","example":"12m","type":"string"},"inet6":{"default":false,"description":"\u542f\u7528IPv6\uff0c \u5982\u679c\u673a\u5668\u4e0d\u652f\u6301IPv6\uff0c\u8bf7\u5173\u95ed\u6b64\u9009\u9879\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4 Dashboard \u65e0\u6cd5\u4f7f\u7528\u3002","type":"boolean"},"ipv6_v6only":{"default":false,"description":"\u5f53\u5f00\u542f inet6 \u529f\u80fd\u7684\u540c\u65f6\u7981\u7528 IPv4-to-IPv6 \u6620\u5c04\u3002\u8be5\u914d\u7f6e\u4ec5\u5728 inet6 \u529f\u80fd\u5f00\u542f\u65f6\u6709\u6548\u3002","type":"boolean"},"proxy_header":{"default":false,"description":"\u5f00\u542f\u5bf9  `HAProxy` \u7684\u652f\u6301\uff0c\u6ce8\u610f\uff1a\u4e00\u65e6\u5f00\u542f\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u5c31\u65e0\u6cd5\u518d\u5904\u7406\u666e\u901a\u7684 HTTP \u8bf7\u6c42\u4e86\u3002","type":"boolean"},"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"}},"type":"object"},"gateway.exproto_grpc_server":{"required":["bind"],"properties":{"bind":{"description":"\u670d\u52a1\u76d1\u542c\u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"ssl_options":{"description":"\u670d\u52a1 SSL \u914d\u7f6e\u3002","$ref":"#/components/schemas/gateway.ssl_server_opts"}},"type":"object"},"trace.log_file_detail":{"properties":{"node":{"description":"Node name","example":"emqx@127.0.0.1","type":"string"},"size":{"description":"file size","type":"integer"},"mtime":{"description":"the modification and last access times of a file","type":"integer"}},"type":"object"},"emqx_conf_schema.log_rotation":{"properties":{"enable":{"default":true,"description":"\u542f\u7528\u65e5\u5fd7\u8f6e\u6362\u529f\u80fd\u3002\u542f\u52a8\u540e\u751f\u6210\u65e5\u5fd7\u6587\u4ef6\u540e\u7f00\u4f1a\u52a0\u4e0a\u5bf9\u5e94\u7684\u7d22\u5f15\u6570\u5b57\uff0c\u6bd4\u5982\uff1alog/emqx.log.1\u3002<br/>\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u751f\u6210<code>*.siz/*.idx</code>\u7528\u4e8e\u8bb0\u5f55\u65e5\u5fd7\u4f4d\u7f6e\uff0c\u8bf7\u4e0d\u8981\u624b\u52a8\u4fee\u6539\u8fd9\u4e24\u4e2a\u6587\u4ef6\u3002","type":"boolean"},"count":{"default":10,"description":"\u8f6e\u6362\u7684\u6700\u5927\u65e5\u5fd7\u6587\u4ef6\u6570\u3002","maximum":2048,"minimum":1,"type":"integer"}},"type":"object"},"emqx_authz_api_schema.mongo_single":{"required":["database","server","collection","type"],"properties":{"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8bbf\u95ee\u63a7\u5236\u6570\u636e\u6e90\u3002","type":"boolean"},"type":{"default":"mongodb","description":"\u6570\u636e\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"`MongoDB` \u6388\u6743\u6570\u636e\u96c6\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"mongo_type":{"default":"single","description":"Standalone \u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 standalone \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'single'\u3002","enum":["single"],"type":"string"},"server":{"description":"\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\uff0c\u6216\u8005\u4e3b\u673a\u540d\u3002<br/><br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/><br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_authn_schema.node_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.metrics"}},"type":"object"},"connector-mqtt.ingress_local":{"properties":{"topic":{"description":"\u5411\u672c\u5730broker\u7684\u54ea\u4e2atopic\u53d1\u9001\u6d88\u606f\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"},"qos":{"default":"${qos}","description":"\u5f85\u53d1\u9001 MQTT \u6d88\u606f\u7684 QoS\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","oneOf":[{"type":"string"},{"example":0,"maximum":2,"minimum":0,"type":"integer"}]},"retain":{"default":"${retain}","description":"\u8981\u53d1\u9001\u7684 MQTT \u6d88\u606f\u7684\u201c\u4fdd\u7559\u201d\u6807\u5fd7\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","oneOf":[{"type":"string"},{"type":"boolean"}]},"payload":{"description":"\u8981\u53d1\u9001\u7684 MQTT \u6d88\u606f\u7684\u8d1f\u8f7d\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"}},"type":"object"},"emqx_gateway_api.dtls_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["dtls"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"udp_options":{"$ref":"#/components/schemas/gateway.udp_opts"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"dtls_options":{"description":"DTLS Socket \u914d\u7f6e","$ref":"#/components/schemas/gateway.dtls_opts"}},"type":"object"},"bridge_webhook.post":{"required":["url","name","type"],"properties":{"type":{"description":"Bridge \u7c7b\u578b","enum":["webhook"],"type":"string"},"name":{"description":"Bridge \u540d\u5b57\uff0cBridge \u7684\u53ef\u8bfb\u63cf\u8ff0","type":"string"},"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_webhook.creation_opts"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"pool_type":{"default":"random","description":"\u8fde\u63a5\u6c60\u7684\u7c7b\u578b\uff0c\u53ef\u7528\u7c7b\u578b\u6709`random`, `hash`\u3002","enum":["random","hash"],"type":"string"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"url":{"description":"HTTP Bridge \u7684 URL\u3002<br/><br/>\u8def\u5f84\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u4f46\u662f host\uff0c port \u4e0d\u5141\u8bb8\u4f7f\u7528\u53d8\u91cf\u6a21\u677f\u3002<br/><br/>\u4f8b\u5982\uff0c<code> http://localhost:9901/${topic} </code> \u662f\u5141\u8bb8\u7684\uff0c<br/>\u4f46\u662f<code> http://${host}:9901/message </code><br/>\u6216 <code> http://localhost:${port}/message </code><br/>\u4e0d\u5141\u8bb8\u3002","type":"string"},"direction":{"deprecated":true,"description":"\u5df2\u5e9f\u5f03\uff0cBridge \u7684\u65b9\u5411\uff0c\u5fc5\u987b\u662f egress","enum":["egress"],"type":"string"},"local_topic":{"description":"\u53d1\u9001\u5230 'local_topic' \u7684\u6d88\u606f\u90fd\u4f1a\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002 <br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u8fd9\u4e2a Bridge \u88ab\u7528\u4f5c\u89c4\u5219\uff08EMQX \u89c4\u5219\u5f15\u64ce\uff09\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u4e5f\u914d\u7f6e\u4e86 'local_topic' \uff0c\u90a3\u4e48\u8fd9\u4e24\u90e8\u5206\u7684\u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002","type":"string"},"method":{"default":"post","description":"HTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\u3002 \u6240\u6709\u53ef\u7528\u7684\u65b9\u6cd5\u5305\u62ec\uff1apost\u3001put\u3001get\u3001delete\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","enum":["post","put","get","delete"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","content-type":"application/json","keep-alive":"timeout=5"},"description":"HTTP \u8bf7\u6c42\u7684\u6807\u5934\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","example":{},"type":"object"},"body":{"description":"HTTP \u8bf7\u6c42\u7684\u6b63\u6587\u3002<br/><br/>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u8be5\u5b57\u6bb5\uff0c\u8bf7\u6c42\u6b63\u6587\u5c06\u662f\u5305\u542b\u6240\u6709\u53ef\u7528\u5b57\u6bb5\u7684 JSON object\u3002<br/><br/>\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u6536\u5230 MQTT \u6d88\u606f\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5c06\u662f MQTT \u6d88\u606f\u7684<br/>\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1b\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u89c4\u5219\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5219\u4e3a\u89e6\u53d1\u4e8b\u4ef6\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"},"max_retries":{"default":2,"description":"HTTP \u8bf7\u6c42\u5931\u8d25\u6700\u5927\u91cd\u8bd5\u6b21\u6570","minimum":0,"type":"integer"},"request_timeout":{"default":"15s","description":"HTTP \u8bf7\u6c42\u8d85\u65f6","example":"32s","type":"string"}},"type":"object"},"authn-builtin_db.authentication":{"required":["user_id_type","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["built_in_database"],"type":"string"},"user_id_type":{"default":"username","description":"\u6307\u5b9a\u4f7f\u7528\u5ba2\u6237\u7aefID `clientid` \u8fd8\u662f\u7528\u6237\u540d `username` \u8fdb\u884c\u8ba4\u8bc1\u3002","enum":["clientid","username"],"type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash creation and verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt_rw"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"}},"type":"object"},"dashboard.user":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"},"description":{"description":"Dashboard \u7528\u6237\u63cf\u8ff0","example":"administrator","type":"string"}},"type":"object"},"emqx_gateway_api_clients.lwm2m_client":{"properties":{"endpoint_name":{"description":"LwM2M \u5ba2\u6237\u7aef Endpoint Name","type":"string"},"lifetime":{"description":"LwM2M \u5ba2\u6237\u7aef\u5fc3\u8df3\u5468\u671f","type":"integer"},"node":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u7684\u8282\u70b9\u540d\u79f0","type":"string"},"clientid":{"description":"\u5ba2\u6237\u7aef ID","type":"string"},"username":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7528\u6237\u540d","type":"string"},"mountpoint":{"description":"\u4e3b\u9898\u56fa\u5b9a\u524d\u7f00","type":"string"},"proto_name":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u540d\u79f0","type":"string"},"proto_ver":{"description":"\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c","type":"string"},"ip_address":{"description":"\u5ba2\u6237\u7aef IP \u5730\u5740","type":"string"},"port":{"description":"\u5ba2\u6237\u7aef\u7aef\u53e3","type":"integer"},"is_bridge":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u901a\u8fc7 is_bridge \u6807\u5fd7\u8fde\u63a5","type":"boolean"},"connected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"disconnected_at":{"description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u65ad\u5f00\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"connected":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u5df2\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"keepalive":{"description":"Keepalive \u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"clean_start":{"description":"\u6807\u8bc6\u5ba2\u6237\u7aef\u662f\u5426\u4ee5 clean_start \u7684\u6807\u5fd7\u8fde\u63a5\u5230\u7f51\u5173","type":"boolean"},"expiry_interval":{"description":"\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2","type":"integer"},"created_at":{"description":"\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4","oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"subscriptions_cnt":{"description":"\u5ba2\u6237\u7aef\u5df2\u8ba2\u9605\u4e3b\u9898\u6570","type":"integer"},"subscriptions_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u8ba2\u9605\u7684\u6700\u5927\u4e3b\u9898\u6570","type":"integer"},"inflight_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u98de\u884c\u7a97\u53e3\u5927\u5c0f","type":"integer"},"inflight_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u98de\u884c\u7a97\u53e3\u6700\u5927\u503c","type":"integer"},"mqueue_len":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927\u6d88\u606f\u961f\u5217\u957f\u5ea6","type":"integer"},"mqueue_dropped":{"description":"\u7531\u4e8e\u6d88\u606f\u961f\u5217\u8fc7\u7a0b\uff0c\u5ba2\u6237\u7aef\u6d88\u606f\u961f\u5217\u4e22\u5f03\u6d88\u606f\u6761\u6570","type":"integer"},"awaiting_rel_cnt":{"description":"\u5ba2\u6237\u7aef\u5f53\u524d\u7b49\u5f85 PUBREL \u786e\u8ba4\u7684 PUBREC \u6d88\u606f\u7684\u6761\u6570","type":"integer"},"awaiting_rel_max":{"description":"\u5ba2\u6237\u7aef\u5141\u8bb8\u7684\u6700\u5927 PUBREC \u7b49\u5f85\u961f\u5217\u957f\u5ea6","type":"integer"},"recv_oct":{"description":"\u5df2\u63a5\u6536\u7684\u5b57\u8282\u6570","type":"integer"},"recv_cnt":{"description":"\u5df2\u63a5\u6536 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"recv_pkt":{"description":"\u5df2\u63a5\u6536\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"recv_msg":{"description":"\u5df2\u63a5\u6536\u4e0a\u884c\u7684\u6d88\u606f\u6761\u6570","type":"integer"},"send_oct":{"description":"\u5df2\u53d1\u9001\u5b57\u8282\u6570","type":"integer"},"send_cnt":{"description":"\u5df2\u53d1\u9001 Socket \u62a5\u6587\u6b21\u6570","type":"integer"},"send_pkt":{"description":"\u5df2\u53d1\u9001\u5e94\u7528\u5c42\u534f\u8bae\u63a7\u5236\u62a5\u6587\u6570","type":"integer"},"send_msg":{"description":"\u5df2\u53d1\u9001\u4e0b\u884c\u6d88\u606f\u6570\u6761\u6570","type":"integer"},"mailbox_len":{"description":"\u8fdb\u7a0b\u90ae\u7bb1\u5927\u5c0f","type":"integer"},"heap_size":{"description":"\u8fdb\u7a0b\u5806\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1a\u5b57\u8282","type":"integer"},"reductions":{"description":"\u8fdb\u7a0b\u5df2\u6d88\u8017 Reduction \u6570","type":"integer"}},"type":"object"},"bridge_webhook.put":{"required":["url"],"properties":{"enable":{"default":true,"description":"\u542f\u7528/\u7981\u7528 Bridge","type":"boolean"},"resource_opts":{"default":{},"description":"\u8d44\u6e90\u76f8\u5173\u7684\u9009\u9879\u3002","$ref":"#/components/schemas/bridge_webhook.creation_opts"},"connect_timeout":{"default":"15s","description":"\u8fde\u63a5HTTP\u670d\u52a1\u5668\u7684\u8d85\u65f6\u65f6\u95f4\u3002","example":"32s","type":"string"},"retry_interval":{"deprecated":true,"example":"12m","type":"string"},"pool_type":{"default":"random","description":"\u8fde\u63a5\u6c60\u7684\u7c7b\u578b\uff0c\u53ef\u7528\u7c7b\u578b\u6709`random`, `hash`\u3002","enum":["random","hash"],"type":"string"},"pool_size":{"default":8,"description":"\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"enable_pipelining":{"default":100,"description":"\u6b63\u6574\u6570\uff0c\u8bbe\u7f6e\u6700\u5927\u53ef\u53d1\u9001\u7684\u5f02\u6b65 HTTP \u8bf7\u6c42\u6570\u91cf\u3002\u5f53\u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u6bcf\u6b21\u53d1\u9001\u5b8c\u6210 HTTP \u8bf7\u6c42\u540e\u90fd\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u8fd4\u56de\uff0c\u518d\u7ee7\u7eed\u53d1\u9001\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002","minimum":1,"type":"integer"},"request":{"description":"\u8bbe\u7f6e HTTP \u8bf7\u6c42\u7684\u53c2\u6570\u3002","$ref":"#/components/schemas/connector-http.request"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"},"url":{"description":"HTTP Bridge \u7684 URL\u3002<br/><br/>\u8def\u5f84\u4e2d\u5141\u8bb8\u4f7f\u7528\u5e26\u53d8\u91cf\u7684\u6a21\u677f\uff0c\u4f46\u662f host\uff0c port \u4e0d\u5141\u8bb8\u4f7f\u7528\u53d8\u91cf\u6a21\u677f\u3002<br/><br/>\u4f8b\u5982\uff0c<code> http://localhost:9901/${topic} </code> \u662f\u5141\u8bb8\u7684\uff0c<br/>\u4f46\u662f<code> http://${host}:9901/message </code><br/>\u6216 <code> http://localhost:${port}/message </code><br/>\u4e0d\u5141\u8bb8\u3002","type":"string"},"direction":{"deprecated":true,"description":"\u5df2\u5e9f\u5f03\uff0cBridge \u7684\u65b9\u5411\uff0c\u5fc5\u987b\u662f egress","enum":["egress"],"type":"string"},"local_topic":{"description":"\u53d1\u9001\u5230 'local_topic' \u7684\u6d88\u606f\u90fd\u4f1a\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002 <br/><br/>\u6ce8\u610f\uff1a\u5982\u679c\u8fd9\u4e2a Bridge \u88ab\u7528\u4f5c\u89c4\u5219\uff08EMQX \u89c4\u5219\u5f15\u64ce\uff09\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u4e5f\u914d\u7f6e\u4e86 'local_topic' \uff0c\u90a3\u4e48\u8fd9\u4e24\u90e8\u5206\u7684\u6d88\u606f\u90fd\u4f1a\u88ab\u8f6c\u53d1\u5230 HTTP \u670d\u52a1\u5668\u3002","type":"string"},"method":{"default":"post","description":"HTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\u3002 \u6240\u6709\u53ef\u7528\u7684\u65b9\u6cd5\u5305\u62ec\uff1apost\u3001put\u3001get\u3001delete\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","enum":["post","put","get","delete"],"type":"string"},"headers":{"default":{"accept":"application/json","cache-control":"no-cache","connection":"keep-alive","content-type":"application/json","keep-alive":"timeout=5"},"description":"HTTP \u8bf7\u6c42\u7684\u6807\u5934\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","example":{},"type":"object"},"body":{"description":"HTTP \u8bf7\u6c42\u7684\u6b63\u6587\u3002<br/><br/>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u8be5\u5b57\u6bb5\uff0c\u8bf7\u6c42\u6b63\u6587\u5c06\u662f\u5305\u542b\u6240\u6709\u53ef\u7528\u5b57\u6bb5\u7684 JSON object\u3002<br/><br/>\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u6536\u5230 MQTT \u6d88\u606f\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5c06\u662f MQTT \u6d88\u606f\u7684<br/>\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1b\u5982\u679c\u8be5 webhook \u662f\u7531\u4e8e\u89c4\u5219\u89e6\u53d1\u7684\uff0c'\u6240\u6709\u53ef\u7528\u5b57\u6bb5' \u5219\u4e3a\u89e6\u53d1\u4e8b\u4ef6\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002<br/><br/>\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u53d8\u91cf\u7684\u6a21\u677f\u3002","type":"string"},"max_retries":{"default":2,"description":"HTTP \u8bf7\u6c42\u5931\u8d25\u6700\u5927\u91cd\u8bd5\u6b21\u6570","minimum":0,"type":"integer"},"request_timeout":{"default":"15s","description":"HTTP \u8bf7\u6c42\u8d85\u65f6","example":"32s","type":"string"}},"type":"object"},"limiter.bucket_opts":{"properties":{"rate":{"default":"infinity","description":"\u6876\u7684\u4ee4\u724c\u751f\u6210\u901f\u7387","example":"10MB","type":"string"},"capacity":{"default":"infinity","description":"\u8be5\u4ee4\u724c\u6876\u7684\u5bb9\u91cf","example":"100MB","type":"string"},"initial":{"default":"0","description":"\u6876\u4e2d\u7684\u521d\u59cb\u4ee4\u724c\u6570","example":"0MB","type":"string"}},"type":"object"},"emqx_conf_schema.node":{"required":["data_dir","cookie"],"properties":{"name":{"default":"emqx@127.0.0.1","description":"\u8282\u70b9\u540d\u3002\u683c\u5f0f\u4e3a \\<name>@\\<host>\u3002\u5176\u4e2d <host> \u53ef\u4ee5\u662f IP \u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u662f FQDN\u3002<br/>\u8be6\u89c1 http://erlang.org/doc/reference_manual/distributed.html\u3002","readOnly":true,"type":"string"},"cookie":{"description":"\u5206\u5e03\u5f0f Erlang \u96c6\u7fa4\u4f7f\u7528\u7684 cookie \u503c\u3002\u96c6\u7fa4\u95f4\u4fdd\u6301\u4e00\u81f4","readOnly":true,"type":"string"},"process_limit":{"default":2097152,"description":"Erlang\u7cfb\u7edf\u540c\u65f6\u5b58\u5728\u7684\u6700\u5927\u8fdb\u7a0b\u6570\u3002<br/>\u5b9e\u9645\u9009\u62e9\u7684\u6700\u5927\u503c\u53ef\u80fd\u6bd4\u8bbe\u7f6e\u7684\u6570\u5b57\u5927\u5f97\u591a\u3002<br/>\u53c2\u8003: https://www.erlang.org/doc/man/erl.html","maximum":134217727,"minimum":1024,"readOnly":true,"type":"integer"},"max_ports":{"default":1048576,"description":"Erlang\u7cfb\u7edf\u540c\u65f6\u5b58\u5728\u7684\u6700\u5927\u7aef\u53e3\u6570\u3002<br/>\u5b9e\u9645\u9009\u62e9\u7684\u6700\u5927\u503c\u53ef\u80fd\u6bd4\u8bbe\u7f6e\u7684\u6570\u5b57\u5927\u5f97\u591a\u3002<br/>\u53c2\u8003: https://www.erlang.org/doc/man/erl.html","maximum":134217727,"minimum":1024,"readOnly":true,"type":"integer"},"dist_buffer_size":{"default":8192,"description":"Erlang\u5206\u5e03\u5f0f\u7f13\u51b2\u533a\u7684\u7e41\u5fd9\u9608\u503c\uff0c\u5355\u4f4d\u662fKB\u3002","maximum":2097151,"minimum":1,"readOnly":true,"type":"integer"},"max_ets_tables":{"default":262144,"description":"Erlang ETS \u8868\u7684\u6700\u5927\u6570\u91cf","minimum":1,"readOnly":true,"type":"integer"},"data_dir":{"description":"\u8282\u70b9\u6570\u636e\u5b58\u653e\u76ee\u5f55\uff0c\u53ef\u80fd\u4f1a\u81ea\u52a8\u521b\u5efa\u7684\u5b50\u76ee\u5f55\u5982\u4e0b\uff1a<br/><br/>- `mnesia/<node_name>`\u3002EMQX\u7684\u5185\u7f6e\u6570\u636e\u5e93\u76ee\u5f55\u3002\u4f8b\u5982\uff0c`mnesia/emqx@127.0.0.1`\u3002<br/><br/>\u5982\u679c\u8282\u70b9\u8981\u88ab\u91cd\u65b0\u547d\u540d\uff08\u4f8b\u5982\uff0c`emqx@10.0.1.1`\uff09\u3002\u65e7\u76ee\u5f55\u5e94\u8be5\u9996\u5148\u88ab\u5220\u9664\u3002<br/><br/>- `configs`\u3002\u5728\u542f\u52a8\u65f6\u751f\u6210\u7684\u914d\u7f6e\uff0c\u4ee5\u53ca\u96c6\u7fa4/\u672c\u5730\u8986\u76d6\u7684\u914d\u7f6e\u3002<br/><br/>- `patches`: \u70ed\u8865\u4e01\u6587\u4ef6\u5c06\u88ab\u653e\u5728\u8fd9\u91cc\u3002<br/><br/>- `trace`: \u65e5\u5fd7\u8ddf\u8e2a\u6587\u4ef6\u3002<br/><br/><br/>**\u6ce8\u610f**: \u4e00\u4e2a\u6570\u636edir\u4e0d\u80fd\u88ab\u4e24\u4e2a\u6216\u66f4\u591a\u7684EMQX\u8282\u70b9\u540c\u65f6\u4f7f\u7528\u3002","readOnly":true,"type":"string"},"config_files":{"items":{"type":"string"},"readOnly":true,"type":"array"},"global_gc_interval":{"default":"15m","description":"\u7cfb\u7edf\u8c03\u4f18\u53c2\u6570\uff0c\u8bbe\u7f6e\u8282\u70b9\u8fd0\u884c\u591a\u4e45\u5f3a\u5236\u8fdb\u884c\u4e00\u6b21\u5168\u5c40\u5783\u573e\u56de\u6536\u3002\u7981\u7528\u8bbe\u7f6e\u4e3a <code>disabled</code>\u3002","readOnly":true,"oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"crash_dump_file":{"default":"log/erl_crash.dump","description":"\u8bbe\u7f6e Erlang crash_dump \u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84\u548c\u6587\u4ef6\u540d\u3002","example":"/path/to/file","readOnly":true,"type":"string"},"crash_dump_seconds":{"default":"30s","description":"\u8be5\u914d\u7f6e\u7ed9\u51fa\u4e86\u8fd0\u884c\u65f6\u7cfb\u7edf\u5141\u8bb8\u82b1\u8d39\u7684\u5199\u5165\u5d29\u6e83\u8f6c\u50a8\u7684\u79d2\u6570\u3002\u5f53\u7ed9\u5b9a\u7684\u79d2\u6570\u5df2\u7ecf\u8fc7\u53bb\uff0c\u8fd0\u884c\u65f6\u7cfb\u7edf\u5c06\u88ab\u7ec8\u6b62\u3002<br/><br/>- \u5982\u679c\u8bbe\u7f6e\u4e3a0\u79d2\uff0c\u8fd0\u884c\u65f6\u4f1a\u7acb\u5373\u7ec8\u6b62\uff0c\u4e0d\u4f1a\u5c1d\u8bd5\u5199\u5165\u5d29\u6e83\u8f6c\u50a8\u6587\u4ef6\u3002<br/><br/>- \u5982\u679c\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u6b63\u6570 S\uff0c\u8282\u70b9\u4f1a\u7b49\u5f85 S \u79d2\u6765\u5b8c\u6210\u5d29\u6e83\u8f6c\u50a8\u6587\u4ef6\uff0c\u7136\u540e\u7528SIGALRM\u4fe1\u53f7\u7ec8\u6b62\u8fd0\u884c\u65f6\u7cfb\u7edf\u3002<br/><br/>- \u5982\u679c\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8d1f\u503c\u5bfc\u81f4\u8fd0\u884c\u65f6\u7cfb\u7edf\u7684\u7ec8\u6b62\u7b49\u5f85\u65e0\u9650\u671f\u5730\u76f4\u5230\u5d29\u6e83\u8f6c\u50a8\u6587\u4ef6\u5df2\u7ecf\u5b8c\u5168\u5199\u5165\u3002","example":"1h","readOnly":true,"type":"string"},"crash_dump_bytes":{"default":"100MB","description":"\u9650\u5236\u5d29\u6e83\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5f53\u5d29\u6e83\u65f6\u8282\u70b9\u5185\u5b58\u592a\u5927\uff0c<br/>\u5982\u679c\u4e3a\u4e86\u4fdd\u5b58\u73b0\u573a\uff0c\u9700\u8981\u5168\u90e8\u5b58\u5230\u5d29\u6e83\u6587\u4ef6\u4e2d\uff0c\u6b64\u5904\u9650\u5236\u6700\u591a\u80fd\u4fdd\u5b58\u591a\u5927\u7684\u6587\u4ef6\u3002<br/>\u5982\u679c\u8d85\u8fc7\u6b64\u9650\u5236\uff0c\u5d29\u6e83\u8f6c\u50a8\u5c06\u88ab\u622a\u65ad\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a0\uff0c\u7cfb\u7edf\u4e0d\u4f1a\u5c1d\u8bd5\u5199\u5165\u5d29\u6e83\u8f6c\u50a8\u6587\u4ef6\u3002","example":"32MB","readOnly":true,"type":"string"},"dist_net_ticktime":{"default":"2m","description":"\u7cfb\u7edf\u8c03\u4f18\u53c2\u6570\uff0c\u6b64\u914d\u7f6e\u5c06\u8986\u76d6 vm.args \u6587\u4ef6\u91cc\u7684 -kernel net_ticktime \u53c2\u6570\u3002\u5f53\u4e00\u4e2a\u8282\u70b9\u6301\u7eed\u65e0\u54cd\u5e94\u591a\u4e45\u4e4b\u540e\uff0c\u8ba4\u4e3a\u5176\u5df2\u7ecf\u5b95\u673a\u5e76\u65ad\u5f00\u8fde\u63a5\u3002","example":"1h","readOnly":true,"type":"string"},"backtrace_depth":{"default":23,"description":"\u9519\u8bef\u4fe1\u606f\u4e2d\u6253\u5370\u7684\u6700\u5927\u5806\u6808\u5c42\u6570","readOnly":true,"type":"integer"},"applications":{"default":"","description":"\u5f53\u65b0EMQX \u52a0\u5165\u96c6\u7fa4\u65f6\uff0c\u5e94\u91cd\u542f\u7684Erlang\u5e94\u7528\u7a0b\u5e8f\u7684\u5217\u8868\u3002","example":"item1,item2","readOnly":true,"type":"string"},"etc_dir":{"deprecated":true,"description":"<code>etc</code> \u5b58\u653e\u76ee\u5f55","readOnly":true,"type":"string"},"cluster_call":{"readOnly":true,"$ref":"#/components/schemas/emqx_conf_schema.cluster_call"},"db_backend":{"default":"rlog","description":"\u914d\u7f6e\u540e\u7aef\u6570\u636e\u5e93\u9a71\u52a8\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>rlog</code> \u5b83\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u7684\u96c6\u7fa4\u3002<br/><code>mnesia</code> \u662f\u5907\u9009\u6570\u636e\u5e93\uff0c\u9002\u5408\u4e2d\u5c0f\u96c6\u7fa4\u3002","enum":["mnesia","rlog"],"readOnly":true,"type":"string"},"db_role":{"default":"core","description":"\u9009\u62e9\u8282\u70b9\u7684\u89d2\u8272\u3002<br/><br/><code>core</code> \u8282\u70b9\u63d0\u4f9b\u6570\u636e\u7684\u6301\u4e45\u6027\uff0c\u5e76\u8d1f\u8d23\u5199\u5165\u3002\u5efa\u8bae\u5c06\u6838\u5fc3\u8282\u70b9\u653e\u7f6e\u5728\u4e0d\u540c\u7684\u673a\u67b6\u6216\u4e0d\u540c\u7684\u53ef\u7528\u533a\u3002<br/><br/><code>repliant</code> \u8282\u70b9\u662f\u4e34\u65f6\u5de5\u4f5c\u8282\u70b9\u3002 \u4ece\u96c6\u7fa4\u4e2d\u5220\u9664\u5b83\u4eec\uff0c\u4e0d\u5f71\u54cd\u6570\u636e\u5e93\u5197\u4f59<br/><br/>\u5efa\u8bae\u590d\u5236\u8282\u70b9\u591a\u4e8e\u6838\u5fc3\u8282\u70b9\u3002<br/><br/>\u6ce8\u610f\uff1a\u8be5\u53c2\u6570\u4ec5\u5728\u8bbe\u7f6e<code>backend</code>\u65f6\u751f\u6548\u5230 <code>rlog</code>\u3002","enum":["core","replicant"],"readOnly":true,"type":"string"},"rpc_module":{"default":"gen_rpc","description":"\u96c6\u7fa4\u95f4\u63a8\u9001\u4e8b\u52a1\u65e5\u5fd7\u5230\u590d\u5236\u8282\u70b9\u4f7f\u7528\u7684\u534f\u8bae\u3002","enum":["gen_rpc","rpc"],"readOnly":true,"type":"string"},"tlog_push_mode":{"default":"async","description":"\u540c\u6b65\u6a21\u5f0f\u4e0b\uff0c\u6838\u5fc3\u8282\u70b9\u7b49\u5f85\u590d\u5236\u8282\u70b9\u7684\u786e\u8ba4\u4fe1\u606f\uff0c\u7136\u540e\u518d\u53d1\u9001\u4e0b\u4e00\u6761\u4e8b\u52a1\u65e5\u5fd7\u3002","enum":["sync","async"],"readOnly":true,"type":"string"},"default_shard_transport":{"default":"gen_rpc","description":"\u5b9a\u4e49\u7528\u4e8e\u63a8\u9001\u4e8b\u52a1\u65e5\u5fd7\u7684\u9ed8\u8ba4\u4f20\u8f93\u3002<br/><br/>\u8fd9\u53ef\u4ee5\u5728 <code>db.shard_transports</code> \u4e2d\u57fa\u4e8e\u6bcf\u4e2a\u5206\u7247\u88ab\u8986\u76d6\u3002<br/><code>gen_rpc</code> \u4f7f\u7528 <code>gen_rpc</code> \u5e93\uff0c<br/><code>distr</code> \u4f7f\u7528 Erlang \u53d1\u884c\u7248\u3002","enum":["gen_rpc","distr"],"type":"string"},"shard_transports":{"default":{},"description":"\u5141\u8bb8\u4e3a\u6bcf\u4e2a shard \u4e0b\u7684\u4e8b\u52a1\u65e5\u5fd7\u590d\u5236\u64cd\u4f5c\u7684\u4f20\u8f93\u65b9\u6cd5\u8fdb\u884c\u8c03\u4f18\u3002<br/><br/><code>gen_rpc</code> \u4f7f\u7528 <code>gen_rpc</code> \u5e93\uff0c<br/><code>distr</code> \u4f7f\u7528 Erlang \u81ea\u5e26\u7684 rpc \u5e93\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a\uff0c<br/>\u9ed8\u8ba4\u662f\u4f7f\u7528 <code>db.default_shard_transport</code> \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002","properties":{"$shard":{"enum":["gen_rpc","distr"],"type":"string"}},"type":"object"}},"type":"object"},"auto_subscribe.topic":{"required":["topic"],"properties":{"topic":{"description":"\u8ba2\u9605\u6807\u8bc6\u7b26\uff0c\u652f\u6301\u4f7f\u7528\u5360\u4f4d\u7b26\uff0c\u4f8b\u5982 client/${clientid}/username/${username}/host/${host}/port/${port}<br/>\u5fc5\u586b\uff0c\u4e14\u4e0d\u53ef\u4e3a\u7a7a\u5b57\u7b26\u4e32","example":"/clientid/${clientid}/username/${username}/host/${host}/port/${port}","type":"string"},"qos":{"default":0,"description":"\u7f3a\u7701\u503c\u4e3a 0\uff0c\u670d\u52a1\u8d28\u91cf\uff0c<br/>QoS 0\uff1a\u6d88\u606f\u6700\u591a\u4f20\u9012\u4e00\u6b21\uff0c\u5982\u679c\u5f53\u65f6\u5ba2\u6237\u7aef\u4e0d\u53ef\u7528\uff0c\u5219\u4f1a\u4e22\u5931\u8be5\u6d88\u606f\u3002<br/>QoS 1\uff1a\u6d88\u606f\u4f20\u9012\u81f3\u5c11 1 \u6b21\u3002<br/>QoS 2\uff1a\u6d88\u606f\u4ec5\u4f20\u9001\u4e00\u6b21\u3002","example":0,"maximum":2,"minimum":0,"type":"integer"},"rh":{"default":0,"description":"\u6307\u5b9a\u8ba2\u9605\u5efa\u7acb\u65f6\u670d\u52a1\u7aef\u662f\u5426\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u4fdd\u7559\u6d88\u606f\uff0c<br/>\u53ef\u9009\u503c 0\uff1a\u53ea\u8981\u5ba2\u6237\u7aef\u8ba2\u9605\u6210\u529f\uff0c\u670d\u52a1\u7aef\u5c31\u53d1\u9001\u4fdd\u7559\u6d88\u606f\u3002<br/>\u53ef\u9009\u503c 1\uff1a\u5ba2\u6237\u7aef\u8ba2\u9605\u6210\u529f\u4e14\u8be5\u8ba2\u9605\u6b64\u524d\u4e0d\u5b58\u5728\uff0c\u670d\u52a1\u7aef\u624d\u53d1\u9001\u4fdd\u7559\u6d88\u606f\u3002\u6bd5\u7adf\u6709\u4e9b\u65f6\u5019\u5ba2\u6237\u7aef\u91cd\u65b0\u53d1\u8d77\u8ba2\u9605\u53ef\u80fd\u53ea\u662f\u4e3a\u4e86\u6539\u53d8\u4e00\u4e0b QoS\uff0c\u5e76\u4e0d\u610f\u5473\u7740\u5b83\u60f3\u518d\u6b21\u63a5\u6536\u4fdd\u7559\u6d88\u606f\u3002<br/>\u53ef\u9009\u503c 2\uff1a\u5373\u4fbf\u5ba2\u6237\u8ba2\u9605\u6210\u529f\uff0c\u670d\u52a1\u7aef\u4e5f\u4e0d\u4f1a\u53d1\u9001\u4fdd\u7559\u6d88\u606f\u3002","maximum":2,"minimum":0,"type":"integer"},"rap":{"default":0,"description":"\u7f3a\u7701\u503c\u4e3a 0\uff0c\u8fd9\u4e00\u9009\u9879\u7528\u6765\u6307\u5b9a\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u8f6c\u53d1\u6d88\u606f\u65f6\u662f\u5426\u8981\u4fdd\u7559\u5176\u4e2d\u7684 RETAIN \u6807\u8bc6\uff0c\u6ce8\u610f\u8fd9\u4e00\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd\u4fdd\u7559\u6d88\u606f\u4e2d\u7684 RETAIN \u6807\u8bc6\u3002\u56e0\u6b64\u5f53 Retain As Publish \u9009\u9879\u88ab\u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u5ba2\u6237\u7aef\u76f4\u63a5\u4f9d\u9760\u6d88\u606f\u4e2d\u7684 RETAIN \u6807\u8bc6\u6765\u533a\u5206\u8fd9\u662f\u4e00\u4e2a\u6b63\u5e38\u7684\u8f6c\u53d1\u6d88\u606f\u8fd8\u662f\u4e00\u4e2a\u4fdd\u7559\u6d88\u606f\uff0c\u800c\u4e0d\u662f\u53bb\u5224\u65ad\u6d88\u606f\u662f\u5426\u662f\u81ea\u5df1\u8ba2\u9605\u540e\u6536\u5230\u7684\u7b2c\u4e00\u4e2a\u6d88\u606f\uff08\u8f6c\u53d1\u6d88\u606f\u751a\u81f3\u53ef\u80fd\u4f1a\u5148\u4e8e\u4fdd\u7559\u6d88\u606f\u88ab\u53d1\u9001\uff0c\u89c6\u4e0d\u540c Broker \u7684\u5177\u4f53\u5b9e\u73b0\u800c\u5b9a\uff09\u3002","maximum":1,"minimum":0,"type":"integer"},"nl":{"default":0,"description":"\u7f3a\u7701\u503c\u4e3a0\uff0c<br/>MQTT v3.1.1\uff1a\u5982\u679c\u8bbe\u5907\u8ba2\u9605\u4e86\u81ea\u5df1\u53d1\u5e03\u6d88\u606f\u7684\u4e3b\u9898\uff0c\u90a3\u4e48\u5c06\u6536\u5230\u81ea\u5df1\u53d1\u5e03\u7684\u6240\u6709\u6d88\u606f\u3002<br/>MQTT v5\uff1a\u5982\u679c\u8bbe\u5907\u5728\u8ba2\u9605\u65f6\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a 1\uff0c\u90a3\u4e48\u670d\u52a1\u7aef\u5c06\u4e0d\u4f1a\u5411\u8bbe\u5907\u8f6c\u53d1\u81ea\u5df1\u53d1\u5e03\u7684\u6d88\u606f","maximum":1,"minimum":0,"type":"integer"}},"type":"object"},"broker.listener_ssl_opts":{"properties":{"cacertfile":{"description":"\u53d7\u4fe1\u4efb\u7684PEM\u683c\u5f0f CA  \u8bc1\u4e66\u6346\u7ed1\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u7528\u4e8e\u9a8c\u8bc1TLS\u5bf9\u7b49\u65b9\u7684\u8bc1\u4e66\u3002<br/>\u5982\u679c\u8981\u4fe1\u4efb\u65b0 CA\uff0c\u8bf7\u5c06\u65b0\u8bc1\u4e66\u9644\u52a0\u5230\u6587\u4ef6\u4e2d\u3002<br/>\u65e0\u9700\u91cd\u542fEMQX\u5373\u53ef\u52a0\u8f7d\u66f4\u65b0\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u7cfb\u7edf\u4f1a\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\uff08\u5e76\u91cd\u65b0\u52a0\u8f7d\uff09<br/><br/>\u6ce8\u610f\uff1a\u4ece\u6587\u4ef6\u4e2d\u5931\u6548\uff08\u5220\u9664\uff09\u8bc1\u4e66\u4e0d\u4f1a\u5f71\u54cd\u5df2\u5efa\u7acb\u7684\u8fde\u63a5\u3002","type":"string"},"certfile":{"description":"PEM\u683c\u5f0f\u8bc1\u4e66\u94fe\u6587\u4ef6<br/><br/>\u6b64\u6587\u4ef6\u4e2d\u7684\u8bc1\u4e66\u5e94\u4e0e\u8bc1\u4e66\u9881\u53d1\u94fe\u7684\u987a\u5e8f\u76f8\u53cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e3b\u673a\u7684\u8bc1\u4e66\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c<br/>\u7136\u540e\u662f\u76f4\u63a5\u9881\u53d1\u8005 CA \u8bc1\u4e66\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u4e00\u76f4\u5230\u6839 CA \u8bc1\u4e66\u3002<br/>\u6839 CA \u8bc1\u4e66\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u60f3\u8981\u6dfb\u52a0\uff0c\u5e94\u52a0\u5230\u6587\u4ef6\u5230\u6700\u672b\u7aef\u3002","type":"string"},"keyfile":{"description":"PEM\u683c\u5f0f\u7684\u79c1\u94a5\u6587\u4ef6\u3002","type":"string"},"verify":{"default":"verify_none","description":"\u542f\u7528\u6216\u7981\u7528\u5bf9\u7b49\u9a8c\u8bc1\u3002","enum":["verify_peer","verify_none"],"type":"string"},"reuse_sessions":{"default":true,"description":"\u542f\u7528 TLS \u4f1a\u8bdd\u91cd\u7528\u3002","type":"boolean"},"depth":{"default":10,"description":"\u5728\u6709\u6548\u7684\u8bc1\u4e66\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u8ddf\u968f\u5bf9\u7b49\u8bc1\u4e66\u7684\u975e\u81ea\u9881\u53d1\u4e2d\u95f4\u8bc1\u4e66\u7684\u6700\u5927\u6570\u91cf\u3002<br/>\u56e0\u6b64\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a0\uff0c\u5219\u5bf9\u7b49\u65b9\u5fc5\u987b\u7531\u53d7\u4fe1\u4efb\u7684\u6839 CA \u76f4\u63a5\u7b7e\u540d\uff1b<br/><br/>\u5982\u679c\u662f1\uff0c\u8def\u5f84\u53ef\u4ee5\u662f PEER\u3001\u4e2d\u95f4 CA\u3001ROOT-CA\uff1b<br/><br/>\u5982\u679c\u662f2\uff0c\u5219\u8def\u5f84\u53ef\u4ee5\u662fPEER\u3001\u4e2d\u95f4 CA1\u3001\u4e2d\u95f4 CA2\u3001ROOT-CA\u3002","type":"integer"},"password":{"description":"\u5305\u542b\u7528\u6237\u5bc6\u7801\u7684\u5b57\u7b26\u4e32\u3002\u4ec5\u5728\u79c1\u94a5\u6587\u4ef6\u53d7\u5bc6\u7801\u4fdd\u62a4\u65f6\u4f7f\u7528\u3002","example":"","format":"password","type":"string"},"versions":{"default":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"],"description":"\u652f\u6301\u6240\u6709TLS/DTLS\u7248\u672c<br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u65e0\u6cd5\u5728 <code>tlsv1.3</code> \u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u6253\u7b97\u4f7f\u7528 PSK \u5bc6\u7801\u5957\u4ef6\uff0c\u8bf7\u786e\u4fdd\u8fd9\u91cc\u914d\u7f6e\u4e3a <code>[\"tlsv1.2\",\"tlsv1.1\"]</code>\u3002","items":{"type":"string"},"type":"array"},"ciphers":{"default":"","description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6 <code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code>","items":{"type":"string"},"type":"array"},"user_lookup_fun":{"default":"emqx_tls_psk:lookup","description":"\u7528\u4e8e\u67e5\u627e\u9884\u5171\u4eab\u5bc6\u94a5\uff08PSK\uff09\u6807\u8bc6\u7684 EMQX \u5185\u90e8\u56de\u8c03\u3002","type":"string"},"secure_renegotiate":{"default":true,"description":"SSL \u53c2\u6570\u91cd\u65b0\u534f\u5546\u662f\u4e00\u79cd\u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u52a8\u6001\u91cd\u65b0\u534f\u5546 SSL \u8fde\u63a5\u53c2\u6570\u7684\u529f\u80fd\u3002<br/>RFC 5746 \u5b9a\u4e49\u4e86\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u542f\u7528\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\uff0c\u60a8\u5c31\u5931\u53bb\u4e86\u5bf9\u4e0d\u5b89\u5168\u7684\u91cd\u65b0\u534f\u5546\u7684\u652f\u6301\uff0c\u4ece\u800c\u5bb9\u6613\u53d7\u5230 MitM \u653b\u51fb\u3002","type":"boolean"},"hibernate_after":{"default":"5s","description":" \u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u4f11\u7720 SSL \u8fdb\u7a0b\uff0c\u51cf\u5c11\u5176\u5185\u5b58\u5360\u7528\u3002","example":"12m","type":"string"},"dhfile":{"description":"\u5982\u679c\u534f\u5546\u4f7f\u7528Diffie-Hellman\u5bc6\u94a5\u4ea4\u6362\u7684\u5bc6\u7801\u5957\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u5c06\u4f7f\u7528\u5305\u542bPEM\u7f16\u7801\u7684Diffie-Hellman\u53c2\u6570\u7684\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u3002<br/><br/>\u6ce8\u610f\uff1aTLS 1.3\u4e0d\u652f\u6301<code>dhfile</code>\u9009\u9879\u3002","type":"string"},"fail_if_no_peer_cert":{"default":false,"description":"TLS/DTLS \u670d\u52a1\u5668\u4e0e {verify\uff0cverify_peer} \u4e00\u8d77\u4f7f\u7528\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5219\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u8981\u53d1\u9001\u7684\u8bc1\u4e66\uff0c\u5373\u53d1\u9001\u7a7a\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u5c06\u5931\u8d25\u3002<br/>\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0c\u5219\u4ec5\u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u65e0\u6548\u8bc1\u4e66\uff08\u7a7a\u8bc1\u4e66\u88ab\u89c6\u4e3a\u6709\u6548\u8bc1\u4e66\uff09\u65f6\u624d\u4f1a\u5931\u8d25\u3002","type":"boolean"},"honor_cipher_order":{"default":true,"description":"\u4e00\u4e2a\u91cd\u8981\u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u5b83\u5f3a\u5236\u6839\u636e\u670d\u52a1\u5668\u6307\u5b9a\u7684\u987a\u5e8f\u800c\u4e0d\u662f\u5ba2\u6237\u673a\u6307\u5b9a\u7684\u987a\u5e8f\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4ece\u800c\u5f3a\u5236\u670d\u52a1\u5668\u7ba1\u7406\u5458\u6267\u884c\uff08\u901a\u5e38\u914d\u7f6e\u5f97\u66f4\u6b63\u786e\uff09\u5b89\u5168\u987a\u5e8f\u3002","type":"boolean"},"client_renegotiation":{"default":true,"description":"\u5728\u652f\u6301\u5ba2\u6237\u673a\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u7684\u534f\u8bae\u4e2d\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u8d44\u6e90\u6210\u672c\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u9ad8\u4e8e\u5ba2\u6237\u673a\u3002<br/>\u8fd9\u53ef\u80fd\u4f1a\u6210\u4e3a\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u7684\u8f7d\u4f53\u3002<br/>SSL \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u91c7\u53d6\u63aa\u65bd\u6765\u53cd\u51fb\u6b64\u7c7b\u5c1d\u8bd5\uff0c\u4f46\u901a\u8fc7\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u4e25\u683c\u7981\u7528\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u91cd\u65b0\u534f\u5546\u3002<br/>\u9ed8\u8ba4\u503c\u4e3a true\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u57fa\u7840\u5bc6\u7801\u5957\u4ef6\u53ef\u4ee5\u52a0\u5bc6\u7684\u6d88\u606f\u6570\u91cf\u6709\u9650\uff0c\u7981\u7528\u91cd\u65b0\u534f\u5546\u53ef\u80fd\u4f1a\u5bfc\u81f4\u957f\u671f\u8fde\u63a5\u53d8\u5f97\u4e0d\u53ef\u7528\u3002","type":"boolean"},"handshake_timeout":{"default":"15s","description":"\u63e1\u624b\u5b8c\u6210\u6240\u5141\u8bb8\u7684\u6700\u957f\u65f6\u95f4","example":"12m","type":"string"},"gc_after_handshake":{"default":false,"description":"\u5185\u5b58\u4f7f\u7528\u8c03\u4f18\u3002\u5982\u679c\u542f\u7528\uff0c\u5c06\u5728TLS/SSL\u63e1\u624b\u5b8c\u6210\u540e\u7acb\u5373\u6267\u884c\u5783\u573e\u56de\u6536\u3002TLS/SSL\u63e1\u624b\u5efa\u7acb\u540e\u7acb\u5373\u8fdb\u884cGC\u3002","type":"boolean"}},"type":"object"},"gateway.mqttsn_predefined":{"required":["topic","id"],"properties":{"id":{"description":"\u4e3b\u9898 ID\u3002\u8303\u56f4\uff1a1-65535","type":"integer"},"topic":{"description":"\u4e3b\u9898\u540d\u79f0\u3002\u6ce8\uff1a\u4e0d\u652f\u6301\u901a\u914d\u7b26","type":"string"}},"type":"object"},"emqx_gateway_api.exproto":{"required":["handler","server"],"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","enum":["exproto"],"type":"string"},"server":{"description":"\u914d\u7f6e ExProto \u7f51\u5173\u9700\u8981\u542f\u52a8\u7684 <code>ConnectionAdapter</code> \u670d\u52a1\u3002<br/>\u8be5\u670d\u52a1\u7528\u4e8e\u63d0\u4f9b\u5ba2\u6237\u7aef\u7684\u8ba4\u8bc1\u3001\u53d1\u5e03\u3001\u8ba2\u9605\u548c\u6570\u636e\u4e0b\u884c\u7b49\u529f\u80fd\u3002","$ref":"#/components/schemas/gateway.exproto_grpc_server"},"handler":{"description":"\u914d\u7f6e ExProto \u7f51\u5173\u9700\u8981\u8bf7\u6c42\u7684 <code>ConnectionHandler</code> \u670d\u52a1\u5730\u5740\u3002<br/>\u8be5\u670d\u52a1\u7528\u4e8e\u7ed9 ExProto \u63d0\u4f9b\u5ba2\u6237\u7aef\u7684 Socket \u4e8b\u4ef6\u5904\u7406\u3001\u5b57\u8282\u89e3\u7801\u3001\u8ba2\u9605\u6d88\u606f\u63a5\u6536\u7b49\u529f\u80fd\u3002","$ref":"#/components/schemas/gateway.exproto_grpc_handler"},"mountpoint":{"default":"","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"listeners":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]},"type":"array"}},"type":"object"},"rule_engine.user_provided_function":{"required":["function"],"properties":{"function":{"description":"\u7528\u6237\u63d0\u4f9b\u7684\u51fd\u6570\u3002 \u683c\u5f0f\u5e94\u4e3a\uff1a'{module}:{function}'\u3002<br/>\u5176\u4e2d {module} \u662f Erlang \u56de\u8c03\u6a21\u5757\uff0c {function} \u662f Erlang \u51fd\u6570\u3002<br/>\u8981\u7f16\u5199\u81ea\u5df1\u7684\u51fd\u6570\uff0c\u8bf7\u68c0\u67e5\u6e90\u6587\u4ef6\uff1a<code>apps/emqx_rule_engine/src/emqx_rule_actions.erl</code> \u4e2d\u7684\u793a\u4f8b\u51fd\u6570 <code>console</code> \u548c<code>republish</code> \u3002","example":"module:function","type":"string"},"args":{"default":{},"description":"\u7528\u6237\u63d0\u4f9b\u7684\u53c2\u6570\u5c06\u4f5c\u4e3a\u51fd\u6570 module:function/3 \u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c<br/>\u8bf7\u68c0\u67e5\u6e90\u6587\u4ef6\uff1a<code>apps/emqx_rule_engine/src/emqx_rule_actions.erl</code> \u4e2d\u7684\u793a\u4f8b\u51fd\u6570 <code>console</code> \u548c<code>republish</code> \u3002","example":{},"type":"object"}},"type":"object"},"emqx_authn_schema.node_resource_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/emqx_authn_schema.resource_metrics"}},"type":"object"},"listeners.quic_required_bind(with_name)":{"required":["bind","name","type"],"properties":{"type":{"description":"Listener type","enum":["quic"],"type":"string"},"running":{"description":"Listener status","type":"boolean"},"name":{"description":"Listener name","type":"string"},"current_connections":{"description":"Current connections","minimum":0,"type":"integer"},"certfile":{"description":"\u8bc1\u4e66\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.certfile \u4ee3\u66ff\u3002","type":"string"},"keyfile":{"description":"\u79c1\u94a5\u6587\u4ef6\u3002\u5728 5.1 \u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u4f7f\u7528 .ssl_options.keyfile \u4ee3\u66ff\u3002","type":"string"},"ciphers":{"default":["TLS_AES_256_GCM_SHA384","TLS_AES_128_GCM_SHA256","TLS_CHACHA20_POLY1305_SHA256"],"description":"\u6b64\u914d\u7f6e\u4fdd\u5b58\u7531\u9017\u53f7\u5206\u9694\u7684 TLS \u5bc6\u7801\u5957\u4ef6\u540d\u79f0\uff0c\u6216\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\u4f8b\u5982<br/><code>\"TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256\"</code>\u6216<br/><code>[\"TLS_AES_256_GCM_SHA384\",\"TLS_AES_128_GCM_SHA256\"]</code>\u3002<br/><br/><br/>\u5bc6\u7801\uff08\u53ca\u5176\u987a\u5e8f\uff09\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u4fe1\u606f\u7684\u65b9\u5f0f\u3002<br/>\u9009\u62e9\u4e00\u4e2a\u597d\u7684\u5bc6\u7801\u5957\u4ef6\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5b89\u5168\u6027\u3001\u673a\u5bc6\u6027\u548c\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002<br/><br/>\u540d\u79f0\u5e94\u4e3a OpenSSL \u5b57\u7b26\u4e32\u683c\u5f0f\uff08\u800c\u4e0d\u662f RFC \u683c\u5f0f\uff09\u3002<br/>EMQX \u914d\u7f6e\u6587\u6863\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u503c\u548c\u793a\u4f8b\u90fd\u662f OpenSSL \u683c\u5f0f<br/><br/>\u6ce8\u610f\uff1a\u67d0\u4e9b\u5bc6\u7801\u5957\u4ef6\u4ec5\u4e0e\u7279\u5b9a\u7684 TLS <code>\u7248\u672c</code>\u517c\u5bb9\uff08'tlsv1.1'\u3001'tlsv1.2'\u6216'tlsv1.3'\uff09\u3002<br/>\u4e0d\u517c\u5bb9\u7684\u5bc6\u7801\u5957\u4ef6\u5c06\u88ab\u81ea\u52a8\u5220\u9664\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u53ea\u6709 <code>versions</code> \u4ec5\u914d\u7f6e\u4e3a <code>tlsv1.3</code>\u3002\u4e3a\u5176\u4ed6\u7248\u672c\u914d\u7f6e\u5bc6\u7801\u5957\u4ef6\u5c06\u65e0\u6548\u3002<br/><br/><br/><br/>\u6ce8\uff1aPSK \u7684 Ciphers \u4e0d\u652f\u6301 tlsv1.3<br/><br/>\u5982\u679c\u6253\u7b97\u4f7f\u7528PSK\u5bc6\u7801\u5957\u4ef6\uff0c<code>tlsv1.3</code>\u3002\u5e94\u5728<code>ssl.versions</code>\u4e2d\u7981\u7528\u3002<br/><br/><br/><br/>PSK \u5bc6\u7801\u5957\u4ef6\uff1a<br/><code>\"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,<br/>RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,<br/>RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA,<br/>RSA-PSK-DES-CBC3-SHA,RSA-PSK-RC4-SHA\"</code><br/><br/><br/>\u6ce8\uff1aQUIC \u76d1\u542c\u5668\u4e0d\u652f\u6301 tlsv1.3 \u7684 ciphers","items":{"type":"string"},"type":"array"},"max_bytes_per_key":{"description":"\u5728\u542f\u52a8\u5bc6\u94a5\u66f4\u65b0\u4e4b\u524d\uff0c\u7528\u5355\u4e2a 1-RTT \u52a0\u5bc6\u5bc6\u94a5\u52a0\u5bc6\u7684\u6700\u5927\u5b57\u8282\u6570\u3002\u9ed8\u8ba4\u503c\uff1a274877906944","maximum":18446744073709551615,"minimum":1,"type":"integer"},"tls_server_max_send_buffer":{"description":"\u7f13\u51b2\u591a\u5c11TLS\u6570\u636e\u3002 \u9ed8\u8ba4\u503c\uff1a8192","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_window_default":{"description":"\u521d\u59cb\u6d41\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u3002 \u9ed8\u8ba4\u503c\uff1a32678","maximum":4294967295,"minimum":1,"type":"integer"},"stream_recv_buffer_default":{"description":"\u6d41\u7684\u521d\u59cb\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u9ed8\u8ba4\uff1a4096","maximum":4294967295,"minimum":1,"type":"integer"},"conn_flow_control_window":{"description":"\u8fde\u63a5\u7684\u6d41\u63a7\u7a97\u53e3\u3002\u9ed8\u8ba4\uff1a16777216","maximum":4294967295,"minimum":1,"type":"integer"},"max_stateless_operations":{"description":"\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\uff0c\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u5de5\u4f5c\u8005\u4e0a\u6392\u961f\u3002\u9ed8\u8ba4\u503c\uff1a16","maximum":4294967295,"minimum":1,"type":"integer"},"initial_window_packets":{"description":"\u4e00\u4e2a\u8fde\u63a5\u7684\u521d\u59cb\u62e5\u5835\u7a97\u53e3\u7684\u5927\u5c0f\uff08\u4ee5\u5305\u4e3a\u5355\u4f4d\uff09\u3002\u9ed8\u8ba4\u503c\uff1a10","maximum":4294967295,"minimum":1,"type":"integer"},"send_idle_timeout_ms":{"description":"\u5728\u95f2\u7f6e\u4e00\u5b9a\u65f6\u95f4\u540e\u91cd\u7f6e\u62e5\u5835\u63a7\u5236\u3002\u9ed8\u8ba4\u503c\uff1a1000","maximum":4294967295,"minimum":1,"type":"integer"},"initial_rtt_ms":{"description":"\u521d\u59cbRTT\u4f30\u8ba1","maximum":4294967295,"minimum":1,"type":"integer"},"max_ack_delay_ms":{"description":"\u5728\u6536\u5230\u6570\u636e\u540e\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u624d\u80fd\u53d1\u9001\u4e00\u4e2aACK\u3002\u9ed8\u8ba4\u503c\uff1a25","maximum":4294967295,"minimum":1,"type":"integer"},"disconnect_timeout_ms":{"description":"\u5728\u5224\u5b9a\u8def\u5f84\u65e0\u6548\u548c\u65ad\u5f00\u8fde\u63a5\u4e4b\u524d\uff0c\u8981\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u7684ACK\u3002\u9ed8\u8ba4\uff1a16000","maximum":4294967295,"minimum":1,"type":"integer"},"idle_timeout":{"default":0,"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020\u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"idle_timeout_ms":{"description":"\u4e00\u4e2a\u8fde\u63a5\u5728\u88ab\u4f18\u96c5\u5730\u5173\u95ed\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u30020 \u8868\u793a\u7981\u7528\u8d85\u65f6","maximum":18446744073709551615,"minimum":0,"type":"integer"},"handshake_idle_timeout":{"default":"10s","description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4\u3002","example":"32s","type":"string"},"handshake_idle_timeout_ms":{"description":"\u4e00\u4e2a\u63e1\u624b\u5728\u88ab\u4e22\u5f03\u4e4b\u524d\u53ef\u4ee5\u7a7a\u95f2\u591a\u957f\u65f6\u95f4","maximum":18446744073709551615,"minimum":1,"type":"integer"},"keep_alive_interval":{"default":0,"description":"\u53d1\u9001 PING \u5e27\u7684\u9891\u7387\uff0c\u4ee5\u4fdd\u6d3b\u8fde\u63a5. \u8bbe\u4e3a 0 \u8868\u793a\u7981\u7528\u3002","example":"32s","type":"string"},"keep_alive_interval_ms":{"description":"\u591a\u957f\u65f6\u95f4\u53d1\u9001\u4e00\u6b21PING\u5e27\u4ee5\u4fdd\u6d3b\u8fde\u63a5\u3002","maximum":4294967295,"minimum":0,"type":"integer"},"peer_bidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u53cc\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":1,"type":"integer"},"peer_unidi_stream_count":{"description":"\u5141\u8bb8\u5bf9\u7aef\u6253\u5f00\u7684\u5355\u5411\u6d41\u7684\u6570\u91cf","maximum":65535,"minimum":0,"type":"integer"},"retry_memory_limit":{"description":"\u5728\u4f7f\u7528\u65e0\u72b6\u6001\u91cd\u8bd5\u4e4b\u524d\uff0c\u53ef\u7528\u4e8e\u63e1\u624b\u8fde\u63a5\u7684\u53ef\u7528\u5185\u5b58\u7684\u767e\u5206\u6bd4\u3002\u8ba1\u7b97\u4e3a`N/65535`\u3002\u9ed8\u8ba4\u503c\uff1a65","maximum":65535,"minimum":0,"type":"integer"},"load_balancing_mode":{"description":"0: \u7981\u7528, 1: SERVER_ID_IP, 2: SERVER_ID_FIXED. \u9ed8\u8ba4: 0","maximum":65535,"minimum":0,"type":"integer"},"max_operations_per_drain":{"description":"\u6bcf\u4e2a\u8fde\u63a5\u64cd\u4f5c\u7684\u6700\u5927\u8017\u8d39\u64cd\u4f5c\u6570\u3002\u9ed8\u8ba4\uff1a16","maximum":255,"minimum":0,"type":"integer"},"send_buffering_enabled":{"description":"\u7f13\u51b2\u53d1\u9001\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4fdd\u7559\u5e94\u7528\u7f13\u51b2\u533a\uff0c\u76f4\u5230\u53d1\u9001\u6570\u636e\u88ab\u786e\u8ba4\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u542f\u7528\uff09","type":"boolean"},"pacing_enabled":{"description":"\u6709\u8282\u594f\u7684\u53d1\u9001\uff0c\u4ee5\u907f\u514d\u8def\u5f84\u4e0a\u7684\u7f13\u51b2\u533a\u8fc7\u5ea6\u586b\u5145\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"migration_enabled":{"description":"\u5f00\u542f\u5ba2\u6237\u7aef\u5730\u5740\u8fc1\u79fb\u529f\u80fd\u3002\u9700\u8981\u4e00\u4e2a\u652f\u6301\u7684\u8d1f\u8f7d\u5e73\u8861\u5668\uff0c\u6216\u8005\u6ca1\u6709\u8d1f\u8f7d\u5e73\u8861\u5668\u3002\u9ed8\u8ba4\u503c\uff1a1\uff08\u5df2\u542f\u7528\uff09","type":"boolean"},"datagram_receive_enabled":{"description":"\u5ba3\u4f20\u5bf9QUIC Datagram \u6269\u5c55\u7684\u652f\u6301\u3002\u4e3a\u5c06\u6765\u4fdd\u7559\u3002\u9ed8\u8ba4\u4e3a0\uff08FALSE\uff09","type":"boolean"},"server_resumption_level":{"description":"\u8fde\u63a5\u6062\u590d \u548c/\u6216 0-RTT \u670d\u52a1\u5668\u652f\u6301\u3002\u9ed8\u8ba4\u503c\uff1a0\uff08\u65e0\u6062\u590d\u529f\u80fd\uff09","maximum":255,"minimum":0,"type":"integer"},"minimum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5c0fMTU\u3002\u8fd9\u5c06\u88ab\u4f5c\u4e3a\u8d77\u59cbMTU\u4f7f\u7528\u3002\u9ed8\u8ba4\u503c\uff1a1248","maximum":65535,"minimum":1,"type":"integer"},"maximum_mtu":{"description":"\u4e00\u4e2a\u8fde\u63a5\u6240\u652f\u6301\u7684\u6700\u5927MTU\u3002\u8fd9\u5c06\u662f\u6700\u5927\u7684\u63a2\u6d4b\u503c\u3002\u9ed8\u8ba4\u503c\uff1a1500","maximum":65535,"minimum":1,"type":"integer"},"mtu_discovery_search_complete_timeout_us":{"description":"\u5982\u679c\u6ca1\u6709\u8fbe\u5230 max \uff0c\u5728\u91cd\u65b0\u5c1d\u8bd5 MTU \u63a2\u6d4b\u4e4b\u524d\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u5fae\u79d2\u3002\u9ed8\u8ba4\u503c\uff1a600000000","maximum":18446744073709551615,"minimum":0,"type":"integer"},"mtu_discovery_missing_probe_count":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a3","maximum":255,"minimum":1,"type":"integer"},"max_binding_stateless_operations":{"description":"\u5728\u4efb\u4f55\u65f6\u5019\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ed1\u5b9a\u4e0a\u6392\u961f\u7684\u65e0\u72b6\u6001\u64cd\u4f5c\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"stateless_operation_expiration_ms":{"description":"\u540c\u4e00\u4e2a\u5bf9\u7aef\u7684\u64cd\u4f5c\u4e4b\u95f4\u7684\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002 \u9ed8\u8ba4\uff1a100","maximum":65535,"minimum":0,"type":"integer"},"ssl_options":{"description":"QUIC \u4f20\u8f93\u5c42\u7684 TLS \u9009\u9879","$ref":"#/components/schemas/broker.listener_quic_ssl_opts"},"enabled":{"default":true,"description":"\u542f\u505c\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"default":14567,"description":"\u76d1\u542c\u5957\u63a5\u5b57\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"acceptors":{"default":16,"description":"\u76d1\u542c\u5668\u63a5\u6536\u6c60\u7684\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"max_connections":{"default":"infinity","description":"\u76d1\u542c\u5668\u5141\u8bb8\u7684\u6700\u5927\u5e76\u53d1\u8fde\u63a5\u6570\u3002","oneOf":[{"minimum":1,"type":"integer"},{"enum":["infinity"],"type":"string"}]},"mountpoint":{"default":"","description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u8bf7\u5728\u6240\u6709\u4e3b\u9898\u524d\u9762\u52a0\u4e0a mountpoint \u5b57\u7b26\u4e32\u3002<br/><br/>\u5c06\u6d88\u606f\u4f20\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u5e26\u524d\u7f00\u7684\u5b57\u7b26\u4e32\u3002\u6302\u8f7d\u70b9\u662f\u4e00\u79cd\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u4fa6\u542c\u5668\u4e4b\u95f4\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u65b9\u6cd5\u3002<br/><br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u673a A \u4f7f\u7528 <code>listeners.tcp.\\<name>.mountpoint</code> \u8bbe\u7f6e\u4e3a'some_tenant'\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86\u4e3b\u9898'some_tenant/t'\u3002<br/><br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aefB\uff08\u4e0e\u5ba2\u6237\u7aefA\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 't' \u53d1\u9001\u6d88\u606f\uff0c\u8be5\u6d88\u606f\u5c06\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86'some_\u79df\u6237/t'\u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u63a5\u6536\u4e3b\u9898\u540d\u4e3a't'\u7684\u6d88\u606f<br/><br/><br/>\u8bbe\u7f6e\u4e3a<code>\"\"</code> \u4ee5\u7981\u7528\u8be5\u529f\u80fd<br/><br/><br/>mountpoint \u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\uff1a<br/>- <code>${clientid}</code>: clientid<br/>- <code>${username}</code>: username","type":"string"},"zone":{"default":"default","description":"\u76d1\u542c\u5668\u6240\u5c5e\u7684\u914d\u7f6e\u7ec4\u3002","type":"string"},"limiter":{"default":{"connection":{"capacity":1000,"rate":"1000/s"}},"description":"\u901f\u7387\u9650\u5236\u7c7b\u578b","$ref":"#/components/schemas/limiter.listener_fields"},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\uff0c\u901a\u8fc7\u68c0\u67e5\u8ba4\u914d\u7f6e\u7684\u8ba4\u8ba4\u8bc1\u5668\u94fe\u6765\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\uff0c\u4efb\u4f55\u5ba2\u6237\u7aef\uff0c\u4e0d\u8bba\u662f\u4e0d\u662f\u643a\u5e26\u7528\u6237\u540d\u7b49\u8ba4\u8bc1\u4fe1\u606f\uff0c\u90fd\u53ef\u4ee5\u63a5\u5165\u3002<br/>\u914d\u7f6e <code>quick_deny_anonymous</code> \u65f6\uff0c\u884c\u4e3a\u8ddf <code>true</code> \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9\u533f\u540d<br/>\u5ba2\u6237\u76f4\u63a5\u62d2\u7edd\uff0c\u4e0d\u505a\u4f7f\u7528\u4efb\u4f55\u8ba4\u8bc1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u68c0\u67e5\u3002","enum":[true,false,"quick_deny_anonymous"],"type":"string"}},"type":"object"},"emqx_gateway_api.udp_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["udp"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"udp_options":{"$ref":"#/components/schemas/gateway.udp_opts"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"}},"type":"object"},"emqx_gateway_api_listeners.tcp_listener":{"properties":{"id":{"description":"\u76d1\u542c\u5668 ID","type":"string"},"type":{"description":"\u76d1\u542c\u5668\u7c7b\u578b","enum":["tcp"],"type":"string"},"name":{"description":"\u76d1\u542c\u5668\u540d\u79f0","type":"string"},"running":{"description":"\u76d1\u542c\u5668\u8fd0\u884c\u72b6\u6001","type":"boolean"},"acceptors":{"default":16,"description":"Acceptor \u8fdb\u7a0b\u6c60\u5927\u5c0f\u3002","type":"integer"},"tcp_options":{"description":"TCP Socket \u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.tcp_opts"},"proxy_protocol":{"default":false,"description":"\u662f\u5426\u5f00\u542f Proxy Protocol V1/2\u3002\u5f53 EMQX \u96c6\u7fa4\u90e8\u7f72\u5728 HAProxy \u6216 Nginx \u540e\u9700\u8981\u83b7\u53d6\u5ba2\u6237\u7aef\u771f\u5b9e IP \u65f6\u5e38\u7528\u5230\u8be5\u9009\u9879\u3002\u53c2\u8003\uff1ahttps://www.haproxy.com/blog/haproxy/proxy-protocol/","type":"boolean"},"proxy_protocol_timeout":{"default":"15s","description":"\u63a5\u6536 Proxy Protocol \u62a5\u6587\u5934\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5982\u679c\u5728\u8d85\u65f6\u5185\u6ca1\u6709\u6536\u5230 Proxy Protocol \u5305\uff0cEMQX \u5c06\u5173\u95ed TCP \u8fde\u63a5\u3002","example":"12m","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u76d1\u542c\u5668\u3002","type":"boolean"},"bind":{"description":"\u76d1\u542c\u5668\u7ed1\u5b9a\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002","oneOf":[{"type":"integer"},{"example":"127.0.0.1:80","type":"string"}]},"max_connections":{"default":1024,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002","type":"integer"},"max_conn_rate":{"default":1000,"description":"\u76d1\u542c\u5668\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387\u3002","type":"integer"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"enable_authn":{"default":true,"description":"\u914d\u7f6e <code>true</code> \uff08\u9ed8\u8ba4\u503c\uff09\u542f\u7528\u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002<br/>\u914d\u7f6e <code>false</code> \u65f6\uff0c\u5c06\u4e0d\u5bf9\u5ba2\u6237\u7aef\u505a\u4efb\u4f55\u8ba4\u8bc1\u3002","type":"boolean"},"mountpoint":{"description":"\u53d1\u5e03\u6216\u8ba2\u9605\u65f6\uff0c\u5728\u6240\u6709\u4e3b\u9898\u524d\u589e\u52a0\u524d\u7f00\u5b57\u7b26\u4e32\u3002<br/>\u5f53\u6d88\u606f\u6295\u9012\u7ed9\u8ba2\u9605\u8005\u65f6\uff0c\u524d\u7f00\u5b57\u7b26\u4e32\u5c06\u4ece\u4e3b\u9898\u540d\u79f0\u4e2d\u5220\u9664\u3002\u6302\u8f7d\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u76d1\u542c\u5668\u4e4b\u95f4\u7684\u6d88\u606f\u8def\u7531\u9694\u79bb\u7684\u4e00\u79cd\u65b9\u5f0f\u3002<br/>\u4f8b\u5982\uff0c\u5982\u679c\u5ba2\u6237\u7aef A \u5728 `listeners.tcp.\\<name>.mountpoint` \u8bbe\u7f6e\u4e3a `some_tenant` \u7684\u60c5\u51b5\u4e0b\u8ba2\u9605 `t`\uff0c<br/>\u5219\u5ba2\u6237\u7aef\u5b9e\u9645\u4e0a\u8ba2\u9605\u4e86 `some_tenant/t` \u4e3b\u9898\u3002<br/>\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef B\uff08\u8fde\u63a5\u5230\u4e0e\u5ba2\u6237\u7aef A \u76f8\u540c\u7684\u4fa6\u542c\u5668\uff09\u5411\u4e3b\u9898 `t` \u53d1\u9001\u6d88\u606f\uff0c<br/>\u5219\u8be5\u6d88\u606f\u88ab\u8def\u7531\u5230\u6240\u6709\u8ba2\u9605\u4e86 `some_tenant/t` \u7684\u5ba2\u6237\u7aef\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef A \u5c06\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e26\u6709 \u4e3b\u9898\u540d\u79f0`t`\u3002 \u8bbe\u7f6e\u4e3a `\"\"` \u4ee5\u7981\u7528\u8be5\u529f\u80fd\u3002<br/>\u6302\u8f7d\u70b9\u5b57\u7b26\u4e32\u4e2d\u53ef\u7528\u7684\u53d8\u91cf\uff1a<br/><br/>   - <code>${clientid}</code>\uff1aclientid<br/><br/>   - <code>${username}</code>\uff1a\u7528\u6237\u540d","type":"string"},"access_rules":{"default":"","description":"\u914d\u7f6e\u76d1\u542c\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u3002<br/>\u89c1\uff1ahttps://github.com/emqtt/esockd#allowdeny","items":{"type":"string"},"type":"array"},"status":{"description":"\u76d1\u542c\u5668\u72b6\u6001","$ref":"#/components/schemas/listeners.status"},"node_status":{"description":"\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/listeners.node_status"},"type":"array"}},"type":"object"},"emqx_delayed_api.message":{"properties":{"msgid":{"description":"\u5ef6\u8fdf\u6d88\u606f ID","type":"integer"},"node":{"description":"\u6d88\u606f\u7684\u6765\u6e90\u8282\u70b9","type":"string"},"publish_at":{"description":"\u5ba2\u6237\u7aef\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"delayed_interval":{"description":"\u5ef6\u8fdf\u65f6\u95f4(\u79d2)","minimum":1,"type":"integer"},"delayed_remaining":{"description":"\u5269\u4f59\u65f6\u95f4(\u79d2)","minimum":0,"type":"integer"},"expected_at":{"description":"\u671f\u671b\u7684\u53d1\u9001\u65f6\u95f4, RFC 3339 \u683c\u5f0f","type":"string"},"topic":{"description":"\u4e3b\u9898","example":"/sys/#","type":"string"},"qos":{"description":"QoS","example":0,"maximum":2,"minimum":0,"type":"integer"},"from_clientid":{"description":"\u6d88\u606f\u7684 ClientID","type":"string"},"from_username":{"description":"\u6d88\u606f\u7684 Username","type":"string"},"payload":{"description":"\u6d88\u606f\u5185\u5bb9, base64 \u683c\u5f0f\u3002\u5982\u679c\u6d88\u606f\u7684\u5927\u5c0f\u8d85\u8fc7 2048 \u5b57\u8282\uff0c\u5219\u6d88\u606f\u5185\u5bb9\u4f1a\u88ab\u8bbe\u7f6e\u4e3a 'PAYLOAD_TO_LARGE'","type":"string"}},"type":"object"},"broker.persistent_table_mria_opts":{"properties":{"ram_cache":{"default":true,"description":"\u5728\u5185\u5b58\u4e2d\u4fdd\u6301\u4e00\u4efd\u6570\u636e\u7684\u526f\u672c\uff0c\u4ee5\u4fbf\u66f4\u5feb\u5730\u8bbf\u95ee\u3002","type":"boolean"}},"type":"object"},"authn-hash.pbkdf2":{"required":["iterations","mac_fun","name"],"properties":{"name":{"description":"PBKDF2 password hashing.","enum":["pbkdf2"],"type":"string"},"mac_fun":{"description":"Specifies mac_fun for PBKDF2 hashing algorithm.","enum":["md4","md5","ripemd160","sha","sha224","sha256","sha384","sha512"],"type":"string"},"iterations":{"description":"Iteration count for PBKDF2 hashing algorithm.","type":"integer"},"dk_length":{"description":"Derived length for PBKDF2 hashing algorithm. If not specified, calculated automatically based on `mac_fun`.","type":"integer"}},"type":"object"},"emqx_mgmt_api_publish.message_properties":{"properties":{"payload_format_indicator":{"description":"\u8f7d\u8377\u683c\u5f0f\u6307\u793a\u6807\u8bc6\u7b26\uff0c0 \u8868\u793a\u8f7d\u8377\u662f\u672a\u6307\u5b9a\u683c\u5f0f\u7684\u6570\u636e\uff0c\u76f8\u5f53\u4e8e\u6ca1\u6709\u53d1\u9001\u8f7d\u8377\u683c\u5f0f\u6307\u793a\uff1b1 \u8868\u793a\u8f7d\u8377\u662f UTF-8 \u7f16\u7801\u7684\u5b57\u7b26\u6570\u636e\uff0c\u8f7d\u8377\u4e2d\u7684 UTF-8 \u6570\u636e\u5fc5\u987b\u662f\u6309\u7167 Unicode \u7684\u89c4\u8303\u548c RFC 3629 \u7684\u6807\u51c6\u8981\u6c42\u8fdb\u884c\u7f16\u7801\u7684\u3002","example":0,"maximum":1,"minimum":0,"type":"integer"},"message_expiry_interval":{"description":"\u6d88\u606f\u8fc7\u671f\u95f4\u9694\u6807\u8bc6\u7b26\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d\u3002\u5f53\u6d88\u5931\u5df2\u7ecf\u8fc7\u671f\u65f6\uff0c\u5982\u679c\u670d\u52a1\u7aef\u8fd8\u6ca1\u6709\u5f00\u59cb\u5411\u5339\u914d\u7684\u8ba2\u9605\u8005\u6295\u9012\u8be5\u6d88\u606f\uff0c\u5219\u670d\u52a1\u7aef\u4f1a\u5220\u9664\u8be5\u8ba2\u9605\u8005\u7684\u6d88\u606f\u526f\u672c\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u5219\u6d88\u606f\u6c38\u8fdc\u4e0d\u4f1a\u8fc7\u671f","type":"integer"},"response_topic":{"description":"\u54cd\u5e94\u4e3b\u9898\u6807\u8bc6\u7b26\uff0c UTF-8 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u4f5c\u54cd\u5e94\u6d88\u606f\u7684\u4e3b\u9898\u540d\u3002\u54cd\u5e94\u4e3b\u9898\u4e0d\u80fd\u5305\u542b\u901a\u914d\u7b26\uff0c\u4e5f\u4e0d\u80fd\u5305\u542b\u591a\u4e2a\u4e3b\u9898\uff0c\u5426\u5219\u5c06\u9020\u6210\u534f\u8bae\u9519\u8bef\u3002\u5f53\u5b58\u5728\u54cd\u5e94\u4e3b\u9898\u65f6\uff0c\u6d88\u606f\u5c06\u88ab\u89c6\u4f5c\u8bf7\u6c42\u62a5\u6587\u3002\u670d\u52a1\u7aef\u5728\u6536\u5230\u5e94\u7528\u6d88\u606f\u65f6\u5fc5\u987b\u5c06\u54cd\u5e94\u4e3b\u9898\u539f\u5c01\u4e0d\u52a8\u7684\u53d1\u9001\u7ed9\u6240\u6709\u7684\u8ba2\u9605\u8005\u3002","example":"some_other_topic","type":"string"},"correlation_data":{"description":"\u5bf9\u6bd4\u6570\u636e\u6807\u8bc6\u7b26\uff0c\u670d\u52a1\u7aef\u5728\u6536\u5230\u5e94\u7528\u6d88\u606f\u65f6\u5fc5\u987b\u539f\u5c01\u4e0d\u52a8\u7684\u628a\u5bf9\u6bd4\u6570\u636e\u53d1\u9001\u7ed9\u6240\u6709\u7684\u8ba2\u9605\u8005\u3002\u5bf9\u6bd4\u6570\u636e\u53ea\u5bf9\u8bf7\u6c42\u6d88\u606f(Request Message)\u7684\u53d1\u9001\u7aef\u548c\u54cd\u5e94\u6d88\u606f(Response Message)\u7684\u63a5\u6536\u7aef\u6709\u610f\u4e49\u3002","type":"string"},"user_properties":{"description":"\u6307\u5b9a MQTT \u6d88\u606f\u7684 User Property \u952e\u503c\u5bf9\u3002\u6ce8\u610f\uff0c\u5982\u679c\u51fa\u73b0\u91cd\u590d\u7684\u952e\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u4fdd\u7559\u3002","example":{"foo":"bar"},"type":"object"},"content_type":{"description":"\u5185\u5bb9\u7c7b\u578b\u6807\u8bc6\u7b26\uff0c\u4ee5 UTF-8 \u683c\u5f0f\u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u6765\u63cf\u8ff0\u5e94\u7528\u6d88\u606f\u7684\u5185\u5bb9\uff0c\u670d\u52a1\u7aef\u5fc5\u987b\u628a\u6536\u5230\u7684\u5e94\u7528\u6d88\u606f\u4e2d\u7684\u5185\u5bb9\u7c7b\u578b\u539f\u5c01\u4e0d\u52a8\u7684\u53d1\u9001\u7ed9\u6240\u6709\u7684\u8ba2\u9605\u8005\u3002","example":"text/plain","type":"string"}},"type":"object"},"limiter.client_opts":{"properties":{"rate":{"default":"infinity","description":"\u6876\u7684\u4ee4\u724c\u751f\u6210\u901f\u7387","example":"10MB","type":"string"},"initial":{"default":"0","description":"\u6876\u4e2d\u7684\u521d\u59cb\u4ee4\u724c\u6570","example":"0MB","type":"string"},"low_watermark":{"default":"0","description":"\u5f53\u6876\u4e2d\u5269\u4f59\u7684\u4ee4\u724c\u6570\u4f4e\u4e8e\u8fd9\u4e2a\u503c\uff0c\u5373\u4f7f\u4ee4\u724c\u7533\u8bf7\u6210\u529f\u4e86\uff0c\u4e5f\u4f1a\u88ab\u5f3a\u5236\u6682\u505c\u4e00\u4f1a\u513f","example":"0MB","type":"string"},"capacity":{"default":"infinity","description":"\u6bcf\u4e2a\u4f7f\u7528\u8005\u7684\u4ee4\u724c\u5bb9\u91cf\u4e0a\u9650","example":"100MB","type":"string"},"divisible":{"default":false,"description":"\u7533\u8bf7\u7684\u4ee4\u724c\u6570\u662f\u5426\u53ef\u4ee5\u88ab\u5206\u5272","type":"boolean"},"max_retry_time":{"default":"10s","description":"\u7533\u8bf7\u5931\u8d25\u540e\uff0c\u5c1d\u8bd5\u91cd\u65b0\u7533\u8bf7\u7684\u65f6\u957f\u6700\u5927\u503c","example":"12m","type":"string"},"failure_strategy":{"default":"force","description":"\u5f53\u6240\u6709\u7684\u91cd\u8bd5\u90fd\u5931\u8d25\u540e\u7684\u5904\u7406\u7b56\u7565","example":"force","type":"string"}},"type":"object"},"authn-mongodb.sharded-cluster":{"required":["database","servers","collection","backend","mechanism"],"properties":{"mechanism":{"description":"\u8ba4\u8bc1\u673a\u5236\u3002","enum":["password_based"],"type":"string"},"backend":{"description":"\u540e\u7aef\u7c7b\u578b\u3002","enum":["mongodb"],"type":"string"},"collection":{"description":"\u5b58\u50a8\u8ba4\u8bc1\u6570\u636e\u7684\u96c6\u5408\u3002","type":"string"},"filter":{"default":{},"description":"\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u8fc7\u6ee4\u6761\u4ef6\u7684\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002<br/>\u8fc7\u6ee4\u5668\u652f\u6301\u5982\u4e0b\u5360\u4f4d\u7b26\uff1a<br/>- <code>${username}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u7528\u6237\u540d<br/>- <code>${clientid}</code>: \u5c06\u5728\u8fd0\u884c\u65f6\u88ab\u66ff\u6362\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","example":{},"type":"object"},"password_hash_field":{"default":"password_hash","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u5bc6\u7801\u6563\u5217\u7684\u5b57\u6bb5\u3002","type":"string"},"salt_field":{"default":"salt","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b58\u653e\u76d0\u503c\u7684\u5b57\u6bb5\u3002","type":"string"},"is_superuser_field":{"default":"is_superuser","description":"\u6587\u6863\u4e2d\u7528\u4e8e\u5b9a\u4e49\u7528\u6237\u662f\u5426\u5177\u6709\u8d85\u7ea7\u7528\u6237\u6743\u9650\u7684\u5b57\u6bb5\u3002","type":"string"},"password_hash_algorithm":{"default":{"name":"sha256","salt_position":"prefix"},"description":"Options for password hash verification.","oneOf":[{"$ref":"#/components/schemas/authn-hash.simple"},{"$ref":"#/components/schemas/authn-hash.pbkdf2"},{"$ref":"#/components/schemas/authn-hash.bcrypt"}]},"enable":{"default":true,"description":"\u8bbe\u4e3a <code>true</code> \u6216 <code>false</code> \u4ee5\u542f\u7528\u6216\u7981\u7528\u6b64\u8ba4\u8bc1\u6570\u636e\u6e90\u3002","type":"boolean"},"mongo_type":{"default":"sharded","description":"Sharded cluster\u6a21\u5f0f\u3002\u5f53 MongoDB \u670d\u52a1\u8fd0\u884c\u5728 sharded \u6a21\u5f0f\u4e0b\uff0c\u8be5\u914d\u7f6e\u5fc5\u987b\u8bbe\u7f6e\u4e3a 'sharded'\u3002","enum":["sharded"],"type":"string"},"servers":{"description":"\u96c6\u7fa4\u5c06\u8981\u8fde\u63a5\u7684\u8282\u70b9\u5217\u8868\u3002 \u8282\u70b9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a`Node[,Node].`<br/>\u6bcf\u4e2a\u8282\u70b9\u7684\u914d\u7f6e\u4e3a\uff1a\u5c06\u8981\u8fde\u63a5\u7684 IPv4 \u6216 IPv6 \u5730\u5740\u6216\u4e3b\u673a\u540d\u3002<br/>\u4e3b\u673a\u540d\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a`Host[:Port]`\u3002<br/>\u5982\u679c\u672a\u6307\u5b9a `[:Port]`\uff0c\u5219\u4f7f\u7528 MongoDB \u9ed8\u8ba4\u7aef\u53e3 27017\u3002","type":"string"},"w_mode":{"default":"unsafe","description":"\u5199\u6a21\u5f0f\u3002","enum":["unsafe","safe"],"type":"string"},"srv_record":{"default":false,"description":"\u4f7f\u7528 DNS SRV \u8bb0\u5f55\u3002","type":"boolean"},"pool_size":{"default":8,"description":"\u6865\u63a5\u8fdc\u7aef\u670d\u52a1\u65f6\u4f7f\u7528\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u3002","minimum":1,"type":"integer"},"username":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u7684\u7528\u6237\u540d\u3002","type":"string"},"password":{"description":"\u5185\u90e8\u6570\u636e\u5e93\u5bc6\u7801\u3002","format":"password","type":"string"},"auth_source":{"description":"\u4e0e\u7528\u6237\u8bc1\u4e66\u5173\u8054\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002","type":"string"},"database":{"description":"\u6570\u636e\u5e93\u540d\u5b57\u3002","type":"string"},"topology":{"$ref":"#/components/schemas/emqx_connector_mongo.topology"},"ssl":{"default":{"enable":false},"description":"\u542f\u7528 SSL \u8fde\u63a5\u3002","$ref":"#/components/schemas/broker.ssl_client_opts"}},"type":"object"},"emqx_gateway_api.gateway_overview":{"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","type":"string"},"status":{"description":"\u7f51\u5173\u542f\u7528\u72b6\u6001","enum":["running","stopped","unloaded"],"type":"string"},"created_at":{"description":"\u7f51\u5173\u521b\u5efa\u65f6\u95f4","type":"string"},"started_at":{"description":"\u7f51\u5173\u542f\u7528\u65f6\u95f4","type":"string"},"stopped_at":{"description":"\u7f51\u5173\u505c\u7528\u65f6\u95f4","type":"string"},"max_connections":{"description":"\u6700\u5927\u8fde\u63a5\u6570","minimum":1,"type":"integer"},"current_connections":{"description":"\u5f53\u524d\u8fde\u63a5\u6570","minimum":0,"type":"integer"},"listeners":{"description":"\u7f51\u5173\u76d1\u542c\u5668\u5217\u8868","items":{"$ref":"#/components/schemas/emqx_gateway_api.gateway_listener_overview"},"type":"array"},"node_status":{"description":"\u7f51\u5173\u5728\u96c6\u7fa4\u4e2d\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u72b6\u6001","items":{"$ref":"#/components/schemas/emqx_gateway_api.gateway_node_status"},"type":"array"}},"type":"object"},"dashboard.dashboard":{"required":["default_password","default_username"],"properties":{"listeners":{"description":"Dashboard \u76d1\u542c\u5668\u8bbe\u7f6e\u3002\u76d1\u542c\u5668\u5fc5\u987b\u6709\u552f\u4e00\u7684\u7aef\u53e3\u53f7\u548cIP\u5730\u5740\u7684\u7ec4\u5408\u3002<br/>\u4f8b\u5982\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aIP\u5730\u5740 0.0.0.0 \u6765\u76d1\u542c\u673a\u5668\u4e0a\u7ed9\u5b9a\u7aef\u53e3\u4e0a\u7684\u6240\u6709\u914d\u7f6e\u7684IP\u5730\u5740\u3002<br/>\u6216\u8005\uff0c\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u76d1\u542c\u5668\u6307\u5b9a\u552f\u4e00\u7684IP\u5730\u5740\uff0c\u4f46\u4f7f\u7528\u76f8\u540c\u7684\u7aef\u53e3\u3002","$ref":"#/components/schemas/dashboard.listeners"},"default_username":{"default":"admin","description":"Dashboard \u7684\u9ed8\u8ba4\u7528\u6237\u540d\u3002","readOnly":true,"type":"string"},"default_password":{"default":"public","description":"Dashboard \u7684\u9ed8\u8ba4\u5bc6\u7801\uff0c\u4e3a\u4e86\u5b89\u5168\uff0c\u5e94\u8be5\u5c3d\u5feb\u4fee\u6539\u5bc6\u7801\u3002<br/>\u5f53\u901a\u8fc7\u7f51\u9875\u9996\u6b21\u767b\u5f55 Dashboard \u5e76\u6309\u63d0\u793a\u4fee\u6539\u6210\u590d\u6742\u5bc6\u7801\u540e\uff0c\u6b64\u503c\u5c31\u4f1a\u5931\u6548\u3002","readOnly":true,"type":"string"},"sample_interval":{"default":"10s","description":"Dashboard \u4e2d\u56fe\u8868\u6307\u6807\u7684\u65f6\u95f4\u95f4\u9694\u3002\u5fc5\u987b\u5c0f\u4e8e60\uff0c\u4e14\u88ab60\u7684\u6574\u9664\uff0c\u9ed8\u8ba4\u8bbe\u7f6e 10s\u3002","example":"1h","type":"string"},"token_expired_time":{"default":"60m","description":"JWT token \u8fc7\u671f\u65f6\u95f4\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a 60 \u5206\u949f\u3002","example":"12m","type":"string"},"cors":{"default":false,"description":"\u652f\u6301\u8de8\u57df\u8d44\u6e90\u5171\u4eab(CORS)\uff0c<br/>\u5141\u8bb8\u670d\u52a1\u5668\u6307\u793a\u4efb\u4f55\u6765\u6e90(\u57df\u540d\u3001\u534f\u8bae\u6216\u7aef\u53e3)\uff0c\u9664\u4e86\u672c\u670d\u52a1\u5668\u4e4b\u5916\u7684\u4efb\u4f55\u6d4f\u89c8\u5668\u5e94\u5141\u8bb8\u52a0\u8f7d\u8d44\u6e90\u3002","type":"boolean"},"i18n_lang":{"default":"en","description":"\u8bbe\u7f6e Swagger \u591a\u8bed\u8a00\u7684\u7248\u672c\uff0c\u53ef\u4e3a en \u6216 zh\u3002","enum":["en","zh"],"readOnly":true,"type":"string"},"bootstrap_users_file":{"default":"","description":"\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 api_key.bootstrap_file\u3002","type":"string"}},"type":"object"},"broker.sys_topics":{"properties":{"sys_msg_interval":{"default":"1m","description":"\u53d1\u9001 `$SYS` \u4e3b\u9898\u7684\u95f4\u9694\u65f6\u95f4\u3002","oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"sys_heartbeat_interval":{"default":"30s","description":"\u53d1\u9001\u5fc3\u8df3\u7cfb\u7edf\u6d88\u606f\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u5b83\u5305\u62ec\uff1a<br/>  - `$SYS/brokers/<node>/uptime`<br/>  - `$SYS/brokers/<node>/datetime`","oneOf":[{"example":"12m","type":"string"},{"enum":["disabled"],"type":"string"}]},"sys_event_messages":{"description":"\u5ba2\u6237\u7aef\u4e8b\u4ef6\u6d88\u606f\u3002","$ref":"#/components/schemas/broker.event_names"}},"type":"object"},"authz.node_resource_metrics":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0\u3002","example":"emqx@127.0.0.1","type":"string"},"metrics":{"description":"\u8d44\u6e90\u7edf\u8ba1\u6307\u6807\u3002","$ref":"#/components/schemas/authz.resource_metrics"}},"type":"object"},"emqx_gateway_api.gateway_node_status":{"properties":{"node":{"description":"\u8282\u70b9\u540d\u79f0","enum":["emqx@127.0.0.1"],"type":"string"},"status":{"description":"\u7f51\u5173\u542f\u7528\u72b6\u6001","enum":["running","stopped","unloaded"],"type":"string"},"max_connections":{"description":"\u6700\u5927\u8fde\u63a5\u6570","minimum":1,"type":"integer"},"current_connections":{"description":"\u5f53\u524d\u8fde\u63a5\u6570","minimum":0,"type":"integer"}},"type":"object"},"emqx_gateway_api.lwm2m":{"required":["translators","xml_dir"],"properties":{"name":{"description":"\u7f51\u5173\u540d\u79f0","enum":["lwm2m"],"type":"string"},"xml_dir":{"description":"LwM2M Resource \u5b9a\u4e49\u7684 XML \u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u3002","example":"/etc/emqx/lwm2m_xml","type":"string"},"lifetime_min":{"default":"15s","description":"\u5141\u8bb8 LwM2M \u5ba2\u6237\u7aef\u5141\u8bb8\u8bbe\u7f6e\u7684\u5fc3\u8df3\u6700\u5c0f\u503c\u3002","example":"12m","type":"string"},"lifetime_max":{"default":"86400s","description":"\u5141\u8bb8 LwM2M \u5ba2\u6237\u7aef\u5141\u8bb8\u8bbe\u7f6e\u7684\u5fc3\u8df3\u6700\u5927\u503c\u3002","example":"12m","type":"string"},"qmode_time_window":{"default":"22s","description":"\u5728QMode\u6a21\u5f0f\u4e0b\uff0cLwM2M\u7f51\u5173\u8ba4\u4e3a\u7f51\u7edc\u94fe\u63a5\u6709\u6548\u7684\u65f6\u95f4\u7a97\u53e3\u7684\u503c\u3002<br/>\u4f8b\u5982\uff0c\u5728\u6536\u5230\u5ba2\u6237\u7aef\u7684\u66f4\u65b0\u4fe1\u606f\u540e\uff0c\u5728\u8fd9\u4e2a\u65f6\u95f4\u7a97\u53e3\u5185\u7684\u4efb\u4f55\u4fe1\u606f\u90fd\u4f1a\u76f4\u63a5\u53d1\u9001\u5230LwM2M\u5ba2\u6237\u7aef\uff0c\u800c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u7a97\u53e3\u7684\u6240\u6709\u4fe1\u606f\u90fd\u4f1a\u6682\u65f6\u50a8\u5b58\u5728\u5185\u5b58\u4e2d\u3002","example":"1h","type":"string"},"auto_observe":{"default":false,"description":"\u81ea\u52a8 Observe REGISTER \u6570\u636e\u5305\u7684 Object \u5217\u8868\u3002","type":"boolean"},"update_msg_publish_condition":{"default":"contains_object_list","description":"\u53d1\u5e03UPDATE\u4e8b\u4ef6\u6d88\u606f\u7684\u7b56\u7565\u3002<br/><br/>  - always: \u53ea\u8981\u6536\u5230 UPDATE \u8bf7\u6c42\uff0c\u5c31\u53d1\u9001\u66f4\u65b0\u4e8b\u4ef6\u3002<br/><br/>  - contains_object_list: \u4ec5\u5f53 UPDATE \u8bf7\u6c42\u643a\u5e26 Object \u5217\u8868\u65f6\u624d\u53d1\u9001\u66f4\u65b0\u4e8b\u4ef6\u3002","enum":["always","contains_object_list"],"type":"string"},"translators":{"description":"LwM2M \u7f51\u5173\u8ba2\u9605/\u53d1\u5e03\u6d88\u606f\u7684\u4e3b\u9898\u6620\u5c04\u914d\u7f6e\u3002","$ref":"#/components/schemas/gateway.lwm2m_translators"},"mountpoint":{"default":"lwm2m/${endpoint_name}/","description":"","type":"string"},"enable":{"default":true,"description":"\u662f\u5426\u542f\u7528\u8be5\u7f51\u5173","type":"boolean"},"enable_stats":{"default":true,"description":"\u662f\u5426\u5f00\u542f\u5ba2\u6237\u7aef\u7edf\u8ba1","type":"boolean"},"idle_timeout":{"default":"30s","description":"\u5ba2\u6237\u7aef\u8fde\u63a5\u8fc7\u7a0b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u8be5\u914d\u7f6e\u7528\u4e8e\uff1a<br/>  1. \u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5ba2\u6237\u7aef\u8fdb\u7a0b\u5982\u679c\u5728\u8be5\u65f6\u95f4\u95f4\u9694\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u88ab\u76f4\u63a5\u5173\u95ed\u3002<br/>  2. \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5ba2\u6237\u8fdb\u7a0b\u5982\u679c\u5728\u8fd9\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u5ba2\u6237\u8bf7\u6c42\uff0c\u5c06\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4ee5\u8282\u7701\u8d44\u6e90\u3002","example":"12m","type":"string"},"clientinfo_override":{"description":"ClientInfo \u91cd\u5199\u3002","$ref":"#/components/schemas/gateway.clientinfo_override"},"authentication":{"description":"\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u5bf9\u8be5\u7f51\u5173\u4e0b\u6240\u4ee5\u7684\u76d1\u542c\u5668\u751f\u6548\u3002\u5982\u679c\u6bcf\u4e2a\u76d1\u542c\u5668\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684\u8ba4\u8bc1\u5668\uff0c\u9700\u8981\u914d\u7f6e\u76d1\u542c\u5668\u4e0b\u7684 <code>authentication</code> \u5b57\u6bb5\u3002","oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"listeners":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"}]},"type":"array"}},"type":"object"},"zone.force_shutdown":{"properties":{"enable":{"description":"\u542f\u7528 `force_shutdown` \u529f\u80fd\u3002","type":"boolean"},"max_message_queue_len":{"description":"\u6d88\u606f\u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002","minimum":0,"type":"integer"},"max_heap_size":{"description":"Heap \u7684\u603b\u5927\u5c0f\u3002","example":"1024KB","type":"string"}},"type":"object"}},"securitySchemes":{"basicAuth":{"description":"Authorize with [API Keys](https://www.emqx.io/docs/en/v5.0/admin/api.html#api-keys)","scheme":"basic","type":"http"}}},"info":{"title":"EMQX API","version":"5.0"},"openapi":"3.0.0","paths":{"/gateway/{name}/authentication/users":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u7528\u6237\u5217\u8868\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}},{"description":"\u4f7f\u7528\u7528\u6237 ID \uff08username \u6216 clientid\uff09\u6a21\u7cca\u641c\u7d22\uff0c\u4ec5\u652f\u6301\u6309\u5b50\u4e32\u7684\u65b9\u5f0f\u8fdb\u884c\u641c\u7d22\u3002","example":"test_","in":"query","name":"like_user_id","required":false,"schema":{"type":"string"}},{"description":"\u662f\u5426\u662f\u8d85\u7ea7\u7528\u6237","in":"query","name":"is_superuser","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"data":[{"user_id":"user1"},{"is_superuser":true,"user_id":"user2"}],"meta":{"count":300,"limit":20,"page":0}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_users"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List users for a Gateway Authenticator","tags":["Gateway Authentication"]},"post":{"deprecated":true,"description":"\u6dfb\u52a0\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add User for a Gateway Authenticator","tags":["Gateway Authentication"]}},"/authentication/{id}/position/{position}":{"put":{"description":"\u66f4\u6539\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u7684\u987a\u5e8f\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u8005\u5728\u94fe\u4e2d\u7684\u4f4d\u7f6e\u3002\u53ef\u80fd\u7684\u503c\u662f 'front', 'rear', 'before:{other_authenticator}', 'after:{other_authenticator}'","example":"before:password_based:built_in_database","in":"path","name":"position","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Authenticator moved"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/metrics":{"get":{"description":"EMQX metrics","parameters":[{"description":"Whether to aggregate all nodes Metrics","in":"query","name":"aggregate","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_metrics.node_metrics"},"type":"array"},{"$ref":"#/components/schemas/emqx_mgmt_api_metrics.aggregated_metrics"}]}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/authentication/{id}/users/{user_id}":{"delete":{"description":"\u5220\u9664\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"User deleted"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"get":{"description":"\u83b7\u53d6\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"put":{"description":"\u66f4\u65b0\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/authentication/{id}/import_users":{"post":{"description":"\u4e3a\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u5bfc\u5165\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Users imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/mqtt/delayed":{"get":{"description":"\u67e5\u770b\u6162\u8ba2\u9605\u72b6\u6001","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/modules.delayed"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"put":{"description":"\u5f00\u542f\u6216\u8005\u5173\u95ed\u529f\u80fd\uff0c\u6216\u8005\u8bbe\u7f6e\u5ef6\u8fdf\u6d88\u606f\u6570\u91cf\u4e0a\u9650","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/modules.delayed"}}}},"responses":{"200":{"description":"\u5f00\u542f\u6216\u8005\u5173\u95ed\u529f\u80fd\u64cd\u4f5c\u6210\u529f","content":{"application/json":{"schema":{"$ref":"#/components/schemas/modules.delayed"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"\u6570\u91cf\u4e0a\u9650\u4e0d\u5408\u6cd5","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/configs/limiter":{"get":{"description":"Get the sub-configurations under *limiter*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/limiter.limiter"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *limiter*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/limiter.limiter"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/limiter.limiter"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateways/lwm2m/clients/{clientid}/observe":{"post":{"description":"Observe/Un-Observe \u6307\u5b9a\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":true,"in":"query","name":"enable","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Observe a Resource","tags":["LwM2M Gateways"]}},"/plugins/{name}":{"delete":{"description":"Uninstall a plugin package.","parameters":[{"$ref":"#/components/parameters/plugins.name"}],"responses":{"204":{"description":"Uninstall successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Plugin Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]},"get":{"description":"Describe a plugin according `release.json` and `README.md`.","parameters":[{"$ref":"#/components/parameters/plugins.name"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins.plugin"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Plugin Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]}},"/bridges/{id}/metrics/reset":{"put":{"description":"\u901a\u8fc7 ID \u91cd\u7f6e Bridge \u7684\u8ba1\u6570","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Reset success"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"RPC Call Failed","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Reset Bridge Metrics","tags":["Bridges"]}},"/status":{"get":{"description":"\u4f5c\u4e3a\u8282\u70b9\u7684\u5065\u5eb7\u68c0\u67e5\u3002 \u8fd4\u56de\u4e00\u4e2a\u7eaf\u6587\u672c\u7684\u54cd\u5e94\uff0c\u63cf\u8ff0\u8282\u70b9\u7684\u72b6\u6001\u3002<br/><br/>\u5982\u679c EMQX \u5e94\u7528\u7a0b\u5e8f\u5df2\u7ecf\u542f\u52a8\u5e76\u8fd0\u884c\uff0c\u8fd4\u56de\u72b6\u6001\u4ee3\u7801 200\uff0c\u5426\u5219\u8fd4\u56de 503\u3002<br/><br/>\u8fd9\u4e2aAPI\u662f\u5728v5.0.10\u4e2d\u5f15\u5165\u7684\u3002<br/>GET `/status`\u7aef\u70b9\uff08\u6ca1\u6709`/api/...`\u524d\u7f00\uff09\u4e5f\u662f\u8fd9\u4e2a\u7aef\u70b9\u7684\u4e00\u4e2a\u522b\u540d\uff0c\u5de5\u4f5c\u65b9\u5f0f\u76f8\u540c\u3002 \u8fd9\u4e2a\u522b\u540d\u4ecev5.0.0\u5f00\u59cb\u5c31\u6709\u4e86\u3002","parameters":[],"responses":{"200":{"description":"Node emqx@127.0.0.1 is started<br/>emqx is running"},"503":{"description":"Node emqx@127.0.0.1 is stopped<br/>emqx is not_running"}},"security":[],"tags":["Status"]}},"/topics/{topic}":{"get":{"description":"Lookup topic info by name","parameters":[{"description":"Topic Name","example":"","in":"path","name":"topic","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_topics.topic"},"type":"array"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["TOPIC_NOT_FOUND"],"type":"string"},"message":{"description":"Topic not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Topics"]}},"/stats":{"get":{"description":"EMQX stats","parameters":[{"$ref":"#/components/parameters/emqx_mgmt_api_stats.aggregate"}],"responses":{"200":{"description":"List stats ok","content":{"application/json":{"schema":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_stats.aggergate_data"},"type":"array"},{"$ref":"#/components/schemas/emqx_mgmt_api_stats.node_stats_data"}]}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/monitor_current":{"get":{"description":"Current status. Gauge and rate.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_dashboard_monitor_api.sampler_current"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/listeners/{listener_id}/authentication/{id}":{"delete":{"description":"\u5220\u9664\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Authenticator deleted"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"get":{"description":"\u83b7\u53d6\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"put":{"description":"\u66f4\u65b0\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"204":{"description":"Authenticator updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"ALREADY_EXISTS","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/authorization/sources/built_in_database/rules/users":{"get":{"description":"\u83b7\u53d6\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7528\u6237\u540d\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"\u4f7f\u7528\u5b57\u4e32\u5339\u914d\u6a21\u7cca\u641c\u7d22\u7528\u6237\u540d","in":"query","name":"like_username","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"Username","value":{"data":[{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}],"username":"user1"}],"meta":{"count":1,"limit":100,"page":1}}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.username_response_data"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"post":{"description":"\u6dfb\u52a0\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u7528\u6237\u540d\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"Username","value":[{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}],"username":"user1"}]}},"schema":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_username"},"type":"array"}}}},"responses":{"204":{"description":"Created"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad username or bad rule schema","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"ALREADY_EXISTS","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/nodes/{node}/stats":{"get":{"description":"Get node stats","parameters":[{"$ref":"#/components/parameters/emqx_mgmt_api_nodes.node_name"}],"responses":{"200":{"description":"Get node stats successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_stats.node_stats_data"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SOURCE_ERROR"],"type":"string"},"message":{"description":"Node error","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Nodes"]}},"/exhooks/{name}":{"delete":{"description":"\u5220\u9664 Exhook \u670d\u52a1\u5668","parameters":[{"description":"Exhook \u670d\u52a1\u5668\u7684\u540d\u79f0","example":"default","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":""},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Server not found","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_RPC"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]},"get":{"description":"\u67e5\u770b Exhook \u670d\u52a1\u5668\u8be6\u7ec6\u4fe1\u606f","parameters":[{"description":"Exhook \u670d\u52a1\u5668\u7684\u540d\u79f0","example":"default","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/exhook.detail_server_info"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Server not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]},"put":{"description":"\u66f4\u65b0 Exhook \u670d\u52a1\u5668","parameters":[{"description":"Exhook \u670d\u52a1\u5668\u7684\u540d\u79f0","example":"default","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"example":{"auto_reconnect":"60s","enable":true,"failed_action":"deny","name":"default","pool_size":8,"request_timeout":"5s","ssl":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","enable":false,"keyfile":"/etc/emqx/certs/key.pem"},"url":"http://127.0.0.1:8081"},"schema":{"$ref":"#/components/schemas/exhook.server_config"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/exhook.detail_server_info"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Server not found","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_RPC"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]}},"/prometheus":{"get":{"description":"Get Prometheus config info","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"example":{"enable":true,"headers":{"header-name":"header-value"},"interval":"15s","job_name":"${name}/instance/${name}~${host}","mnesia_collector":"enabled","push_gateway_server":"http://127.0.0.1:9091","vm_dist_collector":"enabled","vm_memory_collector":"enabled","vm_msacc_collector":"enabled","vm_statistics_collector":"enabled","vm_system_info_collector":"enabled"},"schema":{"$ref":"#/components/schemas/prometheus.prometheus"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Monitor"]},"put":{"description":"Update Prometheus config","parameters":[],"requestBody":{"content":{"application/json":{"example":{"enable":true,"headers":{"header-name":"header-value"},"interval":"15s","job_name":"${name}/instance/${name}~${host}","mnesia_collector":"enabled","push_gateway_server":"http://127.0.0.1:9091","vm_dist_collector":"enabled","vm_memory_collector":"enabled","vm_msacc_collector":"enabled","vm_statistics_collector":"enabled","vm_system_info_collector":"enabled"},"schema":{"$ref":"#/components/schemas/prometheus.prometheus"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"enable":true,"headers":{"header-name":"header-value"},"interval":"15s","job_name":"${name}/instance/${name}~${host}","mnesia_collector":"enabled","push_gateway_server":"http://127.0.0.1:9091","vm_dist_collector":"enabled","vm_memory_collector":"enabled","vm_msacc_collector":"enabled","vm_statistics_collector":"enabled","vm_system_info_collector":"enabled"},"schema":{"$ref":"#/components/schemas/prometheus.prometheus"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Monitor"]}},"/mqtt/auto_subscribe":{"get":{"description":"\u83b7\u53d6\u81ea\u52a8\u8ba2\u9605\u4e3b\u9898\u5217\u8868","parameters":[],"responses":{"200":{"description":"\u8bbe\u5907\u767b\u5f55\u6210\u529f\u4e4b\u540e\uff0c\u901a\u8fc7\u9884\u8bbe\u7684\u8ba2\u9605\u8868\u793a\u7b26\uff0c\u4e3a\u8bbe\u5907\u81ea\u52a8\u5b8c\u6210\u8ba2\u9605\u3002\u652f\u6301\u4f7f\u7528\u5360\u4f4d\u7b26\u3002","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/auto_subscribe.topic"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Auto Subscribe"]},"put":{"description":"\u66f4\u65b0\u81ea\u52a8\u8ba2\u9605\u4e3b\u9898\u5217\u8868","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/auto_subscribe.topic"},"type":"array"}}}},"responses":{"200":{"description":"\u8bbe\u5907\u767b\u5f55\u6210\u529f\u4e4b\u540e\uff0c\u901a\u8fc7\u9884\u8bbe\u7684\u8ba2\u9605\u8868\u793a\u7b26\uff0c\u4e3a\u8bbe\u5907\u81ea\u52a8\u5b8c\u6210\u8ba2\u9605\u3002\u652f\u6301\u4f7f\u7528\u5360\u4f4d\u7b26\u3002","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/auto_subscribe.topic"},"type":"array"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["EXCEED_LIMIT"],"type":"string"},"message":{"description":"\u8d85\u51fa\u81ea\u5b9a\u8ba2\u9605\u4e3b\u9898\u5217\u8868\u957f\u5ea6\u9650\u5236","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Auto Subscribe"]}},"/gateways/{name}/listeners/{id}/authentication":{"delete":{"description":"\u79fb\u9664\u6307\u5b9a\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Listener's Authenticator","tags":["Gateway Listeners"]},"get":{"description":"\u83b7\u53d6\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"204":{"description":"Authentication or listener does not existed"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Listener's Authenticator","tags":["Gateway Listeners"]},"post":{"description":"\u4e3a\u6307\u5b9a\u76d1\u542c\u5668\u5f00\u542f\u8ba4\u8bc1\u5668\u4ee5\u5b9e\u73b0\u5ba2\u6237\u7aef\u8ba4\u8bc1\u7684\u80fd\u529b\u3002<br/><br/>\u5f53\u67d0\u4e00\u76d1\u542c\u5668\u5f00\u542f\u8ba4\u8bc1\u540e\uff0c\u6240\u6709\u8fde\u63a5\u5230\u8be5\u76d1\u542c\u5668\u7684\u5ba2\u6237\u7aef\u4f1a\u4f7f\u7528\u8be5\u8ba4\u8bc1\u5668\u8fdb\u884c\u8ba4\u8bc1\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create an Authenticator for a Listener","tags":["Gateway Listeners"]},"put":{"description":"\u66f4\u65b0\u6307\u5b9a\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u6216\u505c\u7528/\u542f\u7528\u8be5\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update the Listener Authenticator configs","tags":["Gateway Listeners"]}},"/gateways/{name}/listeners":{"get":{"description":"\u83b7\u53d6\u7f51\u5173\u76d1\u542c\u5668\u5217\u8868\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u76d1\u542c\u5668\u6240\u6709\u7684\u914d\u7f6e\uff08\u5305\u62ec\u8be5\u76d1\u542c\u5668\u4e0a\u7684\u8ba4\u8bc1\u5668\uff09\uff0c\u540c\u65f6\u4e5f\u4f1a\u8fd4\u56de\u8be5\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u8fd0\u884c\u7684\u72b6\u6001\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"dtls","udp_options":{"active_n":100,"backlog":1024}},{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"dtls"},{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"tcp"},{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"status":{"current_connections":10,"max_connections":1024000,"running":true},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"},{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"},{"bind":"22212","name":"udp-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}],"schema":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api_listeners.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.tcp_listener"}]},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List All Listeners","tags":["Gateway Listeners"]},"post":{"description":"\u4e3a\u6307\u5b9a\u7f51\u5173\u6dfb\u52a0\u76d1\u542c\u5668\u3002<br/><br/>\u6ce8\uff1a\u5bf9\u4e8e\u67d0\u7f51\u5173\u4e0d\u652f\u6301\u7684\u76d1\u542c\u5668\u7c7b\u578b\uff0c\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de `400: BAD_REQUEST`\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add a Listener","tags":["Gateway Listeners"]}},"/configs/sys_topics":{"get":{"description":"Get the sub-configurations under *sys_topics*","parameters":[],"responses":{"200":{"description":"\u7cfb\u7edf\u4e3b\u9898\u914d\u7f6e\u3002","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sys_topics"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *sys_topics*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sys_topics"}}}},"responses":{"200":{"description":"\u7cfb\u7edf\u4e3b\u9898\u914d\u7f6e\u3002","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sys_topics"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateway/lwm2m/clients/{clientid}/read":{"post":{"deprecated":true,"description":"\u53d1\u9001\u8bfb\u6307\u4ee4\u5230\u67d0\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Read Value from a Resource Path","tags":["LwM2M Gateways"]}},"/authorization/sources/built_in_database/rules/clients":{"get":{"description":"\u83b7\u53d6\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6240\u6709\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"\u4f7f\u7528\u5b57\u4e32\u5339\u914d\u6a21\u7cca\u641c\u7d22\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26","in":"query","name":"like_clientid","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"ClientID","value":{"data":[{"clientid":"client1","rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}],"meta":{"count":1,"limit":100,"page":1}}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.clientid_response_data"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"post":{"description":"\u6dfb\u52a0\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"ClientID","value":[{"clientid":"client1","rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}]}},"schema":{"items":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_clientid"},"type":"array"}}}},"responses":{"204":{"description":"Created"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad clientid or bad rule schema","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/mqtt/delayed/messages/{node}/{msgid}":{"delete":{"description":"\u5220\u9664\u5ef6\u8fdf\u6d88\u606f","parameters":[{"description":"\u6d88\u606f\u7684\u6765\u6e90\u8282\u70b9","in":"path","name":"node","required":true,"schema":{"type":"string"}},{"description":"\u5ef6\u8fdf\u6d88\u606f ID","in":"path","name":"msgid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Delete delayed message success"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["MESSAGE_ID_SCHEMA_ERROR","INVALID_NODE"],"type":"string"},"message":{"description":"\u6d88\u606f ID \u683c\u5f0f\u9519\u8bef","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["MESSAGE_ID_NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u627e\u5230\u5bf9\u5e94\u6d88\u606f","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"get":{"description":"\u67e5\u770b\u5ef6\u8fdf\u6d88\u606f","parameters":[{"description":"\u6d88\u606f\u7684\u6765\u6e90\u8282\u70b9","in":"path","name":"node","required":true,"schema":{"type":"string"}},{"description":"\u5ef6\u8fdf\u6d88\u606f ID","in":"path","name":"msgid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_delayed_api.message_without_payload"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["MESSAGE_ID_SCHEMA_ERROR","INVALID_NODE"],"type":"string"},"message":{"description":"\u6d88\u606f ID \u683c\u5f0f\u9519\u8bef","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["MESSAGE_ID_NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u627e\u5230\u5bf9\u5e94\u6d88\u606f","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/gateway/{name}/authentication":{"delete":{"deprecated":true,"description":"\u5220\u9664\u6307\u5b9a\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Gateway Authenticator","tags":["Gateway Authentication"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u8ba4\u8bc1\u5668\u7684\u914d\u7f6e<br/>\u5f53\u7f51\u5173\u6216\u8ba4\u8bc1\u672a\u542f\u7528\u65f6\uff0c\u8fd4\u56de 404\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"204":{"description":"Authenticator doesn't initiated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Authenticator Configuration","tags":["Gateway Authentication"]},"post":{"deprecated":true,"description":"\u4e3a\u6307\u5b9a\u7f51\u5173\u5f00\u542f\u8ba4\u8bc1\u5668\u5b9e\u73b0\u5ba2\u6237\u7aef\u8ba4\u8bc1\u7684\u529f\u80fd\u3002<br/><br/>\u5f53\u672a\u914d\u7f6e\u8ba4\u8bc1\u5668\u6216\u5173\u95ed\u8ba4\u8bc1\u5668\u65f6\uff0c\u5219\u8ba4\u4e3a\u5141\u8bb8\u6240\u6709\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u3002<br/><br/>\u6ce8\uff1a\u5728\u7f51\u5173\u4e2d\u4ec5\u652f\u6301\u6dfb\u52a0\u4e00\u4e2a\u8ba4\u8bc1\u5668\uff0c\u800c\u4e0d\u662f\u50cf MQTT \u4e00\u6837\u5141\u8bb8\u914d\u7f6e\u591a\u4e2a\u8ba4\u8bc1\u5668\u6784\u6210\u8ba4\u8bc1\u94fe\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create an Authenticator for a Gateway","tags":["Gateway Authentication"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u8ba4\u8bc1\u5668\u7684\u914d\u7f6e\uff0c\u6216\u505c\u7528\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update Authenticator Configuration","tags":["Gateway Authentication"]}},"/monitor_current/nodes/{node}":{"get":{"description":"Node current status. Gauge and rate.","parameters":[{"description":"EMQX node name.","example":"emqx@127.0.0.1","in":"path","name":"node","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_dashboard_monitor_api.sampler_current"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Node not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/telemetry/status":{"get":{"description":"\u83b7\u53d6\u9065\u6d4b\u72b6\u6001","parameters":[],"responses":{"200":{"description":"\u83b7\u53d6\u9065\u6d4b\u72b6\u6001","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_telemetry_api.status"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Telemetry"]},"put":{"description":"\u66f4\u65b0\u9065\u6d4b\u72b6\u6001","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_telemetry_api.status"}}}},"responses":{"200":{"description":"\u66f4\u65b0\u9065\u6d4b\u72b6\u6001","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_telemetry_api.status"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Telemetry"]}},"/gateway/{name}/clients/{clientid}/subscriptions":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u67d0\u5ba2\u6237\u7aef\u7684\u4e3b\u9898\u8ba2\u9605\u5217\u8868","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"general_subscription_list":{"summary":"A General Subscription List","value":[{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}]},"stomp_subscription_list":{"summary":"The Stomp Subscription List","value":["example_stomp_subscription"]}},"schema":{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Client's Subscription","tags":["Gateway Clients"]},"post":{"deprecated":true,"description":"\u4e3a\u67d0\u5ba2\u6237\u7aef\u65b0\u589e\u8ba2\u9605\u5173\u7cfb","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"general_subscription":{"summary":"A General Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}},"stomp_subscription":{"summary":"A Stomp Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"sub_props":{"subid":"10"},"topic":"stomp/topic"}}},"schema":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"general_subscription":{"summary":"A General Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}},"stomp_subscription":{"summary":"A Stomp Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"sub_props":{"subid":"10"},"topic":"stomp/topic"}}},"schema":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add Subscription for Client","tags":["Gateway Clients"]}},"/authentication/{id}/users":{"get":{"description":"\u83b7\u53d6\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"\u4f7f\u7528\u7528\u6237 ID \uff08username \u6216 clientid\uff09\u6a21\u7cca\u67e5\u8be2\u3002","in":"query","name":"like_user_id","required":false,"schema":{"type":"string"}},{"description":"\u662f\u5426\u662f\u8d85\u7ea7\u7528\u6237","in":"query","name":"is_superuser","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"data":[{"user_id":"user1"},{"is_superuser":true,"user_id":"user2"}],"meta":{"count":300,"limit":20,"page":0}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_users"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"post":{"description":"\u4e3a\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u521b\u5efa\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/cluster":{"get":{"description":"Get cluster info","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"name":{"description":"Cluster name","type":"string"},"nodes":{"description":"Node name","items":{"type":"string"},"type":"array"},"self":{"description":"Self node name","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Cluster"]}},"/plugins/{name}/{action}":{"put":{"description":"start/stop a installed plugin.<br/>- **start**: start the plugin.<br/>- **stop**: stop the plugin.<br/>","parameters":[{"$ref":"#/components/parameters/plugins.name"},{"description":"Action","in":"path","name":"action","required":true,"schema":{"enum":["start","stop"],"type":"string"}}],"responses":{"200":{"description":"OK"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Plugin Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]}},"/gateway/{name}/clients":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u7684\u5ba2\u6237\u7aef\u5217\u8868","parameters":[{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u7684\u8282\u70b9\u540d\u79f0","example":"","in":"query","name":"node","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef ID","example":"","in":"query","name":"clientid","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef Username","example":"","in":"query","name":"username","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef IP \u5730\u5740","example":"","in":"query","name":"ip_address","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u8fde\u63a5\u72b6\u6001","example":"","in":"query","name":"conn_state","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u534f\u8bae\u7248\u672c","example":"","in":"query","name":"proto_ver","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef `clean_start` \u6807\u8bb0","example":"","in":"query","name":"clean_start","required":false,"schema":{"type":"boolean"}},{"description":"\u5b50\u4e32\u5339\u914d\u5ba2\u6237\u7aef ID","example":"","in":"query","name":"like_clientid","required":false,"schema":{"type":"string"}},{"description":"\u5b50\u4e32\u5339\u914d \u5ba2\u6237\u7aef Username","example":"","in":"query","name":"like_username","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u8fde\u63a5\u521b\u5efa\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u8fde\u63a5\u521b\u5efa\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d LwM2M \u5ba2\u6237\u7aef Endpoint Name","example":"","in":"query","name":"endpoint_name","required":false,"schema":{"type":"string"}},{"description":"\u5b50\u4e32\u5339\u914d LwM2M \u5ba2\u6237\u7aef Endpoint Name","example":"","in":"query","name":"like_endpoint_name","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5fc3\u8df3\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684 LwM2M \u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_lifetime","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5fc3\u8df3\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684 LwM2M \u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_lifetime","required":false,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.exproto_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.lwm2m_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.coap_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.mqttsn_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.stomp_client"},"type":"array"}]},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Gateway's Clients","tags":["Gateway Clients"]}},"/gateways/{name}/clients/{clientid}":{"delete":{"description":"\u8e22\u51fa\u6307\u5b9a\u5ba2\u6237\u7aef","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Kicked"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Kick out Client","tags":["Gateway Clients"]},"get":{"description":"\u83b7\u53d6\u5ba2\u6237\u7aef\u4fe1\u606f","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"general_client":{"summary":"General Client Info","value":{"recv_pkt":1,"clean_start":true,"send_oct":61,"mailbox_len":0,"recv_cnt":1,"subscriptions_max":"infinity","connected":true,"proto_name":"STOMP","send_msg":0,"created_at":"2021-12-07T10:44:02.721+08:00","expiry_interval":0,"keepalive":0,"inflight_cnt":0,"recv_msg":0,"send_pkt":1,"mqueue_len":0,"reductions":72022,"clientid":"MzAyMzEzNTUwNzk1NDA1MzYyMzIwNzUxNjQwMTY1NzQ0NjE","is_bridge":false,"proto_ver":"1.0","recv_oct":56,"awaiting_rel_cnt":0,"subscriptions_cnt":0,"ip_address":"127.0.0.1","connected_at":"2021-12-07T10:44:02.721+08:00","awaiting_rel_max":"infinity","mqueue_max":"infinity","send_cnt":1,"node":"emqx@127.0.0.1","heap_size":4185,"inflight_max":"infinity","port":50675,"disconnected_at":null,"mqueue_dropped":0,"username":"guest"}},"lwm2m_client":{"summary":"LwM2M Client Info","value":{"recv_pkt":1,"clean_start":true,"send_oct":61,"mailbox_len":0,"recv_cnt":1,"subscriptions_max":"infinity","endpoint_name":"urn:imei:154928475237123","connected":true,"proto_name":"LwM2M","send_msg":0,"lifetime":86400,"created_at":"2021-12-07T10:44:02.721+08:00","expiry_interval":0,"keepalive":0,"inflight_cnt":0,"recv_msg":0,"send_pkt":1,"mqueue_len":0,"reductions":72022,"clientid":"MzAyMzEzNTUwNzk1NDA1MzYyMzIwNzUxNjQwMTY1NzQ0NjE","is_bridge":false,"proto_ver":"1.0","recv_oct":56,"awaiting_rel_cnt":0,"subscriptions_cnt":0,"ip_address":"127.0.0.1","connected_at":"2021-12-07T10:44:02.721+08:00","awaiting_rel_max":"infinity","mqueue_max":"infinity","send_cnt":1,"node":"emqx@127.0.0.1","heap_size":4185,"inflight_max":"infinity","port":50675,"disconnected_at":null,"mqueue_dropped":0,"username":"guest"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api_clients.exproto_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.lwm2m_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.coap_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.mqttsn_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.stomp_client"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Client Info","tags":["Gateway Clients"]}},"/publish/bulk":{"post":{"description":"\u6279\u91cf\u53d1\u5e03\u4e00\u7ec4\u6d88\u606f\u3002<br/><br/>\u53ef\u80fd\u7684 HTTP \u72b6\u6001\u7801\u5982\u4e0b\uff1a<br/><br/>200: \u6240\u6709\u7684\u6d88\u606f\u90fd\u88ab\u6210\u529f\u53d1\u9001\u5230\u81f3\u5c11\u4e00\u4e2a\u8ba2\u9605\u3002<br/><br/>202: \u81f3\u5c11\u6709\u4e00\u4e2a\u6d88\u606f\u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u8ba2\u9605\u3002<br/><br/>400: \u81f3\u5c11\u6709\u4e00\u4e2a\u6d88\u606f\u7f16\u7801\u9519\u8bef\uff0c\u5982\u975e\u6cd5\u4e3b\u9898\uff0c\u6216 QoS \u8d85\u51fa\u8303\u56f4\u7b49\u3002<br/><br/>503: \u81f3\u5c11\u6709\u4e00\u4e2a\u5c0f\u56e0\u4e3a\u670d\u52a1\u91cd\u542f\u7684\u539f\u56e0\u5bfc\u81f4\u8f6c\u53d1\u5931\u8d25\u3002<br/><br/><br/>\u8bf7\u6c42\u7684 Body \u6216\u8005 Body \u4e2d\u5305\u542b\u7684\u67d0\u4e2a\u6d88\u606f\u65e0\u6cd5\u901a\u8fc7 API \u89c4\u8303\u7684\u7c7b\u578b\u68c0\u67e5\u65f6\uff0cHTTP \u54cd\u5e94\u7684\u6d88\u606f\u4e0e\u53d1\u5e03\u5355\u4e2a\u6d88\u606f\u7684 API<br/> <code>/publish</code> \u662f\u4e00\u6837\u7684\u3002<br/>\u5982\u679c\u6240\u6709\u7684\u6d88\u606f\u90fd\u662f\u5408\u6cd5\u7684\uff0c\u90a3\u4e48 HTTP \u8fd4\u56de\u7684\u5185\u5bb9\u662f\u4e00\u4e2a JSON \u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u4e86\u8be5\u6d88\u606f\u8f6c\u53d1\u7684\u72b6\u6001\u3002","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_message"},"type":"array"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_ok"},"type":"array"}}}},"202":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"},"type":"array"},{"$ref":"#/components/schemas/emqx_mgmt_api_publish.bad_request"}]}}}},"503":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Publish"]}},"/nodes/{node}/bridges/{id}/{operation}":{"post":{"description":"\u5728\u67d0\u4e2a\u8282\u70b9\u4e0a\u505c\u6b62/\u91cd\u65b0\u542f\u52a8 Bridge\u3002","parameters":[{"description":"\u8282\u70b9\u540d\uff0c\u6bd4\u5982 emqx@127.0.0.1","example":"emqx@127.0.0.1","in":"path","name":"node","required":true,"schema":{"type":"string"}},{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u8282\u70b9\u53ef\u7528\u64cd\u4f5c\uff1a\u505c\u6b62\u3001\u91cd\u65b0\u542f\u52a8","example":"stop","in":"path","name":"operation","required":true,"schema":{"enum":["stop","restart"],"type":"string"}}],"responses":{"204":{"description":"Operation success"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_ID"],"type":"string"},"message":{"description":"Bad bridge ID","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["FORBIDDEN_REQUEST"],"type":"string"},"message":{"description":"forbidden operation","type":"string"}},"type":"object"}}}},"501":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_IMPLEMENTED"],"type":"string"},"message":{"description":"Not Implemented","type":"string"}},"type":"object"}}}},"503":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SERVICE_UNAVAILABLE"],"type":"string"},"message":{"description":"Service unavailable","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Stop/Restart Bridge","tags":["Bridges"]}},"/rule_test":{"post":{"description":"\u6d4b\u8bd5\u4e00\u4e2a\u89c4\u5219","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_test"}}}},"responses":{"200":{"description":"Rule Test Pass"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Invalid Parameters","type":"string"}},"type":"object"}}}},"412":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_MATCH"],"type":"string"},"message":{"description":"SQL Not Match","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Test a Rule","tags":["Rules"]}},"/authorization/sources/built_in_database/rules/clients/{clientid}":{"delete":{"description":"\u5220\u9664\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.clientid"}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad clientid","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"ClientID Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"get":{"description":"\u83b7\u53d6\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.clientid"}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"ClientID","value":{"clientid":"client1","rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_clientid"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"put":{"description":"\u66f4\u65b0\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u5ba2\u6237\u7aef\u6807\u8bc6\u7b26\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.clientid"}],"requestBody":{"content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"ClientID","value":{"clientid":"client1","rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_clientid"}}}},"responses":{"204":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad clientid or bad rule schema","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/configs/sysmon":{"get":{"description":"Get the sub-configurations under *sysmon*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sysmon"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *sysmon*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sysmon"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.sysmon"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/clients/{clientid}/authorization/cache":{"delete":{"description":"Clean client authz cache in the cluster.","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Clean client authz cache successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]},"get":{"description":"Get client authz cache in the cluster.","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.authz_cache"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/cluster/{node}/force_leave":{"delete":{"description":"Force leave node from cluster","parameters":[{"$ref":"#/components/parameters/cluster.node"}],"responses":{"204":{"description":"Delete successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Cluster"]}},"/gateways/{name}/listeners/{id}":{"delete":{"description":"\u5220\u9664\u6307\u5b9a\u76d1\u542c\u5668\u3002\u88ab\u5220\u9664\u7684\u76d1\u542c\u5668\u4e0b\u6240\u6709\u5df2\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u90fd\u4f1a\u79bb\u7ebf\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Listener","tags":["Gateway Listeners"]},"get":{"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u76d1\u542c\u5668\u7684\u914d\u7f6e\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Listener Configs","tags":["Gateway Listeners"]},"put":{"description":"\u66f4\u65b0\u67d0\u7f51\u5173\u76d1\u542c\u5668\u7684\u914d\u7f6e\u3002\u88ab\u66f4\u65b0\u7684\u76d1\u542c\u5668\u4f1a\u6267\u884c\u91cd\u542f\uff0c\u6240\u6709\u5df2\u8fde\u63a5\u5230\u8be5\u76d1\u542c\u5668\u4e0a\u7684\u5ba2\u6237\u7aef\u90fd\u4f1a\u88ab\u65ad\u5f00\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update the Listener Configs","tags":["Gateway Listeners"]}},"/gateways/{name}/enable/{enable}":{"put":{"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u7684\u57fa\u7840\u914d\u7f6e\u3001\u548c\u542f\u7528\u7684\u72b6\u6001\u3002<br/><br/>\u6ce8\uff1a\u8ba4\u8bc1\u3001\u548c\u76d1\u542c\u5668\u7684\u914d\u7f6e\u66f4\u65b0\u9700\u53c2\u8003\u5bf9\u5e94\u7684 API \u63a5\u53e3\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u662f\u5426\u5f00\u542f\u6b64\u7f51\u5173","example":true,"in":"path","name":"enable","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"Gateway configuration updated"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Enable or disable gateway","tags":["Gateways"]}},"/rules":{"get":{"description":"\u5217\u51fa\u6240\u6709\u89c4\u5219","parameters":[{"description":"\u6839\u636e\u89c4\u5219\u662f\u5426\u5f00\u542f\u6761\u4ef6\u8fc7\u6ee4","in":"query","name":"enable","required":false,"schema":{"type":"boolean"}},{"description":"\u6839\u636e\u89c4\u5219\u6765\u6e90 Topic \u8fc7\u6ee4, \u9700\u8981\u5b8c\u5168\u5339\u914d","in":"query","name":"from","required":false,"schema":{"type":"string"}},{"description":"\u6839\u636e\u89c4\u5219 id \u8fc7\u6ee4, \u4f7f\u7528\u5b50\u4e32\u6a21\u7cca\u5339\u914d","in":"query","name":"like_id","required":false,"schema":{"type":"string"}},{"description":"\u6839\u636e\u89c4\u5219\u6765\u6e90 Topic \u8fc7\u6ee4, \u4f7f\u7528\u5b50\u4e32\u6a21\u7cca\u5339\u914d","in":"query","name":"like_from","required":false,"schema":{"type":"string"}},{"description":"\u6839\u636e\u89c4\u5219\u63cf\u8ff0\u8fc7\u6ee4, \u4f7f\u7528\u5b50\u4e32\u6a21\u7cca\u5339\u914d","in":"query","name":"like_description","required":false,"schema":{"type":"string"}},{"description":"\u6839\u636e\u89c4\u5219\u6765\u6e90 Topic \u8fc7\u6ee4, \u4f7f\u7528 MQTT Topic \u5339\u914d","in":"query","name":"match_from","required":false,"schema":{"type":"string"}},{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"description":"\u5217\u51fa\u6240\u6709\u89c4\u5219","items":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_info"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Invalid Parameters","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Rules","tags":["Rules"]},"post":{"description":"\u901a\u8fc7\u6307\u5b9a ID \u521b\u5efa\u89c4\u5219","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_creation"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_info"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Invalid Parameters","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create a Rule","tags":["Rules"]}},"/authentication/{id}/status":{"get":{"description":"\u83b7\u53d6\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u7684\u72b6\u6001\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"status_metrics":{"summary":"Authn status metrics","value":{"metrics":{"failed":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0,"total":0},"node_error":[],"node_metrics":[{"metrics":{"failed":0,"matched":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"total":0},"node":"emqx@127.0.0.1"}],"node_resource_metrics":[{"metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"node":"emqx@127.0.0.1"}],"node_status":[{"node":"emqx@127.0.0.1","status":"connected"}],"resource_metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"status":"connected"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_schema.metrics_status_fields"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INTERNAL_ERROR"],"type":"string"},"message":{"description":"Internal Service Error","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/mqtt/topic_rewrite":{"get":{"description":"\u5217\u51fa\u5168\u90e8\u4e3b\u9898\u91cd\u5199\u89c4\u5219","parameters":[],"responses":{"200":{"description":"\u5217\u51fa\u5168\u90e8\u4e3b\u9898\u91cd\u5199\u89c4\u5219","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/modules.rewrite"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"put":{"description":"\u66f4\u65b0\u5168\u90e8\u4e3b\u9898\u91cd\u5199\u89c4\u5219","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/modules.rewrite"},"type":"array"}}}},"responses":{"200":{"description":"\u66f4\u65b0\u5168\u90e8\u4e3b\u9898\u91cd\u5199\u89c4\u5219","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/modules.rewrite"},"type":"array"}}}},"413":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["EXCEED_LIMIT"],"type":"string"},"message":{"description":"\u8d85\u51fa\u4e3b\u9898\u91cd\u5199\u89c4\u5219\u6570\u91cf\u4e0a\u9650","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/gateways":{"get":{"description":"\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u6307\u5b9a\u6216\u6240\u6709\u7f51\u5173\u7684\u6982\u89c8\u72b6\u6001\uff0c<br/>\u5305\u62ec\u5f53\u524d\u72b6\u6001\u3001\u8fde\u63a5\u6570\u3001\u76d1\u542c\u5668\u72b6\u6001\u7b49\u3002","parameters":[{"description":"\u901a\u8fc7\u7f51\u5173\u72b6\u6001\u7b5b\u9009<br/><br/>\u53ef\u9009\u503c\u4e3a `running`\u3001`stopped`\u3001`unloaded`","example":"running","in":"query","name":"status","required":false,"schema":{"enum":["running","stopped","unloaded"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"name":"coap","status":"unloaded"},{"name":"exproto","status":"unloaded"},{"created_at":"2021-12-08T14:41:26.171+08:00","current_connections":0,"listeners":[{"id":"lwm2m:udp:default","name":"default","running":true,"type":"udp"}],"max_connections":1024000,"name":"lwm2m","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"started_at":"2021-12-08T14:41:26.202+08:00","status":"running"},{"created_at":"2021-12-08T14:41:45.071+08:00","current_connections":0,"listeners":[{"id":"mqttsn:udp:default","name":"default","running":false,"type":"udp"}],"max_connections":1024000,"name":"mqttsn","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"status":"stopped","stopped_at":"2021-12-08T14:56:35.576+08:00"},{"created_at":"2021-12-08T14:42:15.272+08:00","current_connections":0,"listeners":[{"id":"stomp:tcp:default","name":"default","running":true,"type":"tcp"}],"max_connections":1024000,"name":"stomp","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"started_at":"2021-12-08T14:42:15.274+08:00","status":"running"}],"schema":{"items":{"$ref":"#/components/schemas/emqx_gateway_api.gateway_overview"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List All Gateways","tags":["Gateways"]}},"/mqtt/topic_metrics/{topic}":{"delete":{"description":"\u5220\u9664\u4e3b\u9898\u76d1\u63a7\u6570\u636e","parameters":[{"description":"\u4e3b\u9898\u5b57\u7b26\u4e32\u3002\u6ce8\u610f\uff1a\u4e3b\u9898\u5b57\u7b26\u4e32\u5728url\u8def\u5f84\u4e2d\u5fc5\u987b\u7f16\u7801","example":"testtopic/1","in":"path","name":"topic","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"\u5220\u9664\u4e3b\u9898\u76d1\u63a7\u6570\u636e"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["TOPIC_NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u627e\u5230\u3002\u4e3b\u9898\u76d1\u63a7\u6570\u636e\u672a\u627e\u5230","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"get":{"description":"\u83b7\u53d6\u4e3b\u9898\u76d1\u63a7\u6570\u636e","parameters":[{"description":"\u4e3b\u9898\u5b57\u7b26\u4e32\u3002\u6ce8\u610f\uff1a\u4e3b\u9898\u5b57\u7b26\u4e32\u5728url\u8def\u5f84\u4e2d\u5fc5\u987b\u7f16\u7801","example":"testtopic/1","in":"path","name":"topic","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"\u4e3b\u9898","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_topic_metrics_api.topic_metrics"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["TOPIC_NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u627e\u5230\u3002\u4e3b\u9898\u76d1\u63a7\u6570\u636e\u672a\u627e\u5230","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/bridges_probe":{"post":{"description":"\u901a\u8fc7\u7ed9\u5b9a\u7684 ID \u6d4b\u8bd5\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6865\u63a5\u3002 </br><br/>ID \u7684\u683c\u5f0f\u5fc5\u987b\u4e3a \u2019{type}:{name}\u201d","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","name":"mqtt_example","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","name":"webhook_example","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.post"},{"$ref":"#/components/schemas/bridge_webhook.post"}]}}}},"responses":{"204":{"description":"Test bridge OK"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["TEST_FAILED"],"type":"string"},"message":{"description":"bridge test failed","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Test creating bridge","tags":["Bridges"]}},"/monitor/nodes/{node}":{"get":{"description":"List the monitor data on the node.","parameters":[{"description":"EMQX node name.","example":"emqx@127.0.0.1","in":"path","name":"node","required":true,"schema":{"type":"string"}},{"description":"The latest N seconds data. Like 300 for 5 min.","example":300,"in":"query","name":"latest","required":false,"schema":{"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_dashboard_monitor_api.sampler"},"type":"array"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Node not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/prometheus/stats":{"get":{"description":"Get Prometheus Data","parameters":[],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}},"text/plain":{"schema":{"type":"string"}}},"description":"Get Prometheus Data"}},"security":[],"tags":["Monitor"]}},"/trace/{name}/log_detail":{"get":{"description":"get trace log file's metadata, such as size, last update time","parameters":[{"$ref":"#/components/parameters/trace.name"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/trace.log_file_detail"},"type":"array"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Trace Name Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/authentication/{id}":{"delete":{"description":"\u5220\u9664\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Authenticator deleted"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"get":{"description":"\u83b7\u53d6\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"put":{"description":"\u66f4\u65b0\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"204":{"description":"Authenticator updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"ALREADY_EXISTS","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/publish":{"post":{"description":"\u53d1\u5e03\u4e00\u4e2a\u6d88\u606f\u3002<br/><br/>\u53ef\u80fd\u7684 HTTP \u72b6\u6001\u7801\u5982\u4e0b\uff1a<br/><br/>200: \u6d88\u606f\u88ab\u6210\u529f\u53d1\u9001\u5230\u81f3\u5c11\u4e00\u4e2a\u8ba2\u9605\u3002<br/><br/>202: \u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u8ba2\u9605\u3002<br/><br/>400: \u6d88\u606f\u7f16\u7801\u9519\u8bef\uff0c\u5982\u975e\u6cd5\u4e3b\u9898\uff0c\u6216 QoS \u8d85\u51fa\u8303\u56f4\u7b49\u3002<br/><br/>503: \u670d\u52a1\u91cd\u542f\u7b49\u8fc7\u7a0b\u4e2d\u5bfc\u81f4\u8f6c\u53d1\u5931\u8d25\u3002","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_message"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_ok"}}}},"202":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"}}}},"400":{"description":"","content":{"application/json":{"schema":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"},"type":"array"},{"$ref":"#/components/schemas/emqx_mgmt_api_publish.bad_request"}]}}}},"503":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_publish.publish_error"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Publish"]}},"/nodes/{node}/metrics":{"get":{"description":"Get node metrics","parameters":[{"$ref":"#/components/parameters/emqx_mgmt_api_nodes.node_name"}],"responses":{"200":{"description":"Get node metrics successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_metrics.node_metrics"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SOURCE_ERROR"],"type":"string"},"message":{"description":"Node error","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Nodes"]}},"/configs/global_zone":{"get":{"description":"Get the global zone configs","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"mqtt":{"description":"Global MQTT configuration.<br/>The configs here work as default values which can be overridden<br/>in <code>zone</code> configs","$ref":"#/components/schemas/zone.mqtt"},"stats":{"description":"Enable/disable statistic data collection.<br/>Statistic data such as message receive/send count/rate etc. It provides insights of system performance and helps to diagnose issues. You can find statistic data from the dashboard, or from the '/stats' API.","$ref":"#/components/schemas/zone.stats"},"flapping_detect":{"description":"This config controls the allowed maximum number of `CONNECT` packets received<br/>from the same clientid in a time frame defined by `window_time`.<br/>After the limit is reached, successive `CONNECT` requests are forbidden<br/>(banned) until the end of the time period defined by `ban_time`.","$ref":"#/components/schemas/zone.flapping_detect"},"force_shutdown":{"description":"When the process message queue length, or the memory bytes<br/>reaches a certain value, the process is forced to close.<br/><br/>Note: \"message queue\" here refers to the \"message mailbox\"<br/>of the Erlang process, not the `mqueue` of QoS 1 and QoS 2.","$ref":"#/components/schemas/zone.force_shutdown"},"conn_congestion":{"description":"Settings for `conn_congestion` alarm.<br/><br/>Sometimes the MQTT connection (usually an MQTT subscriber) may<br/>get \"congested\", because there are too many packets to be sent.<br/>The socket tries to buffer the packets until the buffer is<br/>full. If more packets arrive after that, the packets will be<br/>\"pending\" in the queue, and we consider the connection<br/>congested.<br/><br/>Note: `sndbuf` can be set to larger value if the<br/>alarm is triggered too often.<br/>The name of the alarm is of format `conn_congestion/<ClientID>/<Username>`,<br/>where the `<ClientID>` is the client ID of the congested MQTT connection,<br/>and `<Username>` is the username or `unknown_user`.","$ref":"#/components/schemas/zone.conn_congestion"},"force_gc":{"description":"Force garbage collection in MQTT connection process after<br/> they process certain number of messages or bytes of data.","$ref":"#/components/schemas/zone.force_gc"},"overload_protection":{"description":"Overload protection mechanism monitors the load of the system and temporarily<br/>disables some features (such as accepting new connections) when the load is high.","$ref":"#/components/schemas/zone.overload_protection"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update globbal zone configs","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"mqtt":{"description":"Global MQTT configuration.<br/>The configs here work as default values which can be overridden<br/>in <code>zone</code> configs","$ref":"#/components/schemas/zone.mqtt"},"stats":{"description":"Enable/disable statistic data collection.<br/>Statistic data such as message receive/send count/rate etc. It provides insights of system performance and helps to diagnose issues. You can find statistic data from the dashboard, or from the '/stats' API.","$ref":"#/components/schemas/zone.stats"},"flapping_detect":{"description":"This config controls the allowed maximum number of `CONNECT` packets received<br/>from the same clientid in a time frame defined by `window_time`.<br/>After the limit is reached, successive `CONNECT` requests are forbidden<br/>(banned) until the end of the time period defined by `ban_time`.","$ref":"#/components/schemas/zone.flapping_detect"},"force_shutdown":{"description":"When the process message queue length, or the memory bytes<br/>reaches a certain value, the process is forced to close.<br/><br/>Note: \"message queue\" here refers to the \"message mailbox\"<br/>of the Erlang process, not the `mqueue` of QoS 1 and QoS 2.","$ref":"#/components/schemas/zone.force_shutdown"},"conn_congestion":{"description":"Settings for `conn_congestion` alarm.<br/><br/>Sometimes the MQTT connection (usually an MQTT subscriber) may<br/>get \"congested\", because there are too many packets to be sent.<br/>The socket tries to buffer the packets until the buffer is<br/>full. If more packets arrive after that, the packets will be<br/>\"pending\" in the queue, and we consider the connection<br/>congested.<br/><br/>Note: `sndbuf` can be set to larger value if the<br/>alarm is triggered too often.<br/>The name of the alarm is of format `conn_congestion/<ClientID>/<Username>`,<br/>where the `<ClientID>` is the client ID of the congested MQTT connection,<br/>and `<Username>` is the username or `unknown_user`.","$ref":"#/components/schemas/zone.conn_congestion"},"force_gc":{"description":"Force garbage collection in MQTT connection process after<br/> they process certain number of messages or bytes of data.","$ref":"#/components/schemas/zone.force_gc"},"overload_protection":{"description":"Overload protection mechanism monitors the load of the system and temporarily<br/>disables some features (such as accepting new connections) when the load is high.","$ref":"#/components/schemas/zone.overload_protection"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"mqtt":{"description":"Global MQTT configuration.<br/>The configs here work as default values which can be overridden<br/>in <code>zone</code> configs","$ref":"#/components/schemas/zone.mqtt"},"stats":{"description":"Enable/disable statistic data collection.<br/>Statistic data such as message receive/send count/rate etc. It provides insights of system performance and helps to diagnose issues. You can find statistic data from the dashboard, or from the '/stats' API.","$ref":"#/components/schemas/zone.stats"},"flapping_detect":{"description":"This config controls the allowed maximum number of `CONNECT` packets received<br/>from the same clientid in a time frame defined by `window_time`.<br/>After the limit is reached, successive `CONNECT` requests are forbidden<br/>(banned) until the end of the time period defined by `ban_time`.","$ref":"#/components/schemas/zone.flapping_detect"},"force_shutdown":{"description":"When the process message queue length, or the memory bytes<br/>reaches a certain value, the process is forced to close.<br/><br/>Note: \"message queue\" here refers to the \"message mailbox\"<br/>of the Erlang process, not the `mqueue` of QoS 1 and QoS 2.","$ref":"#/components/schemas/zone.force_shutdown"},"conn_congestion":{"description":"Settings for `conn_congestion` alarm.<br/><br/>Sometimes the MQTT connection (usually an MQTT subscriber) may<br/>get \"congested\", because there are too many packets to be sent.<br/>The socket tries to buffer the packets until the buffer is<br/>full. If more packets arrive after that, the packets will be<br/>\"pending\" in the queue, and we consider the connection<br/>congested.<br/><br/>Note: `sndbuf` can be set to larger value if the<br/>alarm is triggered too often.<br/>The name of the alarm is of format `conn_congestion/<ClientID>/<Username>`,<br/>where the `<ClientID>` is the client ID of the congested MQTT connection,<br/>and `<Username>` is the username or `unknown_user`.","$ref":"#/components/schemas/zone.conn_congestion"},"force_gc":{"description":"Force garbage collection in MQTT connection process after<br/> they process certain number of messages or bytes of data.","$ref":"#/components/schemas/zone.force_gc"},"overload_protection":{"description":"Overload protection mechanism monitors the load of the system and temporarily<br/>disables some features (such as accepting new connections) when the load is high.","$ref":"#/components/schemas/zone.overload_protection"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/bridges/{id}/enable/{enable}":{"put":{"description":"\u542f\u7528\u6216\u7981\u7528\u6240\u6709\u8282\u70b9\u4e0a\u7684\u6865\u63a5","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u662f\u5426\u542f\u7528\u6865\u63a5","example":true,"in":"path","name":"enable","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"Success"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_ID"],"type":"string"},"message":{"description":"Bad bridge ID","type":"string"}},"type":"object"}}}},"503":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SERVICE_UNAVAILABLE"],"type":"string"},"message":{"description":"Service unavailable","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Enable or Disable Bridge","tags":["Bridges"]}},"/configs/cluster":{"get":{"description":"Get the sub-configurations under *cluster*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.cluster"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *cluster*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.cluster"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.cluster"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/bridges/{id}/metrics":{"get":{"description":"\u901a\u8fc7 Id \u6765\u83b7\u53d6\u6865\u63a5\u7684\u6307\u6807\u4fe1\u606f","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"metrics":{"description":"Bridge \u8ba1\u6570","$ref":"#/components/schemas/bridge.metrics"},"node_metrics":{"description":"\u8282\u70b9\u7684\u8ba1\u6570\u5668","items":{"$ref":"#/components/schemas/bridge.node_metrics"},"type":"array"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Bridge not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Bridge Metrics","tags":["Bridges"]}},"/users":{"get":{"description":"Dashboard \u7528\u6237\u5217\u8868","parameters":[],"responses":{"200":{"description":"Dashboard \u7528\u6237\u5217\u8868","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dashboard.user"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]},"post":{"description":"\u521b\u5efa Dashboard \u7528\u6237","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"},"password":{"description":"Dashboard \u5bc6\u7801","example":"public","maxLength":100,"type":"string"},"description":{"description":"Dashboard \u7528\u6237\u63cf\u8ff0","example":"administrator","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"},"description":{"description":"Dashboard \u7528\u6237\u63cf\u8ff0","example":"administrator","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]}},"/gateway/lwm2m/clients/{clientid}/write":{"post":{"deprecated":true,"description":"\u53d1\u9001\u5199\u6307\u4ee4\u5230\u67d0\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":"Integer","in":"query","name":"type","required":true,"schema":{"enum":["Integer","Float","Time","String","Boolean","Opaque","Objlnk"],"type":"string"}},{"example":123,"in":"query","name":"value","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Write a Value to Resource Path","tags":["LwM2M Gateways"]}},"/gateway/{name}":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u7f51\u5173\u914d\u7f6e\u8be6\u60c5","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"coap_gateway":{"summary":"A simple CoAP gateway configs","value":{"connection_required":false,"enable":true,"enable_stats":true,"heartbeat":"30s","idle_timeout":"30s","listeners":[{"bind":"5683","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"coap/","name":"coap","notify_type":"qos","publish_qos":"coap","subscribe_qos":"coap"}},"exproto_gateway":{"summary":"A simple ExProto gateway configs","value":{"enable":true,"enable_stats":true,"handler":{"address":"http://127.0.0.1:9001"},"idle_timeout":"30s","listeners":[{"bind":"7993","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"tcp"}],"mountpoint":"exproto/","name":"exproto","server":{"bind":"9100"}}},"lwm2m_gateway":{"summary":"A simple LwM2M gateway configs","value":{"auto_observe":false,"enable":true,"enable_stats":true,"idle_timeout":"30s","lifetime_max":"86400s","lifetime_min":"1s","listeners":[{"bind":"5783","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"lwm2m/","name":"lwm2m","qmode_time_window":"22s","translators":{"command":{"topic":"dn/#"},"notify":{"topic":"up/notify"},"register":{"topic":"up/resp"},"response":{"topic":"up/resp"},"update":{"topic":"up/resp"}},"update_msg_publish_condition":"always","xml_dir":"/etc/emqx/lwm2m_xml"}},"mqttsn_gateway":{"summary":"A simple MQTT-SN gateway configs","value":{"broadcast":true,"enable":true,"enable_qos3":true,"enable_stats":true,"gateway_id":1,"idle_timeout":"30s","listeners":[{"bind":"1884","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"mqttsn/","name":"mqttsn","predefined":[{"id":"1001","topic":"pred/1001"},{"id":"1002","topic":"pred/1002"}]}},"stomp_gateway":{"summary":"A simple STOMP gateway configs","value":{"enable":true,"enable_stats":true,"frame":{"max_body_length":65535,"max_headers":10,"max_headers_length":1024},"idle_timeout":"30s","listeners":[{"bind":"61613","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"tcp"}],"mountpoint":"stomp/","name":"stomp"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.coap"},{"$ref":"#/components/schemas/emqx_gateway_api.mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.stomp"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Gateway","tags":["Gateways"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u7684\u57fa\u7840\u914d\u7f6e\u3001\u548c\u542f\u7528\u7684\u72b6\u6001\u3002<br/><br/>\u6ce8\uff1a\u8ba4\u8bc1\u3001\u548c\u76d1\u542c\u5668\u7684\u914d\u7f6e\u66f4\u65b0\u9700\u53c2\u8003\u5bf9\u5e94\u7684 API \u63a5\u53e3\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"coap_gateway":{"summary":"A simple CoAP gateway configs","value":{"connection_required":false,"enable":true,"enable_stats":true,"heartbeat":"30s","idle_timeout":"30s","mountpoint":"coap2/","notify_type":"qos","publish_qos":"coap","subscribe_qos":"coap"}},"exproto_gateway":{"summary":"A simple ExProto gateway configs","value":{"enable":true,"enable_stats":true,"handler":{"address":"http://127.0.0.1:9001"},"idle_timeout":"30s","mountpoint":"exproto2/","server":{"bind":"9100"}}},"lwm2m_gateway":{"summary":"A simple LwM2M gateway configs","value":{"auto_observe":false,"enable":true,"enable_stats":true,"idle_timeout":"30s","lifetime_max":"86400s","lifetime_min":"1s","mountpoint":"lwm2m2/","qmode_time_window":"22s","translators":{"command":{"topic":"dn/#"},"notify":{"topic":"up/notify"},"register":{"topic":"up/resp"},"response":{"topic":"up/resp"},"update":{"topic":"up/resp"}},"update_msg_publish_condition":"always","xml_dir":"/etc/emqx/lwm2m_xml"}},"mqttsn_gateway":{"summary":"A simple MQTT-SN gateway configs","value":{"broadcast":true,"enable":true,"enable_qos3":false,"enable_stats":true,"gateway_id":1,"idle_timeout":"30s","mountpoint":"mqttsn2/","predefined":[{"id":"1003","topic":"pred/1003"}]}},"stomp_gateway":{"summary":"A simple STOMP gateway configs","value":{"enable":true,"enable_stats":true,"frame":{"max_body_length":655350,"max_headers":100,"max_headers_length":10240},"idle_timeout":"30s","mountpoint":"stomp2/"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.update_exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.update_lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.update_coap"},{"$ref":"#/components/schemas/emqx_gateway_api.update_mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.update_stomp"},{"$ref":"#/components/schemas/emqx_gateway_api.exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.coap"},{"$ref":"#/components/schemas/emqx_gateway_api.mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.stomp"}]}}}},"responses":{"204":{"description":"Gateway configuration updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Load or update the gateway confs","tags":["Gateways"]}},"/gateway/lwm2m/clients/{clientid}/lookup":{"get":{"deprecated":true,"description":"\u67e5\u770b\u6307\u5b9a\u8d44\u6e90\u72b6\u6001","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":"discover","in":"query","name":"action","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"clientid":{"example":"urn:oma:lwm2m:oma:2","type":"string"},"path":{"example":"/3/0/7","type":"string"},"action":{"example":"discover","type":"string"},"codeMsg":{"example":"reply_not_received","type":"string"},"content":{"items":{"$ref":"#/components/schemas/lwm2m.resource"},"type":"array"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Client not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Client's Resources","tags":["LwM2M Gateways"]}},"/authorization/sources/{type}/status":{"get":{"description":"\u83b7\u53d6\u6307\u5b9a\u6388\u6743\u6570\u636e\u6e90\u7684\u72b6\u6001","parameters":[{"description":"\u6570\u636e\u6e90\u7c7b\u578b","in":"path","name":"type","required":true,"schema":{"enum":["http","mongodb","redis","built_in_database","mysql","postgresql","file"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"metrics_example":{"summary":"Showing a typical metrics example","value":{"metrics":{"allow":0,"deny":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"total":0},"node_metrics":[{"metrics":{"allow":0,"deny":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"total":0},"node":"emqx@127.0.0.1"}],"node_resource_metrics":[{"metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"node":"emqx@127.0.0.1"}],"node_status":[{"node":"emqx@127.0.0.1","status":"connected"}],"resource_metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"status":"connected"}}},"schema":{"$ref":"#/components/schemas/authz.metrics_status_fields"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/listeners":{"get":{"description":"List all running node's listeners for the specified type.","parameters":[{"description":"Listener type","example":"tcp","in":"query","name":"type","required":false,"schema":{"enum":["tcp","ssl","ws","wss","quic"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"acceptors":16,"bind":"0.0.0.0:1884","enable":true,"id":"tcp:demo","name":"demo","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":100,"max_connections":1024000,"running":true}},{"node":"emqx@127.0.0.1","status":{"current_connections":101,"max_connections":1024000,"running":true}}],"number":2,"status":{"current_connections":201,"max_connections":2048000,"running":true},"type":"tcp"},{"acceptors":32,"bind":"0.0.0.0:1883","enable":true,"id":"tcp:default","name":"default","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":200,"max_connections":"infinity","running":true}},{"node":"emqx@127.0.0.1","status":{"current_connections":301,"max_connections":"infinity","running":true}}],"number":2,"status":{"current_connections":501,"max_connections":"infinity","running":true},"type":"tcp"}],"schema":{"items":{"$ref":"#/components/schemas/listeners.listener_id_status"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]},"post":{"description":"Create the specified listener on all nodes.","parameters":[],"requestBody":{"content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"max_connections":204800,"mountpoint":"/","name":"demo","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind(with_name)"},{"$ref":"#/components/schemas/listeners.wss_required_bind(with_name)"},{"$ref":"#/components/schemas/listeners.ws_required_bind(with_name)"},{"$ref":"#/components/schemas/listeners.ssl_required_bind(with_name)"},{"$ref":"#/components/schemas/listeners.tcp_required_bind(with_name)"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind"},{"$ref":"#/components/schemas/listeners.wss_required_bind"},{"$ref":"#/components/schemas/listeners.ws_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_required_bind"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_LISTENER_ID","BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/gateway/{name}/authentication/import_users":{"post":{"deprecated":true,"description":"\u5bfc\u5165\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Import Users","tags":["Gateway Authentication"]}},"/trace/{name}/download":{"get":{"description":"Download trace log by name","parameters":[{"$ref":"#/components/parameters/trace.name"},{"$ref":"#/components/parameters/trace.node"}],"responses":{"200":{"content":{"application/octet-stream":{"schema":{"format":"binary","type":"string"}}},"description":"A trace zip file"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","NODE_ERROR"],"type":"string"},"message":{"description":"Trace Name or Node Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/clients/{clientid}":{"delete":{"description":"Kick out client by client ID","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Kick out client successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]},"get":{"description":"Get clients info by client ID","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.client"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/gateways/{name}/authentication":{"delete":{"description":"\u5220\u9664\u6307\u5b9a\u7f51\u5173\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Gateway Authenticator","tags":["Gateway Authentication"]},"get":{"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u8ba4\u8bc1\u5668\u7684\u914d\u7f6e<br/>\u5f53\u7f51\u5173\u6216\u8ba4\u8bc1\u672a\u542f\u7528\u65f6\uff0c\u8fd4\u56de 404\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"204":{"description":"Authenticator doesn't initiated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Authenticator Configuration","tags":["Gateway Authentication"]},"post":{"description":"\u4e3a\u6307\u5b9a\u7f51\u5173\u5f00\u542f\u8ba4\u8bc1\u5668\u5b9e\u73b0\u5ba2\u6237\u7aef\u8ba4\u8bc1\u7684\u529f\u80fd\u3002<br/><br/>\u5f53\u672a\u914d\u7f6e\u8ba4\u8bc1\u5668\u6216\u5173\u95ed\u8ba4\u8bc1\u5668\u65f6\uff0c\u5219\u8ba4\u4e3a\u5141\u8bb8\u6240\u6709\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u3002<br/><br/>\u6ce8\uff1a\u5728\u7f51\u5173\u4e2d\u4ec5\u652f\u6301\u6dfb\u52a0\u4e00\u4e2a\u8ba4\u8bc1\u5668\uff0c\u800c\u4e0d\u662f\u50cf MQTT \u4e00\u6837\u5141\u8bb8\u914d\u7f6e\u591a\u4e2a\u8ba4\u8bc1\u5668\u6784\u6210\u8ba4\u8bc1\u94fe\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create an Authenticator for a Gateway","tags":["Gateway Authentication"]},"put":{"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u8ba4\u8bc1\u5668\u7684\u914d\u7f6e\uff0c\u6216\u505c\u7528\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update Authenticator Configuration","tags":["Gateway Authentication"]}},"/clients/{clientid}/unsubscribe/bulk":{"post":{"description":"Unsubscribe","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.unsubscribe"},"type":"array"}}}},"responses":{"204":{"description":"Unsubscribe OK"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/clients/{clientid}/subscribe/bulk":{"post":{"description":"Subscribe","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.subscribe"},"type":"array"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_subscriptions.subscription"},"type":"array"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/configs/alarm":{"get":{"description":"Get the sub-configurations under *alarm*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.alarm"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *alarm*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.alarm"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.alarm"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateway/{name}/listeners/{id}/authentication/users":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u7528\u6237\u5217\u8868\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Authenticator's Users","tags":["Gateway Listeners"]},"post":{"deprecated":true,"description":"\u6dfb\u52a0\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add User for an Authenticator","tags":["Gateway Listeners"]}},"/nodes/{node}":{"get":{"description":"Get node info","parameters":[{"$ref":"#/components/parameters/emqx_mgmt_api_nodes.node_name"}],"responses":{"200":{"description":"Get node info successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_nodes.node_info"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SOURCE_ERROR"],"type":"string"},"message":{"description":"Node error","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Nodes"]}},"/gateway/{name}/clients/{clientid}/subscriptions/{topic}":{"delete":{"deprecated":true,"description":"\u4e3a\u67d0\u5ba2\u6237\u7aef\u5220\u9664\u67d0\u8ba2\u9605\u5173\u7cfb","parameters":[{"description":"\u4e3b\u9898\u8fc7\u6ee4\u5668\u6216\u4e3b\u9898\u540d\u79f0","in":"path","name":"topic","required":true,"schema":{"type":"string"}},{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Unsubscribed"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete Client's Subscription","tags":["Gateway Clients"]}},"/configs/persistent_session_store":{"get":{"description":"Get the sub-configurations under *persistent_session_store*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.persistent_session_store"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *persistent_session_store*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.persistent_session_store"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.persistent_session_store"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateways/coap/clients/{clientid}/request":{"post":{"description":"\u53d1\u9001 CoAP \u6d88\u606f\u5230\u6307\u5b9a\u5ba2\u6237\u7aef","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"token":{"description":"\u6d88\u606f Token, \u53ef\u4ee5\u4e3a\u7a7a","type":"string"},"method":{"description":"\u8bf7\u6c42 Method \u7c7b\u578b","enum":["get","put","post","delete"],"type":"string"},"timeout":{"description":"\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4","example":"32s","type":"string"},"content_type":{"description":"Payload \u7c7b\u578b","enum":["text/plain","application/json","application/octet-stream"],"type":"string"},"payload":{"description":"Payload \u5185\u5bb9","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"id":{"description":"\u6d88\u606f ID","type":"integer"},"token":{"description":"\u6d88\u606f Token, \u53ef\u4ee5\u4e3a\u7a7a","type":"string"},"method":{"description":"\u5e94\u7b54\u7801","type":"string"},"payload":{"description":"Payload \u5185\u5bb9","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Client not found error","type":"string"}},"type":"object"}}}},"504":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_RESPONSE"],"type":"string"},"message":{"description":"Waiting for client response timeout","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Send a Request to a Client","tags":["CoAP Gateways"]}},"/listeners/{id}/stop":{"post":{"description":"Stop the listener on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"responses":{"200":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","BAD_LISTENER_ID"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/topics":{"get":{"description":"Topics list","parameters":[{"description":"Topic Name","example":"","in":"query","name":"topic","required":false,"schema":{"type":"string"}},{"description":"Node Name","example":"emqx@127.0.0.1","in":"query","name":"node","required":false,"schema":{"type":"string"}},{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_topics.topic"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Topics"]}},"/authorization/sources":{"get":{"description":"\u5217\u51fa\u6240\u6709\u6388\u6743\u6570\u636e\u6e90","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_authz_api_sources.sources"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"post":{"description":"\u6dfb\u52a0\u6388\u6743\u6570\u636e\u6e90","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_authz_api_schema.file"},{"$ref":"#/components/schemas/emqx_authz_api_schema.postgresql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mysql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.built_in_database"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_cluster"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_sentinel"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_sharded"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_rs"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_post"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_get"}]}}}},"responses":{"204":{"description":"Authorization source created successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/plugins":{"get":{"description":"List all install plugins.<br/>Plugins are launched in top-down order.<br/>Using `POST /plugins/{name}/move` to change the boot order.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/plugins.plugin"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]}},"/login":{"post":{"description":"\u83b7\u53d6 Dashboard \u8ba4\u8bc1 Token\u3002","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"},"password":{"description":"Dashboard \u5bc6\u7801","example":"public","maxLength":100,"type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"token":{"description":"Dashboard \u8ba4\u8bc1 Token","type":"string"},"version":{"description":"EMQX \u7248\u672c","example":"5.0.0","type":"string"},"license":{"properties":{"edition":{"description":"EMQX \u8bb8\u53ef\u7c7b\u578b\u3002\u53ef\u4e3a opensource \u6216 enterprise","enum":["opensource","enterprise"],"example":"opensource","type":"string"}},"type":"object"}},"type":"object"}}}},"401":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_USERNAME_OR_PWD"],"type":"string"},"message":{"description":"\u767b\u5f55\u5931\u8d25\u3002\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","type":"string"}},"type":"object"}}}}},"security":[],"summary":"Dashboard Auth","tags":["Dashboard"]}},"/bridges/{id}":{"delete":{"description":"\u901a\u8fc7 ID \u5220\u9664 Bridge","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Bridge deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_ID"],"type":"string"},"message":{"description":"Update bridge failed","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["FORBIDDEN_REQUEST"],"type":"string"},"message":{"description":"Forbidden operation","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Bridge not found","type":"string"}},"type":"object"}}}},"503":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SERVICE_UNAVAILABLE"],"type":"string"},"message":{"description":"Service unavailable","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete Bridge","tags":["Bridges"]},"get":{"description":"\u901a\u8fc7 ID \u83b7\u53d6 Bridge","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","name":"mqtt_example","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","name":"webhook_example","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.get"},{"$ref":"#/components/schemas/bridge_webhook.get"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Bridge not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Bridge","tags":["Bridges"]},"put":{"description":"\u901a\u8fc7 ID \u66f4\u65b0 Bridge","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.put"},{"$ref":"#/components/schemas/bridge_webhook.put"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","name":"mqtt_example","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","name":"webhook_example","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.get"},{"$ref":"#/components/schemas/bridge_webhook.get"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","INVALID_ID"],"type":"string"},"message":{"description":"Update bridge failed","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Bridge not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update Bridge","tags":["Bridges"]}},"/gateway/lwm2m/clients/{clientid}/observe":{"post":{"deprecated":true,"description":"Observe/Un-Observe \u6307\u5b9a\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":true,"in":"query","name":"enable","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Observe a Resource","tags":["LwM2M Gateways"]}},"/configs/dashboard":{"get":{"description":"Get the sub-configurations under *dashboard*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dashboard.dashboard"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *dashboard*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dashboard.dashboard"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dashboard.dashboard"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateways/{name}/clients/{clientid}/subscriptions":{"get":{"description":"\u83b7\u53d6\u67d0\u5ba2\u6237\u7aef\u7684\u4e3b\u9898\u8ba2\u9605\u5217\u8868","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"general_subscription_list":{"summary":"A General Subscription List","value":[{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}]},"stomp_subscription_list":{"summary":"The Stomp Subscription List","value":["example_stomp_subscription"]}},"schema":{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Client's Subscription","tags":["Gateway Clients"]},"post":{"description":"\u4e3a\u67d0\u5ba2\u6237\u7aef\u65b0\u589e\u8ba2\u9605\u5173\u7cfb","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"general_subscription":{"summary":"A General Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}},"stomp_subscription":{"summary":"A Stomp Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"sub_props":{"subid":"10"},"topic":"stomp/topic"}}},"schema":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"general_subscription":{"summary":"A General Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"topic":"test/topic"}},"stomp_subscription":{"summary":"A Stomp Subscription","value":{"nl":0,"qos":1,"rap":0,"rh":0,"sub_props":{"subid":"10"},"topic":"stomp/topic"}}},"schema":{"$ref":"#/components/schemas/emqx_gateway_api_clients.subscription"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add Subscription for Client","tags":["Gateway Clients"]}},"/cluster/{node}/invite":{"put":{"description":"Invite node to cluster","parameters":[{"$ref":"#/components/parameters/cluster.node"}],"responses":{"200":{"description":"ok"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Cluster"]}},"/listeners/{listener_id}/authentication/{id}/position/{position}":{"put":{"description":"\u66f4\u6539\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u7684\u987a\u5e8f\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u8005\u5728\u94fe\u4e2d\u7684\u4f4d\u7f6e\u3002\u53ef\u80fd\u7684\u503c\u662f 'front', 'rear', 'before:{other_authenticator}', 'after:{other_authenticator}'","example":"before:password_based:built_in_database","in":"path","name":"position","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Authenticator moved"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/configs/node":{"get":{"description":"Get the sub-configurations under *node*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.node"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *node*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.node"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.node"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/gateway/{name}/authentication/users/{uid}":{"delete":{"deprecated":true,"description":"\u5220\u9664\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"User Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete User for a Gateway Authenticator","tags":["Gateway Authentication"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get User Info for a Gateway Authenticator","tags":["Gateway Authentication"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update User Info for a Gateway Authenticator","tags":["Gateway Authentication"]}},"/configs/zones":{"get":{"description":"Get the sub-configurations under *zones*","parameters":[],"responses":{"200":{"description":"<code>zone</code> \u662f\u6309<code>name</code> \u5206\u7ec4\u7684\u4e00\u7ec4\u914d\u7f6e\u3002<br/>\u5bf9\u4e8e\u7075\u6d3b\u7684\u914d\u7f6e\u6620\u5c04\uff0c\u53ef\u4ee5\u5c06 <code>name</code> \u8bbe\u7f6e\u4e3a\u4fa6\u542c\u5668\u7684 <code>zone</code> \u914d\u7f6e\u3002<br/>\u6ce8\uff1a\u540d\u4e3a <code>default</code> \u7684\u5185\u7f6e\u533a\u57df\u662f\u81ea\u52a8\u521b\u5efa\u7684\uff0c\u65e0\u6cd5\u5220\u9664\u3002","content":{"application/json":{"schema":{"properties":{"$name":{"$ref":"#/components/schemas/broker.zone"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *zones*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"$name":{"$ref":"#/components/schemas/broker.zone"}},"type":"object"}}}},"responses":{"200":{"description":"<code>zone</code> \u662f\u6309<code>name</code> \u5206\u7ec4\u7684\u4e00\u7ec4\u914d\u7f6e\u3002<br/>\u5bf9\u4e8e\u7075\u6d3b\u7684\u914d\u7f6e\u6620\u5c04\uff0c\u53ef\u4ee5\u5c06 <code>name</code> \u8bbe\u7f6e\u4e3a\u4fa6\u542c\u5668\u7684 <code>zone</code> \u914d\u7f6e\u3002<br/>\u6ce8\uff1a\u540d\u4e3a <code>default</code> \u7684\u5185\u7f6e\u533a\u57df\u662f\u81ea\u52a8\u521b\u5efa\u7684\uff0c\u65e0\u6cd5\u5220\u9664\u3002","content":{"application/json":{"schema":{"properties":{"$name":{"$ref":"#/components/schemas/broker.zone"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/mqtt/retainer/messages":{"get":{"description":"\u67e5\u770b\u4fdd\u7559\u6d88\u606f\u5217\u8868","parameters":[{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"description":"\u4fdd\u7559\u6d88\u606f\u5217\u8868","items":{"$ref":"#/components/schemas/retainer.message_summary"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"\u4e0d\u652f\u6301\u7684\u540e\u7aef","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Retainer"]}},"/plugins/{name}/move":{"post":{"description":"Setting the boot order of plugins.","parameters":[{"$ref":"#/components/parameters/plugins.name"}],"requestBody":{"content":{"application/json":{"examples":{"move_to_after":{"summary":"move plugin after other plugins","value":{"position":"after:emqx_plugin_demo-5.1-rc.2"}},"move_to_before":{"summary":"move plugin before other plugins","value":{"position":"before:emqx_plugin_demo-5.1-rc.2"}},"move_to_front":{"summary":"move plugin on the front","value":{"position":"front"}},"move_to_rear":{"summary":"move plugin on the rear","value":{"position":"rear"}}},"schema":{"$ref":"#/components/schemas/plugins.position"}}}},"responses":{"200":{"description":"OK"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]}},"/configs/broker":{"get":{"description":"Get the sub-configurations under *broker*","parameters":[],"responses":{"200":{"description":"Broker \u76f8\u5173\u914d\u7f6e\u9879\u3002","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.broker"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *broker*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.broker"}}}},"responses":{"200":{"description":"Broker \u76f8\u5173\u914d\u7f6e\u9879\u3002","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.broker"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/statsd":{"get":{"description":"\u5217\u51fa StatsD \u6307\u6807\u91c7\u96c6\u548c\u63a8\u9001\u670d\u52a1\u7684\u7684\u914d\u7f6e\u3002","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"example":{"enable":true,"flush_time_interval":"30s","sample_time_interval":"30s","server":"127.0.0.1:8125","tags":{}},"schema":{"$ref":"#/components/schemas/statsd.statsd"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Monitor"]},"put":{"description":"\u66f4\u65b0 StatsD \u6307\u6807\u91c7\u96c6\u548c\u63a8\u9001\u670d\u52a1\u7684\u914d\u7f6e\u3002","parameters":[],"requestBody":{"content":{"application/json":{"example":{"enable":true,"flush_time_interval":"30s","sample_time_interval":"30s","server":"127.0.0.1:8125","tags":{}},"schema":{"$ref":"#/components/schemas/statsd.statsd"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"enable":true,"flush_time_interval":"30s","sample_time_interval":"30s","server":"127.0.0.1:8125","tags":{}},"schema":{"$ref":"#/components/schemas/statsd.statsd"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Monitor"]}},"/alarms":{"delete":{"description":"\u5220\u9664\u6240\u6709\u5386\u53f2\u544a\u8b66\u3002","parameters":[],"responses":{"204":{"description":"\u5386\u53f2\u544a\u8b66\u5df2\u6210\u529f\u6e05\u9664\u3002"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Alarms"]},"get":{"description":"\u5217\u51fa\u5f53\u524d\u6fc0\u6d3b\u7684\u544a\u8b66\u6216\u5386\u53f2\u544a\u8b66\uff0c\u7531\u67e5\u8be2\u53c2\u6570\u51b3\u5b9a\u3002","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"\u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u7684\u544a\u8b66\u7c7b\u578b\uff0c<br/>\u4e3a true \u65f6\u8fd4\u56de\u5f53\u524d\u6fc0\u6d3b\u7684\u544a\u8b66\uff0c\u4e3a false \u65f6\u8fd4\u56de\u5386\u53f2\u544a\u8b66\uff0c\u9ed8\u8ba4\u4e3a false\u3002","in":"query","name":"activated","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_alarms.alarm"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Alarms"]}},"/authorization/sources/built_in_database/rules/users/{username}":{"delete":{"description":"\u5220\u9664\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u7528\u6237\u540d\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.username"}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad username","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Username Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"get":{"description":"\u83b7\u53d6\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u7528\u6237\u540d\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.username"}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"Username","value":{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}],"username":"user1"}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_username"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"put":{"description":"\u66f4\u65b0\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u6307\u5b9a\u7528\u6237\u540d\u7c7b\u578b\u7684\u89c4\u5219\u8bb0\u5f55","parameters":[{"$ref":"#/components/parameters/emqx_authz_api_mnesia.username"}],"requestBody":{"content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"Username","value":{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}],"username":"user1"}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules_for_username"}}}},"responses":{"204":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad username or bad rule schema","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/gateway":{"get":{"deprecated":true,"description":"\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u6307\u5b9a\u6216\u6240\u6709\u7f51\u5173\u7684\u6982\u89c8\u72b6\u6001\uff0c<br/>\u5305\u62ec\u5f53\u524d\u72b6\u6001\u3001\u8fde\u63a5\u6570\u3001\u76d1\u542c\u5668\u72b6\u6001\u7b49\u3002","parameters":[{"description":"\u901a\u8fc7\u7f51\u5173\u72b6\u6001\u7b5b\u9009<br/><br/>\u53ef\u9009\u503c\u4e3a `running`\u3001`stopped`\u3001`unloaded`","example":"running","in":"query","name":"status","required":false,"schema":{"enum":["running","stopped","unloaded"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"name":"coap","status":"unloaded"},{"name":"exproto","status":"unloaded"},{"created_at":"2021-12-08T14:41:26.171+08:00","current_connections":0,"listeners":[{"id":"lwm2m:udp:default","name":"default","running":true,"type":"udp"}],"max_connections":1024000,"name":"lwm2m","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"started_at":"2021-12-08T14:41:26.202+08:00","status":"running"},{"created_at":"2021-12-08T14:41:45.071+08:00","current_connections":0,"listeners":[{"id":"mqttsn:udp:default","name":"default","running":false,"type":"udp"}],"max_connections":1024000,"name":"mqttsn","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"status":"stopped","stopped_at":"2021-12-08T14:56:35.576+08:00"},{"created_at":"2021-12-08T14:42:15.272+08:00","current_connections":0,"listeners":[{"id":"stomp:tcp:default","name":"default","running":true,"type":"tcp"}],"max_connections":1024000,"name":"stomp","node_status":[{"current_connections":0,"max_connections":1024000,"node":"node@127.0.0.1","status":"running"}],"started_at":"2021-12-08T14:42:15.274+08:00","status":"running"}],"schema":{"items":{"$ref":"#/components/schemas/emqx_gateway_api.gateway_overview"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List All Gateways","tags":["Gateways"]}},"/subscriptions":{"get":{"description":"List subscriptions","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"Node name","example":"emqx@127.0.0.1","in":"query","name":"node","required":false,"schema":{"type":"string"}},{"description":"Client ID","in":"query","name":"clientid","required":false,"schema":{"type":"string"}},{"description":"QoS","in":"query","name":"qos","required":false,"schema":{"example":0,"maximum":2,"minimum":0,"type":"integer"}},{"description":"Topic, url encoding","in":"query","name":"topic","required":false,"schema":{"type":"string"}},{"description":"Match topic string, url encoding","in":"query","name":"match_topic","required":false,"schema":{"type":"string"}},{"description":"Shared subscription group name","in":"query","name":"share_group","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_subscriptions.subscription"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_PARAMETER"],"type":"string"},"message":{"description":"Invalid parameter","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NODE_DOWN"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Subscriptions"]}},"/error_codes":{"get":{"description":"API Error Codes","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dashboard.error_code"},"type":"array"}}}}},"security":[],"tags":["Error Codes"]}},"/authorization/sources/built_in_database/rules":{"delete":{"description":"\u6e05\u9664\u5185\u7f6e\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u7c7b\u578b\uff08'users' \u3001'clients' \u3001'all'\uff09\u7684\u6240\u6709\u89c4\u5219","parameters":[],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/listeners/{listener_id}/authentication/{id}/users/{user_id}":{"delete":{"description":"\u5220\u9664\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"User deleted"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"get":{"description":"\u83b7\u53d6\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"put":{"description":"\u66f4\u65b0\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u6307\u5b9a\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID\u3002","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"example":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/authorization/sources/{type}/move":{"post":{"description":"\u66f4\u65b0\u6388\u6743\u6570\u636e\u6e90\u7684\u4f18\u5148\u6267\u884c\u987a\u5e8f","parameters":[{"description":"\u6570\u636e\u6e90\u7c7b\u578b","in":"path","name":"type","required":true,"schema":{"enum":["http","mongodb","redis","built_in_database","mysql","postgresql","file"],"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"front":{"summary":"front example","value":{"position":"front"}},"rear":{"summary":"rear example","value":{"position":"rear"}},"relative_after":{"summary":"relative example","value":{"position":"after:file"}},"relative_before":{"summary":"relative example","value":{"position":"before:file"}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_schema.position"}}}},"responses":{"204":{"description":"No Content"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/listeners/{listener_id}/authentication/{id}/import_users":{"post":{"description":"\u4e3a\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u5bfc\u5165\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Users imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/telemetry/data":{"get":{"description":"\u83b7\u53d6\u9065\u6d4b\u6570\u636e","parameters":[],"responses":{"200":{"description":"\u83b7\u53d6\u9065\u6d4b\u6570\u636e","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_telemetry_api.telemetry"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Telemetry is not enabled","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Telemetry"]}},"/gateways/{name}/listeners/{id}/authentication/users/{uid}":{"delete":{"description":"\u5220\u9664\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete User","tags":["Gateway Listeners"]},"get":{"description":"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get User Info","tags":["Gateway Listeners"]},"put":{"description":"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update User Info","tags":["Gateway Listeners"]}},"/authentication":{"get":{"description":"\u5217\u51fa\u5168\u5c40\u8ba4\u8bc1\u94fe\u4e0a\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}},{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"},{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"},{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"},{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}],"schema":{"items":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]},"post":{"description":"\u4e3a\u5168\u5c40\u8ba4\u8bc1\u94fe\u521b\u5efa\u8ba4\u8bc1\u5668\u3002","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"ALREADY_EXISTS","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authentication"]}},"/clients/{clientid}/subscribe":{"post":{"description":"Subscribe","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.subscribe"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_subscriptions.subscription"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/trace":{"delete":{"description":"Clear all traces","parameters":[],"responses":{"204":{"description":"No Content"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]},"get":{"description":"List all trace","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/trace.trace"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]},"post":{"description":"Create new trace","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"required":["type","name"],"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-TRACE-1","type":"string"},"type":{"description":"Filter type","enum":["clientid","topic","ip_address"],"example":"clientid","type":"string"},"topic":{"description":"support mqtt wildcard topic.","example":"/dev/#","type":"string"},"clientid":{"description":"mqtt clientid.","example":"dev-001","type":"string"},"ip_address":{"description":"client ip address","example":"127.0.0.1","type":"string"},"start_at":{"description":"rfc3339 timestamp or epoch second","example":"2021-11-04T18:17:38+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"end_at":{"description":"rfc3339 timestamp or epoch second","example":"2021-11-05T18:17:38+08:00","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/trace.trace"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_PARAMS"],"type":"string"},"message":{"description":"invalid trace params","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS","DUPLICATE_CONDITION"],"type":"string"},"message":{"description":"trace already exists","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/exhooks/{name}/move":{"post":{"description":"\u79fb\u52a8 Exhook \u670d\u52a1\u5668\u987a\u5e8f\u3002<br/>\u6ce8\u610f: \u79fb\u52a8\u7684\u53c2\u6570\u53ea\u80fd\u662f\uff1afront | rear | before:{name} | after:{name}","parameters":[{"description":"Exhook \u670d\u52a1\u5668\u7684\u540d\u79f0","example":"default","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"front":{"summary":"absolute position 'front'","value":{"position":"front"}},"rear":{"summary":"absolute position 'rear'","value":{"position":"rear"}},"related_after":{"summary":"relative position 'after'","value":{"position":"after:default"}},"related_before":{"summary":"relative position 'before'","value":{"position":"before:default"}}},"schema":{"$ref":"#/components/schemas/exhook.move_req"}}}},"responses":{"204":{"description":"No Content"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_RPC"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]}},"/slow_subscriptions/settings":{"get":{"description":"\u67e5\u770b\u914d\u7f6e","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/slow_subs.slow_subs"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Slow Subscriptions"]},"put":{"description":"\u66f4\u65b0\u914d\u7f6e","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/slow_subs.slow_subs"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/slow_subs.slow_subs"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Slow Subscriptions"]}},"/gateway/{name}/enable/{enable}":{"put":{"deprecated":true,"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u7684\u57fa\u7840\u914d\u7f6e\u3001\u548c\u542f\u7528\u7684\u72b6\u6001\u3002<br/><br/>\u6ce8\uff1a\u8ba4\u8bc1\u3001\u548c\u76d1\u542c\u5668\u7684\u914d\u7f6e\u66f4\u65b0\u9700\u53c2\u8003\u5bf9\u5e94\u7684 API \u63a5\u53e3\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u662f\u5426\u5f00\u542f\u6b64\u7f51\u5173","example":true,"in":"path","name":"enable","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"Gateway configuration updated"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Enable or disable gateway","tags":["Gateways"]}},"/mqtt/topic_metrics":{"get":{"description":"\u83b7\u53d6\u4e3b\u9898\u76d1\u63a7\u6570\u636e","parameters":[],"responses":{"200":{"description":"\u83b7\u53d6\u4e3b\u9898\u76d1\u63a7\u6570\u636e","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_topic_metrics_api.topic_metrics"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"post":{"description":"\u521b\u5efa\u4e3b\u9898\u76d1\u63a7\u6570\u636e","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"required":["topic"],"properties":{"topic":{"description":"\u4e3b\u9898\u5b57\u7b26\u4e32","example":"testtopic/1","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"\u521b\u5efa\u4e3b\u9898\u76d1\u63a7\u6570\u636e"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","BAD_TOPIC"],"type":"string"},"message":{"description":"\u9519\u8bef\u8bf7\u6c42\u3002\u5df2\u5b58\u5728\u6216\u9519\u8bef\u7684\u4e3b\u9898\u540d\u79f0","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["EXCEED_LIMIT"],"type":"string"},"message":{"description":"\u51b2\u7a81\u3002\u4e3b\u9898\u76d1\u63a7\u6570\u636e\u8d85\u8fc7\u6700\u5927\u9650\u5236512","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]},"put":{"description":"\u91cd\u7f6e\u4e3b\u9898\u76d1\u63a7\u72b6\u6001","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"reset_all_topic_metrics":{"summary":"reset_all_topic_metrics","value":{"action":"reset"}},"reset_specific_one_topic_metrics":{"summary":"reset_specific_one_topic_metrics","value":{"action":"reset","topic":"testtopic/1"}}},"schema":{"$ref":"#/components/schemas/emqx_topic_metrics_api.reset"}}}},"responses":{"204":{"description":"\u91cd\u7f6e\u4e3b\u9898\u76d1\u63a7\u72b6\u6001"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["TOPIC_NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u627e\u5230\u3002\u4e3b\u9898\u76d1\u63a7\u6570\u636e\u672a\u627e\u5230","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/configs/trace":{"get":{"description":"Get the sub-configurations under *trace*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.trace"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *trace*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.trace"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/broker.trace"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/error_codes/{code}":{"get":{"description":"API Error Codes","parameters":[{"description":"API Error Codes","example":"BAD_USERNAME_OR_PWD","in":"path","name":"code","required":true,"schema":{"enum":["BAD_USERNAME_OR_PWD","BAD_API_KEY_OR_SECRET","BAD_REQUEST","NOT_MATCH","ALREADY_EXISTS","BAD_CONFIG_SCHEMA","BAD_LISTENER_ID","BAD_NODE_NAME","BAD_RPC","BAD_TOPIC","EXCEED_LIMIT","INVALID_PARAMETER","CONFLICT","NO_DEFAULT_VALUE","DEPENDENCY_EXISTS","MESSAGE_ID_SCHEMA_ERROR","INVALID_ID","MESSAGE_ID_NOT_FOUND","NOT_FOUND","CLIENTID_NOT_FOUND","CLIENT_NOT_FOUND","RESOURCE_NOT_FOUND","TOPIC_NOT_FOUND","USER_NOT_FOUND","INTERNAL_ERROR","SERVICE_UNAVAILABLE","SOURCE_ERROR","UPDATE_FAILED","REST_FAILED","CLIENT_NOT_RESPONSE"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/dashboard.error_code"}}}}},"security":[],"tags":["Error Codes"]}},"/bridges/{id}/{operation}":{"post":{"description":"\u505c\u6b62\u6216\u542f\u7528\u6240\u6709\u8282\u70b9\u4e0a\u7684\u6865\u63a5","parameters":[{"description":"Bridge ID \uff0c \u683c\u5f0f\u4e3a {type}:{name}","example":"webhook:webhook_example","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u96c6\u7fa4\u53ef\u7528\u64cd\u4f5c\uff1a\u505c\u6b62\u3001\u91cd\u65b0\u542f\u52a8","example":"restart","in":"path","name":"operation","required":true,"schema":{"enum":["stop","restart"],"type":"string"}}],"responses":{"204":{"description":"Operation success"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_ID"],"type":"string"},"message":{"description":"Bad bridge ID","type":"string"}},"type":"object"}}}},"501":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_IMPLEMENTED"],"type":"string"},"message":{"description":"Not Implemented","type":"string"}},"type":"object"}}}},"503":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SERVICE_UNAVAILABLE"],"type":"string"},"message":{"description":"Service unavailable","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Stop or Restart Bridge","tags":["Bridges"]}},"/gateways/{name}/clients/{clientid}/subscriptions/{topic}":{"delete":{"description":"\u4e3a\u67d0\u5ba2\u6237\u7aef\u5220\u9664\u67d0\u8ba2\u9605\u5173\u7cfb","parameters":[{"description":"\u4e3b\u9898\u8fc7\u6ee4\u5668\u6216\u4e3b\u9898\u540d\u79f0","in":"path","name":"topic","required":true,"schema":{"type":"string"}},{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Unsubscribed"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete Client's Subscription","tags":["Gateway Clients"]}},"/mqtt/delayed/messages":{"get":{"description":"\u67e5\u770b\u5ef6\u8fdf\u6d88\u606f\u5217\u8868","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_delayed_api.message"},"type":"array"},"meta":{"properties":{"page":{"description":"\u67e5\u770b\u7684\u9875\u6570","minimum":1,"type":"integer"},"limit":{"description":"\u6bcf\u9875\u6570\u91cf","minimum":1,"type":"integer"},"count":{"description":"\u5ef6\u8fdf\u6d88\u606f\u603b\u6570","minimum":0,"type":"integer"}},"type":"object"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["MQTT"]}},"/users/{username}":{"delete":{"description":"\u5220\u9664 Dashboard \u7528\u6237","parameters":[{"description":"Dashboard \u7528\u6237\u540d","example":"admin","in":"path","name":"username","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Delete User successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","NOT_ALLOWED"],"type":"string"},"message":{"description":"\u767b\u5f55\u5931\u8d25\u3002\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["USER_NOT_FOUND"],"type":"string"},"message":{"description":"Dashboard \u7528\u6237\u4e0d\u5b58\u5728","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]},"put":{"description":"\u66f4\u65b0 Dashboard \u7528\u6237\u63cf\u8ff0","parameters":[{"description":"Dashboard \u7528\u6237\u540d","example":"admin","in":"path","name":"username","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"description":{"description":"Dashboard \u7528\u6237\u63cf\u8ff0","example":"administrator","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"},"description":{"description":"Dashboard \u7528\u6237\u63cf\u8ff0","example":"administrator","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["USER_NOT_FOUND"],"type":"string"},"message":{"description":"Dashboard \u7528\u6237\u4e0d\u5b58\u5728","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]}},"/exhooks":{"get":{"description":"\u67e5\u770bExHook \u670d\u52a1\u5668\u5217\u8868","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/exhook.detail_server_info"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]},"post":{"description":"\u6dfb\u52a0 ExHook \u670d\u52a1\u5668","parameters":[],"requestBody":{"content":{"application/json":{"example":{"auto_reconnect":"60s","enable":true,"failed_action":"deny","name":"default","pool_size":8,"request_timeout":"5s","ssl":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","enable":false,"keyfile":"/etc/emqx/certs/key.pem"},"url":"http://127.0.0.1:8081"},"schema":{"$ref":"#/components/schemas/exhook.server_config"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/exhook.detail_server_info"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Already exists","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_RPC"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]}},"/gateways/lwm2m/clients/{clientid}/lookup":{"get":{"description":"\u67e5\u770b\u6307\u5b9a\u8d44\u6e90\u72b6\u6001","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":"discover","in":"query","name":"action","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"clientid":{"example":"urn:oma:lwm2m:oma:2","type":"string"},"path":{"example":"/3/0/7","type":"string"},"action":{"example":"discover","type":"string"},"codeMsg":{"example":"reply_not_received","type":"string"},"content":{"items":{"$ref":"#/components/schemas/lwm2m.resource"},"type":"array"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Client not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Client's Resources","tags":["LwM2M Gateways"]}},"/rules/{id}/metrics":{"get":{"description":"\u901a\u8fc7\u7ed9\u5b9a\u7684 Id \u83b7\u5f97\u89c4\u5219\u7684\u6307\u6807\u6570\u636e","parameters":[{"example":"my_rule_id","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_metrics"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Rule not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get a Rule's Metrics","tags":["Rules"]}},"/gateway/{name}/listeners":{"get":{"deprecated":true,"description":"\u83b7\u53d6\u7f51\u5173\u76d1\u542c\u5668\u5217\u8868\u3002\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de\u76d1\u542c\u5668\u6240\u6709\u7684\u914d\u7f6e\uff08\u5305\u62ec\u8be5\u76d1\u542c\u5668\u4e0a\u7684\u8ba4\u8bc1\u5668\uff09\uff0c\u540c\u65f6\u4e5f\u4f1a\u8fd4\u56de\u8be5\u76d1\u542c\u5668\u5728\u96c6\u7fa4\u4e2d\u8fd0\u884c\u7684\u72b6\u6001\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"dtls","udp_options":{"active_n":100,"backlog":1024}},{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"dtls"},{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"tcp"},{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"status":{"current_connections":10,"max_connections":1024000,"running":true},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"},{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"},{"bind":"22212","name":"udp-def","node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":10,"max_connections":1024000,"running":true},"type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}],"schema":{"items":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api_listeners.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api_listeners.tcp_listener"}]},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List All Listeners","tags":["Gateway Listeners"]},"post":{"deprecated":true,"description":"\u4e3a\u6307\u5b9a\u7f51\u5173\u6dfb\u52a0\u76d1\u542c\u5668\u3002<br/><br/>\u6ce8\uff1a\u5bf9\u4e8e\u67d0\u7f51\u5173\u4e0d\u652f\u6301\u7684\u76d1\u542c\u5668\u7c7b\u578b\uff0c\u8be5\u63a5\u53e3\u4f1a\u8fd4\u56de `400: BAD_REQUEST`\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add a Listener","tags":["Gateway Listeners"]}},"/gateway/{name}/listeners/{id}/authentication":{"delete":{"deprecated":true,"description":"\u79fb\u9664\u6307\u5b9a\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Listener's Authenticator","tags":["Gateway Listeners"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"204":{"description":"Authentication or listener does not existed"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Listener's Authenticator","tags":["Gateway Listeners"]},"post":{"deprecated":true,"description":"\u4e3a\u6307\u5b9a\u76d1\u542c\u5668\u5f00\u542f\u8ba4\u8bc1\u5668\u4ee5\u5b9e\u73b0\u5ba2\u6237\u7aef\u8ba4\u8bc1\u7684\u80fd\u529b\u3002<br/><br/>\u5f53\u67d0\u4e00\u76d1\u542c\u5668\u5f00\u542f\u8ba4\u8bc1\u540e\uff0c\u6240\u6709\u8fde\u63a5\u5230\u8be5\u76d1\u542c\u5668\u7684\u5ba2\u6237\u7aef\u4f1a\u4f7f\u7528\u8be5\u8ba4\u8bc1\u5668\u8fdb\u884c\u8ba4\u8bc1\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create an Authenticator for a Listener","tags":["Gateway Listeners"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u6307\u5b9a\u76d1\u542c\u5668\u7684\u8ba4\u8bc1\u5668\u914d\u7f6e\uff0c\u6216\u505c\u7528/\u542f\u7528\u8be5\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update the Listener Authenticator configs","tags":["Gateway Listeners"]}},"/slow_subscriptions":{"delete":{"description":"\u6e05\u9664\u5f53\u524d\u8bb0\u5f55\uff0c\u7136\u540e\u91cd\u65b0\u5f00\u59cb\u7edf\u8ba1","parameters":[],"responses":{"204":{"description":"No Content"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Slow Subscriptions"]},"get":{"description":"\u67e5\u770b\u6162\u8ba2\u9605\u7684\u7edf\u8ba1\u6570\u636e","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/slow_subscribers_statistics.record"},"type":"array"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Slow Subscriptions"]}},"/gateways/{name}":{"get":{"description":"\u83b7\u53d6\u7f51\u5173\u914d\u7f6e\u8be6\u60c5","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"coap_gateway":{"summary":"A simple CoAP gateway configs","value":{"connection_required":false,"enable":true,"enable_stats":true,"heartbeat":"30s","idle_timeout":"30s","listeners":[{"bind":"5683","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"coap/","name":"coap","notify_type":"qos","publish_qos":"coap","subscribe_qos":"coap"}},"exproto_gateway":{"summary":"A simple ExProto gateway configs","value":{"enable":true,"enable_stats":true,"handler":{"address":"http://127.0.0.1:9001"},"idle_timeout":"30s","listeners":[{"bind":"7993","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"tcp"}],"mountpoint":"exproto/","name":"exproto","server":{"bind":"9100"}}},"lwm2m_gateway":{"summary":"A simple LwM2M gateway configs","value":{"auto_observe":false,"enable":true,"enable_stats":true,"idle_timeout":"30s","lifetime_max":"86400s","lifetime_min":"1s","listeners":[{"bind":"5783","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"lwm2m/","name":"lwm2m","qmode_time_window":"22s","translators":{"command":{"topic":"dn/#"},"notify":{"topic":"up/notify"},"register":{"topic":"up/resp"},"response":{"topic":"up/resp"},"update":{"topic":"up/resp"}},"update_msg_publish_condition":"always","xml_dir":"/etc/emqx/lwm2m_xml"}},"mqttsn_gateway":{"summary":"A simple MQTT-SN gateway configs","value":{"broadcast":true,"enable":true,"enable_qos3":true,"enable_stats":true,"gateway_id":1,"idle_timeout":"30s","listeners":[{"bind":"1884","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"udp"}],"mountpoint":"mqttsn/","name":"mqttsn","predefined":[{"id":"1001","topic":"pred/1001"},{"id":"1002","topic":"pred/1002"}]}},"stomp_gateway":{"summary":"A simple STOMP gateway configs","value":{"enable":true,"enable_stats":true,"frame":{"max_body_length":65535,"max_headers":10,"max_headers_length":1024},"idle_timeout":"30s","listeners":[{"bind":"61613","max_conn_rate":1000,"max_connections":1024000,"name":"default","type":"tcp"}],"mountpoint":"stomp/","name":"stomp"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.coap"},{"$ref":"#/components/schemas/emqx_gateway_api.mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.stomp"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Gateway","tags":["Gateways"]},"put":{"description":"\u66f4\u65b0\u6307\u5b9a\u7f51\u5173\u7684\u57fa\u7840\u914d\u7f6e\u3001\u548c\u542f\u7528\u7684\u72b6\u6001\u3002<br/><br/>\u6ce8\uff1a\u8ba4\u8bc1\u3001\u548c\u76d1\u542c\u5668\u7684\u914d\u7f6e\u66f4\u65b0\u9700\u53c2\u8003\u5bf9\u5e94\u7684 API \u63a5\u53e3\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"coap_gateway":{"summary":"A simple CoAP gateway configs","value":{"connection_required":false,"enable":true,"enable_stats":true,"heartbeat":"30s","idle_timeout":"30s","mountpoint":"coap2/","notify_type":"qos","publish_qos":"coap","subscribe_qos":"coap"}},"exproto_gateway":{"summary":"A simple ExProto gateway configs","value":{"enable":true,"enable_stats":true,"handler":{"address":"http://127.0.0.1:9001"},"idle_timeout":"30s","mountpoint":"exproto2/","server":{"bind":"9100"}}},"lwm2m_gateway":{"summary":"A simple LwM2M gateway configs","value":{"auto_observe":false,"enable":true,"enable_stats":true,"idle_timeout":"30s","lifetime_max":"86400s","lifetime_min":"1s","mountpoint":"lwm2m2/","qmode_time_window":"22s","translators":{"command":{"topic":"dn/#"},"notify":{"topic":"up/notify"},"register":{"topic":"up/resp"},"response":{"topic":"up/resp"},"update":{"topic":"up/resp"}},"update_msg_publish_condition":"always","xml_dir":"/etc/emqx/lwm2m_xml"}},"mqttsn_gateway":{"summary":"A simple MQTT-SN gateway configs","value":{"broadcast":true,"enable":true,"enable_qos3":false,"enable_stats":true,"gateway_id":1,"idle_timeout":"30s","mountpoint":"mqttsn2/","predefined":[{"id":"1003","topic":"pred/1003"}]}},"stomp_gateway":{"summary":"A simple STOMP gateway configs","value":{"enable":true,"enable_stats":true,"frame":{"max_body_length":655350,"max_headers":100,"max_headers_length":10240},"idle_timeout":"30s","mountpoint":"stomp2/"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.update_exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.update_lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.update_coap"},{"$ref":"#/components/schemas/emqx_gateway_api.update_mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.update_stomp"},{"$ref":"#/components/schemas/emqx_gateway_api.exproto"},{"$ref":"#/components/schemas/emqx_gateway_api.lwm2m"},{"$ref":"#/components/schemas/emqx_gateway_api.coap"},{"$ref":"#/components/schemas/emqx_gateway_api.mqttsn"},{"$ref":"#/components/schemas/emqx_gateway_api.stomp"}]}}}},"responses":{"204":{"description":"Gateway configuration updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Load or update the gateway confs","tags":["Gateways"]}},"/nodes":{"get":{"description":"List EMQX nodes","parameters":[],"responses":{"200":{"description":"List all EMQX nodes","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_nodes.node_info"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Nodes"]}},"/authorization/sources/{type}":{"delete":{"description":"\u5220\u9664\u6307\u5b9a\u7c7b\u578b\u7684\u6388\u6743\u6570\u636e\u6e90","parameters":[{"description":"\u6570\u636e\u6e90\u7c7b\u578b","in":"path","name":"type","required":true,"schema":{"enum":["http","mongodb","redis","built_in_database","mysql","postgresql","file"],"type":"string"}}],"responses":{"204":{"description":"Deleted successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"get":{"description":"\u83b7\u53d6\u6307\u5b9a\u7c7b\u578b\u7684\u6388\u6743\u6570\u636e\u6e90","parameters":[{"description":"\u6570\u636e\u6e90\u7c7b\u578b","in":"path","name":"type","required":true,"schema":{"enum":["http","mongodb","redis","built_in_database","mysql","postgresql","file"],"type":"string"}}],"responses":{"200":{"description":"\u6388\u6743\u6570\u636e\u6e90","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_authz_api_schema.file"},{"$ref":"#/components/schemas/emqx_authz_api_schema.postgresql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mysql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.built_in_database"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_cluster"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_sentinel"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_sharded"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_rs"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_post"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_get"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"put":{"description":"\u66f4\u65b0\u6307\u5b9a\u7c7b\u578b\u7684\u6388\u6743\u6570\u636e\u6e90","parameters":[{"description":"\u6570\u636e\u6e90\u7c7b\u578b","in":"path","name":"type","required":true,"schema":{"enum":["http","mongodb","redis","built_in_database","mysql","postgresql","file"],"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_authz_api_schema.file"},{"$ref":"#/components/schemas/emqx_authz_api_schema.postgresql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mysql"},{"$ref":"#/components/schemas/emqx_authz_api_schema.built_in_database"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_cluster"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_sentinel"},{"$ref":"#/components/schemas/emqx_authz_api_schema.redis_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_sharded"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_rs"},{"$ref":"#/components/schemas/emqx_authz_api_schema.mongo_single"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_post"},{"$ref":"#/components/schemas/emqx_authz_api_schema.http_get"}]}}}},"responses":{"204":{"description":"Authorization source updated successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/gateways/{name}/authentication/import_users":{"post":{"description":"\u5bfc\u5165\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Import Users","tags":["Gateway Authentication"]}},"/api_key":{"get":{"description":"Return api_key list","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-API-KEY-1","type":"string"},"api_key":{"description":"TODO:uses HMAC-SHA256 for signing.","example":"a4697a5c75a769f6","type":"string"},"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"created_at":{"description":"ApiKey create datetime","example":"2021-12-01T00:00:00.000Z","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["API Keys"]},"post":{"description":"Create new api_key","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-API-KEY-1","type":"string"},"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/api_key.app"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["API Keys"]}},"/listeners/{id}/start":{"post":{"description":"Start the listener on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"responses":{"200":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","BAD_LISTENER_ID"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/banned":{"get":{"description":"\u5217\u51fa\u76ee\u524d\u6240\u6709\u88ab\u5c01\u7981\u7684\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u548c IP \u5730\u5740\u3002","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_banned.ban"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Banned"]},"post":{"description":"\u6dfb\u52a0\u4e00\u4e2a\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u5230\u9ed1\u540d\u5355\u3002","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_banned.ban"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_banned.ban"},"type":"array"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS","BAD_REQUEST"],"type":"string"},"message":{"description":"\u9519\u8bef\u7684\u8bf7\u6c42\uff0c\u53ef\u80fd\u662f\u53c2\u6570\u9519\u8bef\u6216\u5c01\u7981\u5bf9\u8c61\u5df2\u5b58\u5728\u7b49\u539f\u56e0\u3002","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Banned"]}},"/trace/{name}/log":{"get":{"description":"view trace log","parameters":[{"$ref":"#/components/parameters/trace.name"},{"$ref":"#/components/parameters/trace.bytes"},{"$ref":"#/components/parameters/trace.position"},{"$ref":"#/components/parameters/trace.node"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"items":{"example":"TEXT-LOG-ITEMS","type":"string"},"meta":{"properties":{"bytes":{"default":1000,"description":"Maximum number of bytes to send in response","maximum":2147483647,"minimum":0,"type":"integer"},"position":{"default":0,"description":"Offset from the current trace position.","type":"integer"}},"type":"object"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad input parameter","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","NODE_ERROR"],"type":"string"},"message":{"description":"Trace Name or Node Not Found","type":"string"}},"type":"object"}}}},"503":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["SERVICE_UNAVAILABLE"],"type":"string"},"message":{"description":"Requested chunk size too big","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/trace/{name}":{"delete":{"description":"Delete specified trace","parameters":[{"$ref":"#/components/parameters/trace.name"}],"responses":{"204":{"description":"Delete successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Trace Name Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/trace/{name}/stop":{"put":{"description":"Stop trace by name","parameters":[{"$ref":"#/components/parameters/trace.name"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/trace.trace"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Trace Name Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Trace"]}},"/listeners/{id}/restart":{"post":{"description":"Restart listeners on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"responses":{"200":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","BAD_LISTENER_ID"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/mqtt/retainer/message/{topic}":{"delete":{"description":"\u5220\u9664\u5bf9\u5e94\u7684\u6d88\u606f","parameters":[{"description":"\u4e3b\u9898","in":"path","name":"topic","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":""},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"\u4e0d\u652f\u6301\u7684\u540e\u7aef","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Retainer"]},"get":{"description":"\u901a\u8fc7\u4e0d\u5e26\u901a\u914d\u7b26\u7684\u4e3b\u9898\u67e5\u770b\u5bf9\u5e94\u7684\u4fdd\u7559\u6d88\u606f","parameters":[{"description":"\u4e3b\u9898","in":"path","name":"topic","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"\u6d88\u606f\u8be6\u60c5","content":{"application/json":{"schema":{"$ref":"#/components/schemas/retainer.message"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"\u4e0d\u652f\u6301\u7684\u540e\u7aef","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"\u6d88\u606f\u4e0d\u5b58\u5728","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Retainer"]}},"/rule_events":{"get":{"description":"\u5217\u51fa\u6240\u6709\u80fd\u88ab\u89c4\u5219\u4f7f\u7528\u7684\u4e8b\u4ef6","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_events"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Events","tags":["Rules"]}},"/clients/{clientid}/unsubscribe":{"post":{"description":"Unsubscribe","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.unsubscribe"}}}},"responses":{"204":{"description":"Unsubscribe OK"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/plugins/install":{"post":{"description":"Install a plugin(plugin-vsn.tar.gz).Follow [emqx-plugin-template](https://github.com/emqx/emqx-plugin-template) to develop plugin.","parameters":[],"requestBody":{"content":{"multipart/form-data":{"encoding":{"plugin":{"contentType":"application/gzip"}},"schema":{"properties":{"plugin":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"OK"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UNEXPECTED_ERROR","ALREADY_INSTALLED","BAD_PLUGIN_INFO"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Plugins"]}},"/gateways/lwm2m/clients/{clientid}/read":{"post":{"description":"\u53d1\u9001\u8bfb\u6307\u4ee4\u5230\u67d0\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Read Value from a Resource Path","tags":["LwM2M Gateways"]}},"/banned/{as}/{who}":{"delete":{"description":"\u5c06\u4e00\u4e2a\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u4ece\u9ed1\u540d\u5355\u4e2d\u5220\u9664\u3002","parameters":[{"description":"\u5c01\u7981\u65b9\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u7b49\u65b9\u5f0f\u8fdb\u884c\u5c01\u7981\u3002","example":"username","in":"path","name":"as","required":true,"schema":{"enum":["clientid","username","peerhost"],"type":"string"}},{"description":"\u5c01\u7981\u5bf9\u8c61\uff0c\u5177\u4f53\u7684\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u540d\u6216\u8005 IP \u5730\u5740\u3002","example":"Badass","in":"path","name":"who","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Delete banned success"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"\u672a\u5728\u9ed1\u540d\u5355\u4e2d\u627e\u5230\u8be5\u5c01\u7981\u5bf9\u8c61\u3002","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Banned"]}},"/configs_reset/{rootname}":{"post":{"description":"Reset the config entry specified by the query string parameter `conf_path`.<br/>- For a config entry that has default value, this resets it to the default value;<br/>- For a config entry that has no default value, an error 400 will be returned","parameters":[{"example":"sysmon","in":"path","name":"rootname","required":true,"schema":{"enum":["zones","node","cluster","log","broker","sys_topics","sysmon","alarm","persistent_session_store","trace","dashboard","limiter"],"type":"string"}},{"description":"The config path separated by '.' character","example":"os.sysmem_high_watermark","in":"query","name":"conf_path","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Rest config successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NO_DEFAULT_VALUE","REST_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["REST_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/mqtt/retainer":{"get":{"description":"\u67e5\u770b\u914d\u7f6e\u5185\u5bb9","parameters":[],"responses":{"200":{"description":"\u914d\u7f6e\u5185\u5bb9","content":{"application/json":{"schema":{"$ref":"#/components/schemas/retainer.retainer"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"\u914d\u7f6e\u4e0d\u5b58\u5728","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Retainer"]},"put":{"description":"\u66f4\u65b0\u914d\u7f6e","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/retainer.retainer"}}}},"responses":{"200":{"description":"\u914d\u7f6e\u66f4\u65b0\u6210\u529f","content":{"application/json":{"schema":{"$ref":"#/components/schemas/retainer.retainer"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"\u914d\u7f6e\u66f4\u65b0\u5931\u8d25","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Retainer"]}},"/listeners/{listener_id}/authentication/{id}/status":{"get":{"description":"\u83b7\u53d6\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u7684\u72b6\u6001\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"status_metrics":{"summary":"Authn status metrics","value":{"metrics":{"failed":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0,"total":0},"node_error":[],"node_metrics":[{"metrics":{"failed":0,"matched":0,"nomatch":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"total":0},"node":"emqx@127.0.0.1"}],"node_resource_metrics":[{"metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"node":"emqx@127.0.0.1"}],"node_status":[{"node":"emqx@127.0.0.1","status":"connected"}],"resource_metrics":{"failed":0,"matched":0,"rate":0.0,"rate_last5m":0.0,"rate_max":0.0,"success":0},"status":"connected"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_schema.metrics_status_fields"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/authorization/cache":{"delete":{"description":"\u6e05\u9664\u96c6\u7fa4\u4e2d\u6240\u6709\u6388\u6743\u6570\u636e\u7f13\u5b58\u3002","parameters":[],"responses":{"204":{"description":"No Content"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/listeners/{listener_id}/authentication":{"get":{"description":"\u5217\u51fa\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}},{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"},{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"},{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"},{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}],"schema":{"items":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"post":{"description":"\u5728\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u521b\u5efa\u8ba4\u8bc1\u5668\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"jwt":{"summary":"JWT authentication","value":{"algorithm":"hmac-based","mechanism":"jwt","secret":"mysecret","secret_base64_encoded":false,"use_jwks":false,"verify_claims":{"username":"${username}"}}},"password_based:built_in_database":{"summary":"Built-in password_based authentication","value":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"user_id_type":"username"}},"password_based:http":{"summary":"password_based authentication through external HTTP API","value":{"backend":"http","body":{"password":"${password}","username":"${username}"},"connect_timeout":5000,"enable_pipelining":100,"headers":{"content-type":"application/json"},"mechanism":"password_based","method":"post","pool_size":8,"request_timeout":5000,"ssl":{"enable":false},"url":"http://127.0.0.1:18083"}},"password_based:mongodb":{"summary":"password_based authentication with MongoDB backend","value":{"backend":"mongodb","collection":"users","database":"example","filter":{"username":"${username}"},"is_superuser_field":"is_superuser","mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"password_hash_field":"password_hash","salt_field":"salt","server":"127.0.0.1:27017"}},"password_based:redis":{"summary":"password_based authentication with Redis backend","value":{"backend":"redis","cmd":"HMGET ${username} password_hash salt","database":0,"mechanism":"password_based","password_hash_algorithm":{"name":"sha256","salt_position":"suffix"},"redis_type":"single","server":"127.0.0.1:6379"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/authn-scram-builtin_db.authentication"},{"$ref":"#/components/schemas/authn-jwt.jwks"},{"$ref":"#/components/schemas/authn-jwt.public-key"},{"$ref":"#/components/schemas/authn-jwt.hmac-based"},{"$ref":"#/components/schemas/authn-http.post"},{"$ref":"#/components/schemas/authn-http.get"},{"$ref":"#/components/schemas/authn-redis.sentinel"},{"$ref":"#/components/schemas/authn-redis.cluster"},{"$ref":"#/components/schemas/authn-redis.standalone"},{"$ref":"#/components/schemas/authn-mongodb.sharded-cluster"},{"$ref":"#/components/schemas/authn-mongodb.replica-set"},{"$ref":"#/components/schemas/authn-mongodb.standalone"},{"$ref":"#/components/schemas/authn-postgresql.authentication"},{"$ref":"#/components/schemas/authn-mysql.authentication"},{"$ref":"#/components/schemas/authn-builtin_db.authentication"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"409":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"ALREADY_EXISTS","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/api_key/{name}":{"delete":{"description":"Delete the specific api_key","parameters":[{"$ref":"#/components/parameters/api_key.name"}],"responses":{"204":{"description":"Delete successfully"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["API Keys"]},"get":{"description":"Return the specific api_key","parameters":[{"$ref":"#/components/parameters/api_key.name"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-API-KEY-1","type":"string"},"api_key":{"description":"TODO:uses HMAC-SHA256 for signing.","example":"a4697a5c75a769f6","type":"string"},"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"created_at":{"description":"ApiKey create datetime","example":"2021-12-01T00:00:00.000Z","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["API Keys"]},"put":{"description":"Update the specific api_key","parameters":[{"$ref":"#/components/parameters/api_key.name"}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"name":{"description":"Unique and format by [a-zA-Z0-9-_]","example":"EMQX-API-KEY-1","type":"string"},"api_key":{"description":"TODO:uses HMAC-SHA256 for signing.","example":"a4697a5c75a769f6","type":"string"},"expired_at":{"default":"infinity","description":"No longer valid datetime","example":"2021-12-05T02:01:34.186Z","oneOf":[{"oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},{"enum":["infinity"],"type":"string"}]},"created_at":{"description":"ApiKey create datetime","example":"2021-12-01T00:00:00.000Z","oneOf":[{"description":"epoch-second","example":1640995200,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]},"desc":{"example":"Note","type":"string"},"enable":{"description":"Enable/Disable","type":"boolean"},"expired":{"description":"Expired","type":"boolean"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["API Keys"]}},"/clients/{clientid}/subscriptions":{"get":{"description":"Get client subscriptions","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_subscriptions.subscription"},"type":"array"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/configs":{"get":{"description":"Get all the configurations of the specified node, including hot and non-hot updatable items.","parameters":[{"description":"Node's name: If you do not fill in the fields, this node will be used by default.","example":"emqx@127.0.0.1","in":"query","name":"node","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"zones":{"description":"<code>zone</code> \u662f\u6309<code>name</code> \u5206\u7ec4\u7684\u4e00\u7ec4\u914d\u7f6e\u3002<br/>\u5bf9\u4e8e\u7075\u6d3b\u7684\u914d\u7f6e\u6620\u5c04\uff0c\u53ef\u4ee5\u5c06 <code>name</code> \u8bbe\u7f6e\u4e3a\u4fa6\u542c\u5668\u7684 <code>zone</code> \u914d\u7f6e\u3002<br/>\u6ce8\uff1a\u540d\u4e3a <code>default</code> \u7684\u5185\u7f6e\u533a\u57df\u662f\u81ea\u52a8\u521b\u5efa\u7684\uff0c\u65e0\u6cd5\u5220\u9664\u3002","properties":{"$name":{"$ref":"#/components/schemas/broker.zone"}},"type":"object"},"node":{"$ref":"#/components/schemas/emqx_conf_schema.node"},"cluster":{"$ref":"#/components/schemas/emqx_conf_schema.cluster"},"log":{"$ref":"#/components/schemas/emqx_conf_schema.log"},"broker":{"description":"Broker \u76f8\u5173\u914d\u7f6e\u9879\u3002","$ref":"#/components/schemas/broker.broker"},"sys_topics":{"description":"\u7cfb\u7edf\u4e3b\u9898\u914d\u7f6e\u3002","$ref":"#/components/schemas/broker.sys_topics"},"sysmon":{"$ref":"#/components/schemas/broker.sysmon"},"alarm":{"$ref":"#/components/schemas/broker.alarm"},"persistent_session_store":{"$ref":"#/components/schemas/broker.persistent_session_store"},"trace":{"$ref":"#/components/schemas/broker.trace"},"dashboard":{"description":"EMQX Dashboard \u914d\u7f6e\u3002","$ref":"#/components/schemas/dashboard.dashboard"},"limiter":{"description":"Settings for the rate limiter.","$ref":"#/components/schemas/limiter.limiter"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"500":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_NODE"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/clients":{"get":{"description":"List clients","parameters":[{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"Node name","example":"emqx@127.0.0.1","in":"query","name":"node","required":false,"schema":{"type":"string"}},{"description":"User name","in":"query","name":"username","required":false,"schema":{"type":"string"}},{"in":"query","name":"zone","required":false,"schema":{"type":"string"}},{"description":"Client's IP address","example":"127.0.0.1","in":"query","name":"ip_address","required":false,"schema":{"type":"string"}},{"description":"The current connection status of the client, the possible values are connected,idle,disconnected","in":"query","name":"conn_state","required":false,"schema":{"enum":["connected","idle","disconnected"],"type":"string"}},{"description":"Whether the client uses a new session","in":"query","name":"clean_start","required":false,"schema":{"type":"boolean"}},{"description":"Client protocol version","in":"query","name":"proto_ver","required":false,"schema":{"type":"string"}},{"description":"Fuzzy search `clientid` as substring","in":"query","name":"like_clientid","required":false,"schema":{"type":"string"}},{"description":"Fuzzy search `username` as substring","in":"query","name":"like_username","required":false,"schema":{"type":"string"}},{"description":"Search client session creation time by greater than or equal method, rfc3339 or timestamp(millisecond)","in":"query","name":"gte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"Search client session creation time by less than or equal method, rfc3339 or timestamp(millisecond)","in":"query","name":"lte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"Search client connection creation time by greater than or equal method, rfc3339 or timestamp(epoch millisecond)","in":"query","name":"gte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"Search client connection creation time by less than or equal method, rfc3339 or timestamp(millisecond)","in":"query","name":"lte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"items":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.client"},"type":"array"},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["INVALID_PARAMETER"],"type":"string"},"message":{"description":"Invalid parameters","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}},"/gateways/{name}/authentication/users":{"get":{"description":"\u83b7\u53d6\u7528\u6237\u5217\u8868\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}},{"description":"\u4f7f\u7528\u7528\u6237 ID \uff08username \u6216 clientid\uff09\u6a21\u7cca\u641c\u7d22\uff0c\u4ec5\u652f\u6301\u6309\u5b50\u4e32\u7684\u65b9\u5f0f\u8fdb\u884c\u641c\u7d22\u3002","example":"test_","in":"query","name":"like_user_id","required":false,"schema":{"type":"string"}},{"description":"\u662f\u5426\u662f\u8d85\u7ea7\u7528\u6237","in":"query","name":"is_superuser","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"data":[{"user_id":"user1"},{"is_superuser":true,"user_id":"user2"}],"meta":{"count":300,"limit":20,"page":0}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_users"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List users for a Gateway Authenticator","tags":["Gateway Authentication"]},"post":{"description":"\u6dfb\u52a0\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add User for a Gateway Authenticator","tags":["Gateway Authentication"]}},"/gateway/{name}/listeners/{id}/authentication/import_users":{"post":{"deprecated":true,"description":"\u5bfc\u5165\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"stomp:tcp:def","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Import Users","tags":["Gateway Authentication"]}},"/listeners/{id}":{"delete":{"description":"Delete the specified listener on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"responses":{"204":{"description":"Listener deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]},"get":{"description":"List all running node's listeners for the specified id.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind"},{"$ref":"#/components/schemas/listeners.wss_required_bind"},{"$ref":"#/components/schemas/listeners.ws_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_required_bind"}]}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_LISTENER_ID","BAD_REQUEST"],"type":"string"},"message":{"description":"Listener id not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]},"post":{"deprecated":true,"description":"Create the specified listener on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"requestBody":{"content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind"},{"$ref":"#/components/schemas/listeners.wss_required_bind"},{"$ref":"#/components/schemas/listeners.ws_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_required_bind"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind"},{"$ref":"#/components/schemas/listeners.wss_required_bind"},{"$ref":"#/components/schemas/listeners.ws_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_required_bind"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_LISTENER_ID","BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]},"put":{"description":"Update the specified listener on all nodes.","parameters":[{"$ref":"#/components/parameters/listeners.listener_id"}],"requestBody":{"content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_not_required_bind"},{"$ref":"#/components/schemas/listeners.wss_not_required_bind"},{"$ref":"#/components/schemas/listeners.ws_not_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_not_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_not_required_bind"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"acceptors":16,"access_rules":["allow all"],"bind":"0.0.0.0:1884","current_connections":10240,"id":"tcp:demo","max_connections":204800,"mountpoint":"/","proxy_protocol":false,"proxy_protocol_timeout":"3s","running":true,"tcp_options":{"active_n":100,"backlog":1024,"buffer":"4KB","high_watermark":"1MB","nodelay":false,"reuseaddr":true,"send_timeout":"15s","send_timeout_close":true},"type":"tcp","zone":"default"},"schema":{"oneOf":[{"$ref":"#/components/schemas/listeners.quic_required_bind"},{"$ref":"#/components/schemas/listeners.wss_required_bind"},{"$ref":"#/components/schemas/listeners.ws_required_bind"},{"$ref":"#/components/schemas/listeners.ssl_required_bind"},{"$ref":"#/components/schemas/listeners.tcp_required_bind"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_LISTENER_ID","BAD_REQUEST"],"type":"string"},"message":{"description":"Listener id not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/users/{username}/change_pwd":{"post":{"description":"\u66f4\u6539 Dashboard \u7528\u6237\u5bc6\u7801","parameters":[{"description":"Dashboard \u7528\u6237\u540d","example":"admin","in":"path","name":"username","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"old_pwd":{"description":"\u65e7\u5bc6\u7801","type":"string"},"new_pwd":{"description":"\u65b0\u5bc6\u7801","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Update user password successfully"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST","ERROR_PWD_NOT_MATCH"],"type":"string"},"message":{"description":"\u767b\u5f55\u5931\u8d25\u3002\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["USER_NOT_FOUND"],"type":"string"},"message":{"description":"Dashboard \u7528\u6237\u4e0d\u5b58\u5728","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]}},"/gateways/{name}/clients":{"get":{"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u7684\u5ba2\u6237\u7aef\u5217\u8868","parameters":[{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u7684\u8282\u70b9\u540d\u79f0","example":"","in":"query","name":"node","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef ID","example":"","in":"query","name":"clientid","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef Username","example":"","in":"query","name":"username","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef IP \u5730\u5740","example":"","in":"query","name":"ip_address","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u8fde\u63a5\u72b6\u6001","example":"","in":"query","name":"conn_state","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef\u534f\u8bae\u7248\u672c","example":"","in":"query","name":"proto_ver","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5ba2\u6237\u7aef `clean_start` \u6807\u8bb0","example":"","in":"query","name":"clean_start","required":false,"schema":{"type":"boolean"}},{"description":"\u5b50\u4e32\u5339\u914d\u5ba2\u6237\u7aef ID","example":"","in":"query","name":"like_clientid","required":false,"schema":{"type":"string"}},{"description":"\u5b50\u4e32\u5339\u914d \u5ba2\u6237\u7aef Username","example":"","in":"query","name":"like_username","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_created_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u8fde\u63a5\u521b\u5efa\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d\u8fde\u63a5\u521b\u5efa\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684\u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_connected_at","required":false,"schema":{"oneOf":[{"description":"epoch-millisecond","example":1640995200000,"type":"integer"},{"example":"2022-01-01T00:00:00.000Z","format":"date-time","type":"string"}]}},{"description":"\u5339\u914d LwM2M \u5ba2\u6237\u7aef Endpoint Name","example":"","in":"query","name":"endpoint_name","required":false,"schema":{"type":"string"}},{"description":"\u5b50\u4e32\u5339\u914d LwM2M \u5ba2\u6237\u7aef Endpoint Name","example":"","in":"query","name":"like_endpoint_name","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5fc3\u8df3\u65f6\u95f4\u5927\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684 LwM2M \u5ba2\u6237\u7aef","example":"","in":"query","name":"gte_lifetime","required":false,"schema":{"type":"string"}},{"description":"\u5339\u914d\u5fc3\u8df3\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8e\u6307\u5b9a\u503c\u7684 LwM2M \u5ba2\u6237\u7aef","example":"","in":"query","name":"lte_lifetime","required":false,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"data":{"oneOf":[{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.exproto_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.lwm2m_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.coap_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.mqttsn_client"},"type":"array"},{"items":{"$ref":"#/components/schemas/emqx_gateway_api_clients.stomp_client"},"type":"array"}]},"meta":{"$ref":"#/components/schemas/public.meta"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Gateway's Clients","tags":["Gateway Clients"]}},"/gateways/{name}/authentication/users/{uid}":{"delete":{"description":"\u5220\u9664\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"User Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete User for a Gateway Authenticator","tags":["Gateway Authentication"]},"get":{"description":"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get User Info for a Gateway Authenticator","tags":["Gateway Authentication"]},"put":{"description":"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"test_username","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update User Info for a Gateway Authenticator","tags":["Gateway Authentication"]}},"/gateways/{name}/listeners/{id}/authentication/import_users":{"post":{"description":"\u5bfc\u5165\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"stomp:tcp:def","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"properties":{"filename":{"format":"binary","type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Imported"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Import Users","tags":["Gateway Authentication"]}},"/rules/{id}/metrics/reset":{"put":{"description":"\u91cd\u7f6e\u89c4\u5219\u8ba1\u6570","parameters":[{"example":"my_rule_id","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Reset Success"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Rule not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Reset a Rule Metrics","tags":["Rules"]}},"/gateways/{name}/listeners/{id}/authentication/users":{"get":{"description":"\u83b7\u53d6\u7528\u6237\u5217\u8868\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"Page number of the results to fetch.","example":1,"in":"query","name":"page","schema":{"default":1,"minimum":1,"type":"integer"}},{"description":"Results per page(max 1000)","example":50,"in":"query","name":"limit","schema":{"default":100,"maximum":1000,"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Authenticator's Users","tags":["Gateway Listeners"]},"post":{"description":"\u6dfb\u52a0\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Add User for an Authenticator","tags":["Gateway Listeners"]}},"/authorization/settings":{"get":{"description":"\u83b7\u53d6\u6388\u6743\u914d\u7f6e","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"required":["deny_action","no_match"],"properties":{"no_match":{"default":"allow","description":"\u5982\u679c\u7528\u6237\u6216\u5ba2\u6237\u7aef\u4e0d\u5339\u914dACL\u89c4\u5219\uff0c\u6216\u8005\u4ece\u53ef\u914d\u7f6e\u6388\u6743\u6e90(\u6bd4\u5982\u5185\u7f6e\u6570\u636e\u5e93\u3001HTTP API \u6216 PostgreSQL \u7b49\u3002)\u5185\u672a\u627e<br/>\u5230\u6b64\u7c7b\u7528\u6237\u6216\u5ba2\u6237\u7aef\u65f6\uff0c\u6a21\u5f0f\u7684\u8ba4\u8bbf\u95ee\u63a7\u5236\u64cd\u4f5c\u3002<br/>\u5728\u201c\u6388\u6743\u201d\u4e2d\u67e5\u627e\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002","enum":["allow","deny"],"type":"string"},"deny_action":{"default":"ignore","description":"\u6388\u6743\u68c0\u67e5\u62d2\u7edd\u64cd\u4f5c\u65f6\u7684\u64cd\u4f5c\u3002","enum":["ignore","disconnect"],"type":"string"},"cache":{"$ref":"#/components/schemas/broker.authz_cache"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"put":{"description":"\u66f4\u65b0\u6388\u6743\u914d\u7f6e","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"required":["deny_action","no_match"],"properties":{"no_match":{"default":"allow","description":"\u5982\u679c\u7528\u6237\u6216\u5ba2\u6237\u7aef\u4e0d\u5339\u914dACL\u89c4\u5219\uff0c\u6216\u8005\u4ece\u53ef\u914d\u7f6e\u6388\u6743\u6e90(\u6bd4\u5982\u5185\u7f6e\u6570\u636e\u5e93\u3001HTTP API \u6216 PostgreSQL \u7b49\u3002)\u5185\u672a\u627e<br/>\u5230\u6b64\u7c7b\u7528\u6237\u6216\u5ba2\u6237\u7aef\u65f6\uff0c\u6a21\u5f0f\u7684\u8ba4\u8bbf\u95ee\u63a7\u5236\u64cd\u4f5c\u3002<br/>\u5728\u201c\u6388\u6743\u201d\u4e2d\u67e5\u627e\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002","enum":["allow","deny"],"type":"string"},"deny_action":{"default":"ignore","description":"\u6388\u6743\u68c0\u67e5\u62d2\u7edd\u64cd\u4f5c\u65f6\u7684\u64cd\u4f5c\u3002","enum":["ignore","disconnect"],"type":"string"},"cache":{"$ref":"#/components/schemas/broker.authz_cache"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"required":["deny_action","no_match"],"properties":{"no_match":{"default":"allow","description":"\u5982\u679c\u7528\u6237\u6216\u5ba2\u6237\u7aef\u4e0d\u5339\u914dACL\u89c4\u5219\uff0c\u6216\u8005\u4ece\u53ef\u914d\u7f6e\u6388\u6743\u6e90(\u6bd4\u5982\u5185\u7f6e\u6570\u636e\u5e93\u3001HTTP API \u6216 PostgreSQL \u7b49\u3002)\u5185\u672a\u627e<br/>\u5230\u6b64\u7c7b\u7528\u6237\u6216\u5ba2\u6237\u7aef\u65f6\uff0c\u6a21\u5f0f\u7684\u8ba4\u8bbf\u95ee\u63a7\u5236\u64cd\u4f5c\u3002<br/>\u5728\u201c\u6388\u6743\u201d\u4e2d\u67e5\u627e\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002","enum":["allow","deny"],"type":"string"},"deny_action":{"default":"ignore","description":"\u6388\u6743\u68c0\u67e5\u62d2\u7edd\u64cd\u4f5c\u65f6\u7684\u64cd\u4f5c\u3002","enum":["ignore","disconnect"],"type":"string"},"cache":{"$ref":"#/components/schemas/broker.authz_cache"}},"type":"object"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/gateways/lwm2m/clients/{clientid}/write":{"post":{"description":"\u53d1\u9001\u5199\u6307\u4ee4\u5230\u67d0\u8d44\u6e90","parameters":[{"example":"urn:oma:lwm2m:oma:2","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"example":"/3/0/7","in":"query","name":"path","required":true,"schema":{"type":"string"}},{"example":"Integer","in":"query","name":"type","required":true,"schema":{"enum":["Integer","Float","Time","String","Boolean","Opaque","Objlnk"],"type":"string"}},{"example":123,"in":"query","name":"value","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Clientid not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Write a Value to Resource Path","tags":["LwM2M Gateways"]}},"/configs/log":{"get":{"description":"Get the sub-configurations under *log*","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.log"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"config not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]},"put":{"description":"Update the sub-configurations under *log*","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.log"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_conf_schema.log"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["UPDATE_FAILED"],"type":"string"},"message":{"description":"Error code to troubleshoot problems.","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Configs"]}},"/rules/{id}":{"delete":{"description":"\u901a\u8fc7 ID \u5220\u9664\u96c6\u7fa4\u91cc\u6240\u6709\u8282\u70b9\u4e0a\u7684\u89c4\u5219","parameters":[{"example":"my_rule_id","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Delete rule successfully"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete a Rule","tags":["Rules"]},"get":{"description":"\u901a\u8fc7 ID \u67e5\u8be2\u89c4\u5219","parameters":[{"example":"my_rule_id","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_info"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Rule not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get a Rule","tags":["Rules"]},"put":{"description":"\u901a\u8fc7 ID \u66f4\u65b0\u96c6\u7fa4\u91cc\u6240\u6709\u8282\u70b9\u4e0a\u7684\u89c4\u5219","parameters":[{"example":"my_rule_id","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_creation"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_rule_api_schema.rule_info"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Invalid Parameters","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update a Rule","tags":["Rules"]}},"/exhooks/{name}/hooks":{"get":{"description":"\u83b7\u53d6 Exhook \u670d\u52a1\u5668\u7684\u94a9\u5b50\u4fe1\u606f","parameters":[{"description":"Exhook \u670d\u52a1\u5668\u7684\u540d\u79f0","example":"default","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/exhook.list_hook_info"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["ExHook"]}},"/bridges":{"get":{"description":"\u5217\u51fa\u6240\u6709 Birdge","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"metrics":{"dropped":0,"dropped.expired":0,"dropped.other":0,"dropped.queue_full":0,"dropped.resource_not_found":0,"dropped.resource_stopped":0,"failed":0,"inflight":0,"late_reply":0,"matched":0,"queuing":0,"rate":0,"rate_last5m":0,"rate_max":0,"received":0,"retried":0,"success":0},"mode":"cluster_shareload","name":"mqtt_example","node_metrics":[{"metrics":{"dropped":0,"dropped.expired":0,"dropped.other":0,"dropped.queue_full":0,"dropped.resource_not_found":0,"dropped.resource_stopped":0,"failed":0,"inflight":0,"late_reply":0,"matched":0,"queuing":0,"rate":0,"rate_last5m":0,"rate_max":0,"received":0,"retried":0,"success":0},"node":"emqx@127.0.0.1"}],"password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"},{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","metrics":{"dropped":0,"dropped.expired":0,"dropped.other":0,"dropped.queue_full":0,"dropped.resource_not_found":0,"dropped.resource_stopped":0,"failed":0,"inflight":0,"late_reply":0,"matched":0,"queuing":0,"rate":0,"rate_last5m":0,"rate_max":0,"received":0,"retried":0,"success":0},"name":"webhook_example","node_metrics":[{"metrics":{"dropped":0,"dropped.expired":0,"dropped.other":0,"dropped.queue_full":0,"dropped.resource_not_found":0,"dropped.resource_stopped":0,"failed":0,"inflight":0,"late_reply":0,"matched":0,"queuing":0,"rate":0,"rate_last5m":0,"rate_max":0,"received":0,"retried":0,"success":0},"node":"emqx@127.0.0.1"}],"pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}],"schema":{"items":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.get"},{"$ref":"#/components/schemas/bridge_webhook.get"}]},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"List Bridges","tags":["Bridges"]},"post":{"description":"\u901a\u8fc7\u7c7b\u578b\u548c\u540d\u5b57\u521b\u5efa Bridge","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","name":"mqtt_example","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","name":"webhook_example","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.post"},{"$ref":"#/components/schemas/bridge_webhook.post"}]}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"mqtt_example":{"summary":"MQTT Bridge","value":{"clean_start":true,"egress":{"local":{"topic":"emqx/#"},"remote":{"payload":"${payload}","qos":"${qos}","retain":false,"topic":"from_emqx/${topic}"}},"enable":true,"ingress":{"local":{"payload":"${payload}","qos":"${qos}","retain":"${retain}","topic":"from_aws/${topic}"},"remote":{"qos":1,"topic":"aws/#"}},"keepalive":"300s","max_inflight":100,"mode":"cluster_shareload","name":"mqtt_example","password":"bar","proto_ver":"v4","resource_opts":{"auto_restart_interval":"60s","health_check_interval":"15s","max_queue_bytes":104857600,"query_mode":"sync"},"retry_interval":"15s","server":"127.0.0.1:1883","ssl":{"enable":false},"type":"mqtt","username":"foo"}},"webhook_example":{"summary":"WebHook","value":{"body":"${payload}","connect_timeout":"15s","enable":true,"enable_pipelining":100,"local_topic":"emqx_webhook/#","max_retries":3,"method":"post","name":"webhook_example","pool_size":4,"pool_type":"random","request_timeout":"15s","resource_opts":{"async_inflight_window":100,"auto_restart_interval":15000,"health_check_interval":15000,"max_queue_bytes":104857600,"query_mode":"async","worker_pool_size":1},"ssl":{"enable":false},"type":"webhook","url":"http://localhost:9901/messages/${topic}"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/bridge_mqtt.get"},{"$ref":"#/components/schemas/bridge_webhook.get"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["ALREADY_EXISTS"],"type":"string"},"message":{"description":"Bridge already exists","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Create Bridge","tags":["Bridges"]}},"/gateway/{name}/listeners/{id}":{"delete":{"deprecated":true,"description":"\u5220\u9664\u6307\u5b9a\u76d1\u542c\u5668\u3002\u88ab\u5220\u9664\u7684\u76d1\u542c\u5668\u4e0b\u6240\u6709\u5df2\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u90fd\u4f1a\u79bb\u7ebf\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete the Listener","tags":["Gateway Listeners"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u6307\u5b9a\u7f51\u5173\u76d1\u542c\u5668\u7684\u914d\u7f6e\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get the Listener Configs","tags":["Gateway Listeners"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u67d0\u7f51\u5173\u76d1\u542c\u5668\u7684\u914d\u7f6e\u3002\u88ab\u66f4\u65b0\u7684\u76d1\u542c\u5668\u4f1a\u6267\u884c\u91cd\u542f\uff0c\u6240\u6709\u5df2\u8fde\u63a5\u5230\u8be5\u76d1\u542c\u5668\u4e0a\u7684\u5ba2\u6237\u7aef\u90fd\u4f1a\u88ab\u65ad\u5f00\u3002","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"examples":{"dtls_listener":{"summary":"A simple dtls listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22213","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-def","type":"dtls","udp_options":{"active_n":100,"backlog":1024}}},"dtls_listener_with_psk_ciphers":{"summary":"A dtls listener with PSK example","value":{"acceptors":16,"bind":"22214","dtls_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","ciphers":"RSA-PSK-AES256-GCM-SHA384,RSA-PSK-AES256-CBC-SHA384,RSA-PSK-AES128-GCM-SHA256,RSA-PSK-AES128-CBC-SHA256,RSA-PSK-AES256-CBC-SHA,RSA-PSK-AES128-CBC-SHA","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","user_lookup_fun":"emqx_tls_psk:lookup","verify":"verify_none","versions":["dtlsv1.2","dtlsv1"]},"max_conn_rate":1000,"max_connections":1024000,"name":"dtls-psk","type":"dtls"}},"lisetner_with_authn":{"summary":"A tcp listener with authentication example","value":{"acceptors":16,"authentication":{"backend":"built_in_database","mechanism":"password_based","password_hash_algorithm":{"name":"sha256"},"user_id_type":"username"},"bind":"22215","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-with-authn","type":"tcp"}},"ssl_listener":{"summary":"A simple ssl listener example","value":{"acceptors":16,"access_rules":["allow all"],"bind":"22211","max_conn_rate":1000,"max_connections":1024000,"name":"ssl-def","ssl_options":{"cacertfile":"/etc/emqx/certs/cacert.pem","certfile":"/etc/emqx/certs/cert.pem","fail_if_no_peer_cert":false,"keyfile":"/etc/emqx/certs/key.pem","verify":"verify_none","versions":["tlsv1.3","tlsv1.2","tlsv1.1","tlsv1"]},"tcp_options":{"active_n":100,"backlog":1024},"type":"ssl"}},"tcp_listener":{"summary":"A simple tcp listener example","value":{"acceptors":16,"bind":"22210","max_conn_rate":1000,"max_connections":1024000,"name":"tcp-def","tcp_options":{"active_n":100,"backlog":1024,"buffer":"10KB","high_watermark":"1MB","nodelay":false,"recbuf":"10KB","reuseaddr":true,"send_timeout":"15s","send_timeout_close":true,"sndbuf":"10KB"},"type":"tcp"}},"udp_listener":{"summary":"A simple udp listener example","value":{"bind":"22212","name":"udp-def","type":"udp","udp_options":{"active_n":100,"buffer":"10KB","recbuf":"10KB","reuseaddr":true,"sndbuf":"10KB"}}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api.dtls_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.udp_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.ssl_listener"},{"$ref":"#/components/schemas/emqx_gateway_api.tcp_listener"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update the Listener Configs","tags":["Gateway Listeners"]}},"/gateway/coap/clients/{clientid}/request":{"post":{"deprecated":true,"description":"\u53d1\u9001 CoAP \u6d88\u606f\u5230\u6307\u5b9a\u5ba2\u6237\u7aef","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"token":{"description":"\u6d88\u606f Token, \u53ef\u4ee5\u4e3a\u7a7a","type":"string"},"method":{"description":"\u8bf7\u6c42 Method \u7c7b\u578b","enum":["get","put","post","delete"],"type":"string"},"timeout":{"description":"\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4","example":"32s","type":"string"},"content_type":{"description":"Payload \u7c7b\u578b","enum":["text/plain","application/json","application/octet-stream"],"type":"string"},"payload":{"description":"Payload \u5185\u5bb9","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"properties":{"id":{"description":"\u6d88\u606f ID","type":"integer"},"token":{"description":"\u6d88\u606f Token, \u53ef\u4ee5\u4e3a\u7a7a","type":"string"},"method":{"description":"\u5e94\u7b54\u7801","type":"string"},"payload":{"description":"Payload \u5185\u5bb9","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_FOUND"],"type":"string"},"message":{"description":"Client not found error","type":"string"}},"type":"object"}}}},"504":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENT_NOT_RESPONSE"],"type":"string"},"message":{"description":"Waiting for client response timeout","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Send a Request to a Client","tags":["CoAP Gateways"]}},"/gateway/{name}/clients/{clientid}":{"delete":{"deprecated":true,"description":"\u8e22\u51fa\u6307\u5b9a\u5ba2\u6237\u7aef","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Kicked"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Kick out Client","tags":["Gateway Clients"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u5ba2\u6237\u7aef\u4fe1\u606f","parameters":[{"description":"\u5ba2\u6237\u7aef ID","in":"path","name":"clientid","required":true,"schema":{"type":"string"}},{"description":"\u7f51\u5173\u540d\u79f0","in":"path","name":"name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"general_client":{"summary":"General Client Info","value":{"recv_pkt":1,"clean_start":true,"send_oct":61,"mailbox_len":0,"recv_cnt":1,"subscriptions_max":"infinity","connected":true,"proto_name":"STOMP","send_msg":0,"created_at":"2021-12-07T10:44:02.721+08:00","expiry_interval":0,"keepalive":0,"inflight_cnt":0,"recv_msg":0,"send_pkt":1,"mqueue_len":0,"reductions":72022,"clientid":"MzAyMzEzNTUwNzk1NDA1MzYyMzIwNzUxNjQwMTY1NzQ0NjE","is_bridge":false,"proto_ver":"1.0","recv_oct":56,"awaiting_rel_cnt":0,"subscriptions_cnt":0,"ip_address":"127.0.0.1","connected_at":"2021-12-07T10:44:02.721+08:00","awaiting_rel_max":"infinity","mqueue_max":"infinity","send_cnt":1,"node":"emqx@127.0.0.1","heap_size":4185,"inflight_max":"infinity","port":50675,"disconnected_at":null,"mqueue_dropped":0,"username":"guest"}},"lwm2m_client":{"summary":"LwM2M Client Info","value":{"recv_pkt":1,"clean_start":true,"send_oct":61,"mailbox_len":0,"recv_cnt":1,"subscriptions_max":"infinity","endpoint_name":"urn:imei:154928475237123","connected":true,"proto_name":"LwM2M","send_msg":0,"lifetime":86400,"created_at":"2021-12-07T10:44:02.721+08:00","expiry_interval":0,"keepalive":0,"inflight_cnt":0,"recv_msg":0,"send_pkt":1,"mqueue_len":0,"reductions":72022,"clientid":"MzAyMzEzNTUwNzk1NDA1MzYyMzIwNzUxNjQwMTY1NzQ0NjE","is_bridge":false,"proto_ver":"1.0","recv_oct":56,"awaiting_rel_cnt":0,"subscriptions_cnt":0,"ip_address":"127.0.0.1","connected_at":"2021-12-07T10:44:02.721+08:00","awaiting_rel_max":"infinity","mqueue_max":"infinity","send_cnt":1,"node":"emqx@127.0.0.1","heap_size":4185,"inflight_max":"infinity","port":50675,"disconnected_at":null,"mqueue_dropped":0,"username":"guest"}}},"schema":{"oneOf":[{"$ref":"#/components/schemas/emqx_gateway_api_clients.exproto_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.lwm2m_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.coap_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.mqttsn_client"},{"$ref":"#/components/schemas/emqx_gateway_api_clients.stomp_client"}]}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get Client Info","tags":["Gateway Clients"]}},"/listeners_status":{"get":{"description":"List all running node's listeners live status. group by listener type","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"example":[{"enable":false,"ids":["tcp:demo"],"node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":11,"max_connections":1024000,"running":true}},{"node":"emqx@127.0.0.1","status":{"current_connections":10,"max_connections":1024000,"running":true}}],"status":{"current_connections":21,"max_connections":2048000,"running":true},"type":"tcp"},{"enable":false,"ids":["ssl:default"],"node_status":[{"node":"emqx@127.0.0.1","status":{"current_connections":31,"max_connections":"infinity","running":true}},{"node":"emqx@127.0.0.1","status":{"current_connections":40,"max_connections":"infinity","running":true}}],"status":{"current_connections":71,"max_connections":"infinity","running":true},"type":"ssl"}],"schema":{"items":{"$ref":"#/components/schemas/listeners.listener_type_status"},"type":"array"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listeners"]}},"/monitor":{"get":{"description":"List monitor data.","parameters":[{"description":"The latest N seconds data. Like 300 for 5 min.","example":300,"in":"query","name":"latest","required":false,"schema":{"minimum":1,"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/emqx_dashboard_monitor_api.sampler"},"type":"array"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_RPC"],"type":"string"},"message":{"description":"Bad RPC","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Metrics"]}},"/gateway/{name}/listeners/{id}/authentication/users/{uid}":{"delete":{"deprecated":true,"description":"\u5220\u9664\u7528\u6237\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Delete User","tags":["Gateway Listeners"]},"get":{"deprecated":true,"description":"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Get User Info","tags":["Gateway Listeners"]},"put":{"deprecated":true,"description":"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\uff08\u4ec5\u652f\u6301 built_in_database \u7c7b\u578b\u7684\u8ba4\u8bc1\u5668\uff09","parameters":[{"description":"\u7f51\u5173\u540d\u79f0.<br/><br/>\u53ef\u53d6\u503c\u4e3a `stomp`\u3001`mqttsn`\u3001`coap`\u3001`lwm2m`\u3001`exproto`","example":"stomp","in":"path","name":"name","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID","example":"","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u7528\u6237 ID","example":"","in":"path","name":"uid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Update regular user","value":{"password":"newsecret"}},"super_user":{"summary":"Update user and promote to superuser","value":{"is_superuser":true,"password":"newsecret"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_update"}}}},"responses":{"200":{"description":"","content":{"application/json":{"example":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND","RESOURCE_NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"summary":"Update User Info","tags":["Gateway Listeners"]}},"/logout":{"post":{"description":"Dashboard \u7528\u6237\u767b\u51fa","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"properties":{"username":{"description":"Dashboard \u7528\u6237\u540d","example":"admin","maxLength":100,"type":"string"}},"type":"object"}}}},"responses":{"204":{"description":"Dashboard logout successfully"},"401":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_USERNAME_OR_PWD"],"type":"string"},"message":{"description":"\u767b\u5f55\u5931\u8d25\u3002\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Dashboard"]}},"/authorization/sources/built_in_database/rules/all":{"delete":{"description":"\u5220\u9664 `all` \u89c4\u5219","parameters":[],"responses":{"204":{"description":"Deleted"}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"get":{"description":"\u5217\u51fa\u4e3a\u6240\u6709\u5ba2\u6237\u7aef\u542f\u7528\u7684\u89c4\u5219\u5217\u8868","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"All","value":{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]},"post":{"description":"\u521b\u5efa/\u66f4\u65b0 \u4e3a\u6240\u6709\u5ba2\u6237\u7aef\u542f\u7528\u7684\u89c4\u5219\u5217\u8868\u3002","parameters":[],"requestBody":{"content":{"application/json":{"examples":{"password_based:built_in_database":{"summary":"All","value":{"rules":[{"action":"publish","permission":"allow","topic":"test/toopic/1"},{"action":"subscribe","permission":"allow","topic":"test/toopic/2"},{"action":"all","permission":"deny","topic":"eq test/#"}]}}},"schema":{"$ref":"#/components/schemas/emqx_authz_api_mnesia.rules"}}}},"responses":{"204":{"description":"Updated"},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad rule schema","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Authorization"]}},"/listeners/{listener_id}/authentication/{id}/users":{"get":{"description":"\u5217\u51fa\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u6307\u5b9a\u8ba4\u8bc1\u5668\u4e2d\u7684\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}},{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"$ref":"#/components/parameters/public.page"},{"$ref":"#/components/parameters/public.limit"},{"description":"\u662f\u5426\u662f\u8d85\u7ea7\u7528\u6237","in":"query","name":"is_superuser","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"example":{"data":[{"user_id":"user1"},{"is_superuser":true,"user_id":"user2"}],"meta":{"count":300,"limit":20,"page":0}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_users"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]},"post":{"description":"\u4e3a\u76d1\u542c\u5668\u8ba4\u8bc1\u94fe\u4e0a\u7684\u6307\u5b9a\u8ba4\u8bc1\u5668\u521b\u5efa\u7528\u6237\u6570\u636e\u3002","parameters":[{"description":"\u8ba4\u8bc1\u5668 ID\u3002","in":"path","name":"id","required":true,"schema":{"type":"string"}},{"description":"\u76d1\u542c\u5668 ID\u3002","example":"tcp:default","in":"path","name":"listener_id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"password":"secret","user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"password":"secret","user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.request_user_create"}}}},"responses":{"201":{"description":"","content":{"application/json":{"examples":{"regular_user":{"summary":"Regular user","value":{"user_id":"user1"}},"super_user":{"summary":"Superuser","value":{"is_superuser":true,"user_id":"user2"}}},"schema":{"$ref":"#/components/schemas/emqx_authn_api.response_user"}}}},"400":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["BAD_REQUEST"],"type":"string"},"message":{"description":"Bad Request","type":"string"}},"type":"object"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["NOT_FOUND"],"type":"string"},"message":{"description":"Not Found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Listener Authentication"]}},"/clients/{clientid}/keepalive":{"put":{"description":"Set the online client keepalive by seconds","parameters":[{"in":"path","name":"clientid","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.keepalive"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/emqx_mgmt_api_clients.client"}}}},"404":{"description":"","content":{"application/json":{"schema":{"properties":{"code":{"enum":["CLIENTID_NOT_FOUND"],"type":"string"},"message":{"description":"Client ID not found","type":"string"}},"type":"object"}}}}},"security":[{"basicAuth":[]},{"bearerAuth":[]}],"tags":["Clients"]}}},"servers":[{"url":"/api/v5"}]}